(self.webpackChunkWebMagazineFront=self.webpackChunkWebMagazineFront||[]).push([[747],{5747:(O,N,p)=>{"use strict";p.r(N),p.d(N,{NewsletterModule:()=>Tn});var d=p(6895),h=p(7789);class Z{constructor(){this.id="",this.posicion="",this.url=""}}class T{constructor(){this.id="",this.htmlPodcast="",this.htmlTwitter="",this.htmlTwitter2="",this.htmlTwitter3=""}}var e=p(4650),g=p(4004),m=p(529),v=p(6362);new m.WM({"Content-Type":"application/json"});let l=(()=>{class n{constructor(t){this.http=t,this.endpoint=v.N.urlAPI}getPublicaciones(){return this.http.get(this.endpoint+"/publicaciones").pipe((0,g.U)(t=>t._embedded.publicaciones))}getPublicacionesRecientes(){return this.http.get(this.endpoint+"/publicaciones/search/publicacionesRecientes").pipe((0,g.U)(t=>t._embedded.publicaciones))}getPublicacionesRecientesFree(){return this.http.get(this.endpoint+"/publicaciones/search/publicacionesRecientesFree").pipe((0,g.U)(t=>t._embedded.publicaciones))}getPublicacionesDestacadas(){return this.http.get(this.endpoint+"/publicaciones/search/publicacionesDestacadas").pipe((0,g.U)(t=>t._embedded.publicaciones))}postPublicacion(t){return this.http.post(this.endpoint+"/publicaciones/search/postPublicacion",t).pipe((0,g.U)(i=>i.publicacion))}getId(t){let o=t._links.self.href.split("/");return o[o.length-1]}getAutorFromPublicacion(t){return this.http.get(t._links.autor.href)}getTagsFromPublicacion(t){return this.http.get(t._links.tags.href).pipe((0,g.U)(i=>i._embedded.tags))}getCategoriaFromPublicacion(t){return this.http.get(t._links.categoria.href)}getLugarFromPublicacion(t){return this.http.get(t._links.lugar.href)}getPublicacion(t){return this.http.get(this.endpoint+"/publicaciones/search/publicacionByTitulo/"+t)}getPublicacionFree(t){return this.http.get(this.endpoint+"/publicaciones/search/publicacionByTituloFree/"+t)}getPublicacionById(t){return this.http.get(this.endpoint+"/publicaciones/"+t)}deletePublicacion(t){return this.http.delete(this.endpoint+"/publicaciones/"+t)}patchPublicacion(t){return this.http.patch(this.endpoint+"/publicaciones/search/patchPublicacion",t)}getPublicacionesCerca(t,i){return this.http.get(this.endpoint+"/publicaciones/search/publicacionesCerca/"+t+"/"+i).pipe((0,g.U)(o=>o._embedded.publicaciones))}getPublicacionesRelacionadas(t){return this.http.get(this.endpoint+"/publicaciones/search/publicacionesRelacionadas/"+t).pipe((0,g.U)(i=>i._embedded.publicaciones))}getPublicacionesByTag(t){return this.http.get(this.endpoint+"/publicaciones/search/publicacionesByTag/"+t).pipe((0,g.U)(i=>i._embedded.publicaciones))}getPublicacionesByLugar(t){return this.http.get(this.endpoint+"/publicaciones/search/publicacionesByLugar/"+t).pipe((0,g.U)(i=>i._embedded.publicaciones))}getPublicacionesByCategoria(t){return this.http.get(this.endpoint+"/publicaciones/search/publicacionesCategoria/"+t).pipe((0,g.U)(i=>i._embedded.publicaciones))}getPublicacionesCarousel(){return this.http.get(this.endpoint+"/publicaciones/search/publicacionesCarousel").pipe((0,g.U)(t=>t._embedded.publicaciones))}getPublicacionesNoCarousel(){return this.http.get(this.endpoint+"/publicaciones/search/publicacionesNoCarousel").pipe((0,g.U)(t=>t._embedded.publicaciones))}getPublicacionesBuscador(t){return this.http.get(this.endpoint+"/publicaciones/search/buscar-publicaciones?palabrasClave="+t[0]+","+t[1]+","+t[2]+","+t[3]+","+t[4]+","+t[5]).pipe((0,g.U)(i=>i._embedded.publicaciones))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(m.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var u=p(7270);let f=(()=>{class n{constructor(t){this.http=t,this.endpoint=v.N.urlAPI}getLateral(){return this.http.get(this.endpoint+"/laterales/1")}getId(t){let o=t._links.self.href.split("/");return o[o.length-1]}postLateral(t){return this.http.post(this.endpoint+"/laterales",t)}patchLateral(t){return this.http.patch(this.endpoint+"/laterales/1",t)}deleteLateral(){return this.http.delete(this.endpoint+"/laterales/1")}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(m.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var r=p(4006);class _{constructor(){this.id="",this.lugarNombre=""}}class M{constructor(){this.id="",this.titulo="",this.subtitulo="",this.htmlPublicacion="",this.premium=!1,this.destacado=!1,this.carousel=!1,this.bloques=[],this.fechaPublicacion="",this.likesRecibidos=[],this.cafes=[],this.tags=[],this.imagenPreviewUrl="",this.lugar=new _,this.letraOscura=!1}}function E(n,c){if(1&n&&(e.TgZ(0,"p",13)(1,"b"),e._uU(2),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(t.publicacion.categoria.categoriaNombre)}}function q(n,c){if(1&n&&(e.TgZ(0,"p",14),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.lnq("Por ",t.publicacion.autor.nombre," ",t.publicacion.autor.apellido1," ",t.publicacion.autor.apellido2,"")}}let x=(()=>{class n{constructor(){this.publicacion=new M,this.tituloUrl=""}ngOnInit(){this.tituloUrl=this.publicacion.titulo.replaceAll(" ","-")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-publicacion"]],inputs:{publicacion:"publicacion"},decls:15,vars:6,consts:[[1,"publicacion-preview"],[1,"btn",3,"href"],[1,"card-image","mb-2"],["alt","",1,"img-card","img-fluid","w-100",3,"src"],[1,"categoria-container"],["class","categoria",4,"ngIf"],[1,"card-body","p-0"],[2,"display","block"],[1,"card-title","my-2"],[1,"divisor"],[1,"card-text-container"],[1,"card-text","my-3"],["class","card-text autor",4,"ngIf"],[1,"categoria"],[1,"card-text","autor"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"a",1)(2,"div",2),e._UZ(3,"img",3),e.TgZ(4,"div",4),e.YNc(5,E,3,1,"p",5),e.qZA()(),e.TgZ(6,"div",6)(7,"div",7)(8,"h5",8),e._uU(9),e.qZA(),e._UZ(10,"hr",9),e.TgZ(11,"div",10)(12,"p",11),e._uU(13),e.qZA(),e.YNc(14,q,2,3,"p",12),e.qZA()()()()()),2&t&&(e.xp6(1),e.MGl("href","publicaciones/",i.tituloUrl,"",e.LSH),e.xp6(2),e.s9C("src",i.publicacion.imagenPreviewUrl,e.LSH),e.xp6(2),e.Q6J("ngIf",i.publicacion.categoria),e.xp6(4),e.Oqu(i.publicacion.titulo),e.xp6(4),e.Oqu(i.publicacion.subtitulo),e.xp6(1),e.Q6J("ngIf",i.publicacion.autor))},dependencies:[d.O5],styles:[".card-image[_ngcontent-%COMP%]{box-shadow:2px 2px 10px #666;background-color:#ff6d00;border-radius:0}.img-card[_ngcontent-%COMP%]{transform:rotate(-3deg)}.publicacion-preview[_ngcontent-%COMP%]{border-radius:0;height:-moz-fit-content;height:fit-content}.card-title[_ngcontent-%COMP%]{height:-moz-fit-content!important;height:fit-content!important;text-align:left}.card-text[_ngcontent-%COMP%]{text-align:left;font-size:small}.card-title[_ngcontent-%COMP%]:hover{opacity:.5;color:#f7a203}hr[_ngcontent-%COMP%]{color:#ff6d00;border-width:1.5px}.categoria[_ngcontent-%COMP%]{transform:rotate(-3deg);position:absolute;top:5%;font-size:x-small;background-color:orange;border-radius:15px;height:1rem;width:-moz-fit-content;width:fit-content;cursor:pointer;cursor:hand;padding-left:8px;padding-right:8px;margin:auto}.autor[_ngcontent-%COMP%]{font-size:small;font-style:italic}"]}),n})();function S(n,c){if(1&n&&e._UZ(0,"img",64),2&n){const t=e.oxw();e.s9C("src",t.imagenInicioIzquierda.url,e.LSH)}}function w(n,c){1&n&&e._UZ(0,"button",65)}function W(n,c){1&n&&e._UZ(0,"button",66)}function ee(n,c){1&n&&e._UZ(0,"button",67)}function te(n,c){1&n&&e._UZ(0,"button",68)}function ie(n,c){1&n&&e._UZ(0,"button",69)}function ne(n,c){1&n&&e._UZ(0,"button",70)}function oe(n,c){if(1&n&&(e.TgZ(0,"h5",78)(1,"b"),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.titulo)}}function ae(n,c){if(1&n&&(e.TgZ(0,"p",79)(1,"b"),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.subtitulo)}}function ce(n,c){if(1&n&&(e.TgZ(0,"h5",80)(1,"b"),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.titulo)}}function re(n,c){if(1&n&&(e.TgZ(0,"p",81)(1,"b"),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.subtitulo)}}function se(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",71)(1,"img",72),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.getPublicacionUrl(a.titulo))}),e.qZA(),e.TgZ(2,"div",73),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.getPublicacionUrl(a.titulo))}),e.YNc(3,oe,3,1,"h5",74),e.YNc(4,ae,3,1,"p",75),e.YNc(5,ce,3,1,"h5",76),e.YNc(6,re,3,1,"p",77),e.qZA()()}if(2&n){const t=c.$implicit;e.xp6(1),e.s9C("src",t.imagenPreviewUrl,e.LSH),e.xp6(2),e.Q6J("ngIf",!t.letraOscura),e.xp6(1),e.Q6J("ngIf",!t.letraOscura),e.xp6(1),e.Q6J("ngIf",t.letraOscura),e.xp6(1),e.Q6J("ngIf",t.letraOscura)}}function le(n,c){if(1&n&&e._UZ(0,"img",82),2&n){const t=e.oxw();e.s9C("src",t.imagenInicioDerecha.url,e.LSH)}}function ue(n,c){if(1&n&&(e.TgZ(0,"div",83),e._UZ(1,"app-publicacion",84),e.qZA()),2&n){const t=c.$implicit;e.xp6(1),e.Q6J("publicacion",t)}}function pe(n,c){if(1&n&&(e.TgZ(0,"div",83),e._UZ(1,"app-publicacion",84),e.qZA()),2&n){const t=c.$implicit;e.xp6(1),e.Q6J("publicacion",t)}}let de=(()=>{class n{constructor(t,i,o,a){this.publicacionesService=t,this.imagenesService=i,this.router=o,this.lateralService=a,this.publicaciones=[],this.publicacionesDestacadas=[],this.publicacionesCarousel=[],this.urlImagenLateralDerecha="",this.imagenInicioDerecha=new Z,this.imagenInicioIzquierda=new Z,this.imagenInicioCentral=new Z,this.tituloUrl="",this.lateral=new T,this.palabrasClave="",this.rol=""}ngOnInit(){this.getLateral(),this.getImagenesInicio(),this.rol=sessionStorage.getItem("rol"),"ROLE_ADMIN"==this.rol||"ROLE_WRITTER"==this.rol||"ROLE_USER_SUSCRIBED"==this.rol||"ROLE_USER_MEMBER"==this.rol?this.getPublicacionesRecientes():this.getPublicacionesRecientesFree(),this.getPublicacionesDestacadas(),this.getPublicacionesCarousel()}getPublicacionesRecientes(){this.publicaciones=[],this.publicacionesService.getPublicacionesRecientes().subscribe(t=>{this.publicaciones=t,this.publicaciones.forEach(i=>{i.id=this.publicacionesService.getId(i),this.publicacionesService.getCategoriaFromPublicacion(i).subscribe(o=>{i.categoria=o,this.publicacionesService.getAutorFromPublicacion(i).subscribe(a=>{i.autor=a})})})})}getPublicacionesRecientesFree(){this.publicaciones=[],this.publicacionesService.getPublicacionesRecientesFree().subscribe(t=>{this.publicaciones=t,this.publicaciones.forEach(i=>{i.id=this.publicacionesService.getId(i),this.publicacionesService.getCategoriaFromPublicacion(i).subscribe(o=>{i.categoria=o,this.publicacionesService.getAutorFromPublicacion(i).subscribe(a=>{i.autor=a})})})})}getPublicacionesDestacadas(){this.publicacionesDestacadas=[],this.publicacionesService.getPublicacionesDestacadas().subscribe(t=>{this.publicacionesDestacadas=t,this.publicacionesDestacadas.forEach(i=>{i.id=this.publicacionesService.getId(i),this.publicacionesService.getCategoriaFromPublicacion(i).subscribe(o=>{i.categoria=o,this.publicacionesService.getAutorFromPublicacion(i).subscribe(a=>{i.autor=a})})})})}getPublicacionesCarousel(){this.publicacionesService.getPublicacionesCarousel().subscribe(t=>{this.publicacionesCarousel=t,this.publicacionesCarousel.forEach(i=>{i.id=this.publicacionesService.getId(i),i.subtitulo=i.subtitulo.substring(0,160)+"..."})})}getImagenesInicio(){this.imagenesService.getImagenesInicio().subscribe(t=>{t.forEach(i=>{"derecha"==i.posicion&&(this.imagenInicioDerecha=i),"izquierda"==i.posicion&&(this.imagenInicioIzquierda=i),"centro"==i.posicion&&(this.imagenInicioCentral=i)})})}getPublicacionUrl(t){let i="/publicaciones/"+t.replaceAll(" ","-");this.router.navigate([i])}getLateral(){this.lateralService.getLateral().subscribe(t=>{this.lateral=t,this.showHtmlPodcast(),this.showHtmlPodcastSM(),this.showHtmlTwitter(),this.showHtmlTwitter2(),this.showHtmlTwitter3()})}showHtmlTwitter(){var t=document.querySelector("#twitter"),i=document.createElement("div");i.classList.add("twitter-tweet"),i.innerHTML=this.lateral.htmlTwitter,t?.appendChild(i)}showHtmlTwitter2(){var t=document.querySelector("#twitter2"),i=document.createElement("div");i.classList.add("twitter-tweet"),i.innerHTML=this.lateral.htmlTwitter2,t?.appendChild(i)}showHtmlTwitter3(){var t=document.querySelector("#twitter3"),i=document.createElement("div");i.classList.add("twitter-tweet"),i.innerHTML=this.lateral.htmlTwitter3,t?.appendChild(i),twttr.widgets.load()}showHtmlPodcast(){var t=document.querySelector("#podcast"),i=document.createElement("div");i.innerHTML=this.lateral.htmlPodcast,t?.appendChild(i),console.log(i.innerHTML)}showHtmlPodcastSM(){var t=document.querySelector("#podcastSM"),i=document.createElement("div");i.innerHTML=this.lateral.htmlPodcast,t?.appendChild(i),console.log(i.innerHTML)}buscarPublicacionesPorPalabras(){console.log(this.palabrasClave);let t=this.palabrasClave.split(" ");const i=`/publicaciones-buscador/?palabrasClave=${encodeURIComponent(JSON.stringify(t))}`;this.router.navigateByUrl(i)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l),e.Y36(u.j),e.Y36(h.F0),e.Y36(f))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-publicaciones"]],decls:84,vars:13,consts:[[1,"inicio-container"],[1,"inicio","row","p-0","m-0"],[1,"promo","d-none","d-sm-block","col-sm-3","p-0","m-0"],["href","/ecommerce"],["alt","","class","w-100 p-0 m-0",3,"src",4,"ngIf"],[1,"carrusel","col-12","col-sm-6","p-0","m-0"],["id","carouselExampleCaptions","data-bs-ride","carousel",1,"carousel","slide"],[1,"carousel-indicators"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","0","aria-current","true","aria-label","Slide 1",1,"active"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","1","aria-label","Slide 2"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","2","aria-label","Slide 3"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","3","aria-label","Slide 4",4,"ngIf"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","4","aria-label","Slide 5",4,"ngIf"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","5","aria-label","Slide 6",4,"ngIf"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","6","aria-label","Slide 7",4,"ngIf"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","7","aria-label","Slide 8",4,"ngIf"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","8","aria-label","Slide 9",4,"ngIf"],[1,"carousel-inner"],["data-bs-interval","3500",1,"carousel-item","active"],["alt","...",1,"d-block","w-100","p-0","m-0",3,"src"],[1,"carousel-caption","rrss"],[1,"row","align-items-center","mt-1"],[1,"col-1"],[1,"col-2","col-sm-1","my-1","mx-2"],["href","https://www.facebook.com/elisabethgiborra"],["src","../../../../assets/facebookIcon.png","alt","",1,"icono-rrss"],["href","https://www.instagram.com/vermu.torero/"],["src","../../../../assets/instagramIcon.png","alt","",1,"icono-rrss"],["href","http://es.linkedin.com/in/elisabethgiborra"],["src","../../../../assets/linkedinIcon.png","alt","",1,"icono-rrss"],["href","https://twitter.com/elisabethiborra"],["src","../../../../assets/twitterIcon.png","alt","",1,"icono-rrss"],["class","carousel-item","data-bs-interval","3500",4,"ngFor","ngForOf"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],["href","/suscripcion"],["alt","","class","img-fluid p-0 m-0",3,"src",4,"ngIf"],["id","podcastSM",1,"col-12","d-md-none","row","podcastSM","m-1","mt-3"],[1,"row","titulo-podcast"],[1,"zona-articulos","row"],[1,"col-12","col-md-8","col-lg-9"],[1,"py-1","mx-4"],[1,"row","mx-2","my-2"],[1,"recientes","row","align-items-start"],["class","card col-12 col-sm-6 col-lg-3 col-xxl-3",4,"ngFor","ngForOf"],["id","editor","hidden",""],[1,"my-1","py-4","mx-4"],[1,"row","mx-2","my-1"],[1,"destacados","row","align-items-start"],[1,"d-none","d-md-block","col-md-4","col-lg-3","mb-3"],["id","podcast",1,"row","podcast"],[1,"row","buscador"],[1,"row","titulo-buscador"],["role","search",1,"d-flex"],["placeholder","Buscar","aria-label","Buscar","id","palabrasClave","name","palabrasClave",1,"form-control","me-2","input-buscador",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-outline-light","btn-sm",3,"click"],[1,"row","twitter"],[1,"row","titulo-twitter"],["id","twitter",1,"col-12"],["id","twitter2",1,"col-12"],["id","twitter3",1,"col-12"],["alt","",1,"w-100","p-0","m-0",3,"src"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","3","aria-label","Slide 4"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","4","aria-label","Slide 5"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","5","aria-label","Slide 6"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","6","aria-label","Slide 7"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","7","aria-label","Slide 8"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","8","aria-label","Slide 9"],["data-bs-interval","3500",1,"carousel-item"],["alt","...",1,"d-block","w-100",3,"src","click"],[1,"carousel-caption",3,"click"],["class","letra-blanca texto-titulo",4,"ngIf"],["class","letra-blanca texto-carousel d-none d-md-block",4,"ngIf"],["class","letra-negra texto-titulo",4,"ngIf"],["class","letra-negra texto-carousel d-none d-md-block",4,"ngIf"],[1,"letra-blanca","texto-titulo"],[1,"letra-blanca","texto-carousel","d-none","d-md-block"],[1,"letra-negra","texto-titulo"],[1,"letra-negra","texto-carousel","d-none","d-md-block"],["alt","",1,"img-fluid","p-0","m-0",3,"src"],[1,"card","col-12","col-sm-6","col-lg-3","col-xxl-3"],[3,"publicacion"]],template:function(t,i){1&t&&(e.TgZ(0,"section",0)(1,"section",1)(2,"section",2)(3,"a",3),e.YNc(4,S,1,1,"img",4),e.qZA()(),e.TgZ(5,"section",5)(6,"div",6)(7,"div",7),e._UZ(8,"button",8)(9,"button",9)(10,"button",10),e.YNc(11,w,1,0,"button",11),e.YNc(12,W,1,0,"button",12),e.YNc(13,ee,1,0,"button",13),e.YNc(14,te,1,0,"button",14),e.YNc(15,ie,1,0,"button",15),e.YNc(16,ne,1,0,"button",16),e.qZA(),e.TgZ(17,"div",17)(18,"div",18),e._UZ(19,"img",19),e.TgZ(20,"section",20)(21,"div",21),e._UZ(22,"div",22),e.TgZ(23,"div",23)(24,"a",24),e._UZ(25,"img",25),e.qZA()(),e.TgZ(26,"div",23)(27,"a",26),e._UZ(28,"img",27),e.qZA()(),e.TgZ(29,"div",23)(30,"a",28),e._UZ(31,"img",29),e.qZA()(),e.TgZ(32,"div",23)(33,"a",30),e._UZ(34,"img",31),e.qZA()()()()(),e.YNc(35,se,7,5,"div",32),e.qZA(),e.TgZ(36,"button",33),e._UZ(37,"span",34),e.TgZ(38,"span",35),e._uU(39,"Previous"),e.qZA()(),e.TgZ(40,"button",36),e._UZ(41,"span",37),e.TgZ(42,"span",35),e._uU(43,"Next"),e.qZA()()()(),e.TgZ(44,"section",2)(45,"a",38),e.YNc(46,le,1,1,"img",39),e.qZA()()()(),e.TgZ(47,"div",40)(48,"h5",41),e._uU(49,"Podcast"),e.qZA()(),e.TgZ(50,"section",42)(51,"div",43)(52,"section",44)(53,"h3",45)(54,"b"),e._uU(55,"Ultimos art\xedculos"),e.qZA()(),e._UZ(56,"hr"),e.TgZ(57,"div",46),e.YNc(58,ue,2,1,"div",47),e._UZ(59,"div",48),e.qZA()(),e.TgZ(60,"section",49)(61,"h3",50)(62,"b"),e._uU(63,"Destacados"),e.qZA()(),e._UZ(64,"hr"),e.TgZ(65,"div",51),e.YNc(66,pe,2,1,"div",47),e.qZA()()(),e.TgZ(67,"div",52)(68,"div",53)(69,"h5",41),e._uU(70,"Podcast"),e.qZA()(),e.TgZ(71,"div",54)(72,"h5",55),e._uU(73,"Buscador de art\xedculos"),e.qZA(),e.TgZ(74,"form",56)(75,"input",57),e.NdJ("ngModelChange",function(a){return i.palabrasClave=a}),e.qZA(),e.TgZ(76,"button",58),e.NdJ("click",function(){return i.buscarPublicacionesPorPalabras()}),e._uU(77,"Buscar"),e.qZA()()(),e.TgZ(78,"div",59)(79,"h5",60),e._uU(80,"Twitter"),e.qZA(),e._UZ(81,"div",61)(82,"div",62)(83,"div",63),e.qZA()()()),2&t&&(e.xp6(4),e.Q6J("ngIf",i.imagenInicioIzquierda.url),e.xp6(7),e.Q6J("ngIf",i.publicacionesCarousel[2]),e.xp6(1),e.Q6J("ngIf",i.publicacionesCarousel[3]),e.xp6(1),e.Q6J("ngIf",i.publicacionesCarousel[3]),e.xp6(1),e.Q6J("ngIf",i.publicacionesCarousel[5]),e.xp6(1),e.Q6J("ngIf",i.publicacionesCarousel[6]),e.xp6(1),e.Q6J("ngIf",i.publicacionesCarousel[7]),e.xp6(3),e.s9C("src",i.imagenInicioCentral.url,e.LSH),e.xp6(16),e.Q6J("ngForOf",i.publicacionesCarousel),e.xp6(11),e.Q6J("ngIf",i.imagenInicioDerecha.url),e.xp6(12),e.Q6J("ngForOf",i.publicaciones),e.xp6(8),e.Q6J("ngForOf",i.publicacionesDestacadas),e.xp6(9),e.Q6J("ngModel",i.palabrasClave))},dependencies:[d.sg,d.O5,r._Y,r.Fj,r.JJ,r.JL,r.On,r.F,x],styles:[".inicio[_ngcontent-%COMP%]{background-color:#000}.card[_ngcontent-%COMP%]{margin:0 auto;border-radius:0;border-style:none;display:inline-flex}.inicio-container[_ngcontent-%COMP%]{margin-top:2%}.letra-blanca[_ngcontent-%COMP%]{color:#fff}.letra-blanca[_ngcontent-%COMP%]:hover{opacity:1;color:#f7c15d}.letra-negra[_ngcontent-%COMP%]{color:#000}.letra-negra[_ngcontent-%COMP%]:hover{opacity:1;color:#7a5003}.rrss[_ngcontent-%COMP%]{position:absolute;top:70%;left:5%}.icono-rrss[_ngcontent-%COMP%]{width:200%}.naranja[_ngcontent-%COMP%]{background-color:#000;height:20px}.promo[_ngcontent-%COMP%]{box-shadow:2px 2px 10px #666}hr[_ngcontent-%COMP%]{color:#ff6d00;border-width:2px}.carrusel[_ngcontent-%COMP%]{box-shadow:2px 2px 10px #666}.recientes[_ngcontent-%COMP%], .destacados[_ngcontent-%COMP%]{height:auto;display:inline-block}.publicacion[_ngcontent-%COMP%]{height:auto;display:flex}app-publicacion[_ngcontent-%COMP%]{display:inline-flex}.podcast[_ngcontent-%COMP%]{margin-top:15%;margin-right:10%;background-color:#fff;padding:3%;border-style:ridge;border-color:#000;border-width:1px;box-shadow:2px 2px 10px #666;height:-moz-fit-content;height:fit-content}.buscador[_ngcontent-%COMP%]{margin-top:5%;margin-right:10%;background-color:#ff6d00;padding:3%;border-style:ridge;border-color:#000;border-width:1px;box-shadow:2px 2px 10px #666}.titulo-buscador[_ngcontent-%COMP%]{color:#fff}.twitter[_ngcontent-%COMP%]{margin-top:5%;margin-right:10%;padding:3%;border-style:ridge;border-color:#000;border-width:1px;box-shadow:2px 2px 10px #666;height:-moz-fit-content;height:fit-content}.recomendaciones[_ngcontent-%COMP%]{margin-top:5%;margin-right:10%;padding:5%;border-style:ridge;border-color:#000;border-width:1px;box-shadow:2px 2px 10px #666;height:40%}.boton-login[_ngcontent-%COMP%]{justify-self:right}.titulo-podcast[_ngcontent-%COMP%], .titulo-twitter[_ngcontent-%COMP%], .titulo-publicaciones-lateral[_ngcontent-%COMP%]{color:#ff6d00}.input-buscador[_ngcontent-%COMP%]{width:80%}.carousel-caption[_ngcontent-%COMP%]{opacity:0;transform:translateY(100%)}.carousel-item.active[_ngcontent-%COMP%]   .carousel-caption[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slide-up .8s 1s forwards}.carousel-item[_ngcontent-%COMP%]   .carousel-caption[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slide-down 0s forwards}@keyframes _ngcontent-%COMP%_slide-up{0%{opacity:0;transform:translateY(100%)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slide-down{0%{opacity:1;transform:translateY(0)}50%{opacity:0;transform:translateY(-50%)}to{opacity:0;transform:translateY(100%)}}@keyframes _ngcontent-%COMP%_slidein{0%{transform:translateY(100%)}to{transform:translateY(0)}}@media (max-width: 40em){.letra-blanca[_ngcontent-%COMP%], .letra-negra[_ngcontent-%COMP%]{font-size:1em}.rrss[_ngcontent-%COMP%]{position:absolute;top:70%;left:5%}.icono-rrss[_ngcontent-%COMP%]{width:80%}.titulo-buscador[_ngcontent-%COMP%]{font-size:2vw}.boton-buscador[_ngcontent-%COMP%]{width:20%}}@media (min-width: 41em){.texto-carousel[_ngcontent-%COMP%]{font-size:small}.texto-titulo[_ngcontent-%COMP%]{font-size:medium}.boton-buscador[_ngcontent-%COMP%]{width:20%}.inicio-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.inicio[_ngcontent-%COMP%]{width:80%;margin:auto}}@media (min-width: 80em){.inicio[_ngcontent-%COMP%]{width:80%;margin:auto}.inicio-container[_ngcontent-%COMP%]{display:flex;justify-content:center}}"]}),n})(),F=(()=>{class n{constructor(t){this.http=t,this.endpoint=v.N.urlAPI}getLugares(){return this.http.get(this.endpoint+"/lugares").pipe((0,g.U)(t=>t._embedded.lugares))}getId(t){let o=t._links.self.href.split("/");return o[o.length-1]}postLugar(t){return this.http.post(this.endpoint+"/lugares",t)}patchLugar(t){return this.http.patch(this.endpoint+"/lugares/"+t.id,t)}deleteLugar(t){return this.http.delete(this.endpoint+"/lugares/"+t.id)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(m.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),L=(()=>{class n{constructor(t){this.http=t,this.endpoint=v.N.urlAPI}getTags(){return this.http.get(this.endpoint+"/tags").pipe((0,g.U)(t=>t._embedded.tags))}getId(t){let o=t._links.self.href.split("/");return o[o.length-1]}postTag(t){return this.http.post(this.endpoint+"/tags",t)}patchTag(t){return this.http.patch(this.endpoint+"/tags/"+t.id,t)}deleteTag(t){return this.http.delete(this.endpoint+"/tags/"+t.id)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(m.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),A=(()=>{class n{constructor(t){this.http=t,this.endpoint=v.N.urlAPI}getCategorias(){return this.http.get(this.endpoint+"/categorias").pipe((0,g.U)(t=>t._embedded.categorias))}getCategoria(t){return this.http.get(this.endpoint+"/categorias/"+t)}getCategoriaByCategoriaNombre(t){return this.http.get(this.endpoint+"/categorias/search/categoriaByCategoriaNombre/"+t)}getId(t){let o=t._links.self.href.split("/");return o[o.length-1]}postCategoria(t){return this.http.post(this.endpoint+"/categorias",t)}patchCategoria(t){return this.http.patch(this.endpoint+"/categorias/"+t.id,t)}deleteCategoria(t){return this.http.delete(this.endpoint+"/categorias/"+t.id)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(m.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ge(n,c){if(1&n&&(e.TgZ(0,"p",64),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.lnq("",t.publicacion.autor.nombre," ",t.publicacion.autor.apellido1," ",t.publicacion.autor.apellido2,"")}}const me=function(n){return[n]};function he(n,c){if(1&n&&(e.TgZ(0,"div",65)(1,"p",66),e._uU(2),e.qZA()()),2&n){const t=c.$implicit;e.Q6J("routerLink",e.VKq(2,me,"/publicaciones-tag/"+t.tagNombre)),e.xp6(2),e.Oqu(t.tagNombre)}}function be(n,c){if(1&n&&(e.TgZ(0,"div",67)(1,"a",68)(2,"div",69)(3,"p",70),e._uU(4),e.qZA()()()()),2&n){const t=e.oxw();e.xp6(1),e.MGl("href","publicaciones-provincia/",t.publicacion.lugar.lugarNombre,"",e.LSH),e.xp6(3),e.hij(" \xa0\xa0",t.publicacion.lugar.lugarNombre,"\xa0\xa0")}}function _e(n,c){if(1&n&&(e.TgZ(0,"a",71),e._uU(1,"Modificar publicaci\xf3n"),e.qZA()),2&n){const t=e.oxw();e.MGl("href","formulario/",t.publicacion.id,"",e.LSH)}}function fe(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"a",72),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.eliminarPublicacion())}),e._uU(1,"Eliminar publicaci\xf3n"),e.qZA()}}function Ce(n,c){1&n&&(e.TgZ(0,"a",73),e._uU(1,"Suscribirme"),e.qZA())}function ve(n,c){if(1&n&&(e.TgZ(0,"div",79),e._UZ(1,"app-publicacion",80),e.qZA()),2&n){const t=c.$implicit;e.xp6(1),e.Q6J("publicacion",t)}}function Ze(n,c){if(1&n&&(e.TgZ(0,"section",74)(1,"div",75)(2,"h5",76),e._uU(3,"Cerca de aqu\xed"),e.qZA()(),e.TgZ(4,"div",77),e.YNc(5,ve,2,1,"div",78),e.qZA()()),2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.publicacionesCerca)}}function Te(n,c){if(1&n&&(e.TgZ(0,"div",79),e._UZ(1,"app-publicacion",80),e.qZA()),2&n){const t=c.$implicit;e.xp6(1),e.Q6J("publicacion",t)}}function xe(n,c){if(1&n&&(e.TgZ(0,"section",81)(1,"div",82)(2,"h5",76),e._uU(3,"Relacionadas"),e.qZA()(),e.TgZ(4,"div",77),e.YNc(5,Te,2,1,"div",78),e.qZA()()),2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.publicacionesRelacionadas)}}let we=(()=>{class n{constructor(t,i,o,a,s,b,I){this.activatedRoute=t,this.publicacionesService=i,this.lugarService=o,this.tagService=a,this.categoriaService=s,this.router=b,this.lateralService=I,this.publicacion=new M,this.titulo="",this.id="",this.publicacionesCerca=[],this.publicacionesRelacionadas=[],this.fechaFormateada="",this.lateral=new T,this.palabrasClave="",this.rol=""}ngOnInit(){this.getTitulo(),this.rol=sessionStorage.getItem("rol"),"ROLE_ADMIN"==this.rol||"ROLE_WRITTER"==this.rol||"ROLE_USER_SUSCRIBED"==this.rol||"ROLE_USER_MEMBER"==this.rol?this.getPublicacion():this.getPublicacionFree(),this.getLateral()}getTitulo(){this.activatedRoute.params.subscribe(t=>{this.titulo=t.titulo.replaceAll("-"," ")})}getPublicacion(){this.publicacionesService.getPublicacion(this.titulo).subscribe(t=>{this.publicacion=t,this.getFechaPublicacion(),this.publicacion.id=this.publicacionesService.getId(t),this.publicacionesService.getAutorFromPublicacion(t).subscribe(i=>{this.publicacion.autor=i}),this.publicacionesService.getTagsFromPublicacion(t).subscribe(i=>{this.publicacion.tags=i,this.publicacion.tags.forEach(o=>{o.id=this.tagService.getId(o)}),this.getPublicacionesRelacionadas()}),this.publicacionesService.getLugarFromPublicacion(t).subscribe(i=>{this.publicacion.lugar=i,this.publicacion.lugar.id=this.lugarService.getId(i),this.getPublicacionesCerca()}),this.publicacionesService.getCategoriaFromPublicacion(t).subscribe(i=>{this.publicacion.categoria=i,this.publicacion.categoria.id=this.categoriaService.getId(i)}),this.publicacion.htmlPublicacion=this.publicacion.htmlPublicacion.replaceAll('<iframe class="ql-video ql-align-center" frameborder="0" allowfullscreen="true" src="https://www.youtube.com','<div class="iframe-container d-flex justify-content-center"><iframe class="ql-video"allowfullscreen="true" tipo="youtube" src="https://www.youtube.com'),this.publicacion.htmlPublicacion=this.publicacion.htmlPublicacion.replaceAll('<iframe class="ql-video ql-align-center" allowfullscreen="true" src="https://www.youtube.com','<div class="iframe-container d-flex justify-content-center"><iframe class="ql-video" allowfullscreen="true" tipo="youtube" src="https://www.youtube.com'),this.publicacion.htmlPublicacion=this.publicacion.htmlPublicacion.replaceAll('<iframe style="border-radius:12px" src="https://open.spotify.com','<div class="iframe-container d-flex justify-content-center"><iframe class="ql-video ql-align-center" allowfullscreen="true" tipo="podcast" src="https://open.spotify.com'),this.publicacion.htmlPublicacion=this.publicacion.htmlPublicacion.replaceAll('<iframe class="ql-video ql-align-center" src="https://open.spotify.com','<div class="iframe-container d-flex justify-content-center"><iframe class="ql-video ql-align-center" allowfullscreen="true" tipo="podcast" src="https://open.spotify.com'),this.publicacion.htmlPublicacion=this.publicacion.htmlPublicacion.replaceAll('<iframe class="ql-video ql-align-center" allowfullscreen="true" src="https://open.spotify.com','<div class="iframe-container d-flex justify-content-center"><iframe class="ql-video ql-align-center" allowfullscreen="true" tipo="podcast" src="https://open.spotify.com'),this.publicacion.htmlPublicacion=this.publicacion.htmlPublicacion.replaceAll('<iframe class="ql-video" src="https://open.spotify.com','<div class="iframe-container d-flex justify-content-center"><iframe class="ql-video ql-align-center" allowfullscreen="true" tipo="podcast" src="https://open.spotify.com'),this.publicacion.htmlPublicacion=this.publicacion.htmlPublicacion.replaceAll('<iframe class="ql-video" allowfullscreen="true" src="https://open.spotify.com','<div class="iframe-container d-flex justify-content-center"><iframe class="ql-video ql-align-center" allowfullscreen="true" tipo="podcast" src="https://open.spotify.com'),this.publicacion.htmlPublicacion=this.publicacion.htmlPublicacion.replaceAll("</iframe>","</iframe></div>"),this.publicacion.htmlPublicacion=this.publicacion.htmlPublicacion.replaceAll('<p class="ql-align-center"><img src="','<p class="ql-align-center imagen-container text-center"><img src="'),this.publicacion.htmlPublicacion=this.publicacion.htmlPublicacion.replaceAll('alt="imagenAlt100">','alt="imagenAlt100"></p>'),this.publicacion.htmlPublicacion=this.publicacion.htmlPublicacion.replaceAll('alt="imagenAlt75">','alt="imagenAlt75"></p>'),this.publicacion.htmlPublicacion=this.publicacion.htmlPublicacion.replaceAll('alt="imagenAlt50">','alt="imagenAlt50"></p>'),this.publicacion.htmlPublicacion=this.publicacion.htmlPublicacion.replaceAll('alt="imagenAlt35">','alt="imagenAlt35"></p>'),this.publicacion.htmlPublicacion=this.publicacion.htmlPublicacion.replaceAll('alt="imagenAlt20">','alt="imagenAlt20"></p>'),this.showPublicacion()})}getPublicacionFree(){this.publicacionesService.getPublicacionFree(this.titulo).subscribe(t=>{this.publicacion=t,this.getFechaPublicacion(),this.publicacion.id=this.publicacionesService.getId(t),this.publicacionesService.getAutorFromPublicacion(t).subscribe(i=>{this.publicacion.autor=i}),this.publicacionesService.getTagsFromPublicacion(t).subscribe(i=>{this.publicacion.tags=i,this.publicacion.tags.forEach(o=>{o.id=this.tagService.getId(o)}),this.getPublicacionesRelacionadas()}),this.publicacionesService.getLugarFromPublicacion(t).subscribe(i=>{this.publicacion.lugar=i,this.publicacion.lugar.id=this.lugarService.getId(i),this.getPublicacionesCerca()}),this.publicacionesService.getCategoriaFromPublicacion(t).subscribe(i=>{this.publicacion.categoria=i,this.publicacion.categoria.id=this.categoriaService.getId(i)}),this.showPublicacion()})}getPublicacionesCerca(){this.publicacionesService.getPublicacionesCerca(this.publicacion.lugar.lugarNombre,this.publicacion.id).subscribe(t=>{this.publicacionesCerca=t,this.publicacionesCerca.forEach(i=>{i.id=this.publicacionesService.getId(i),i.subtitulo=i.subtitulo.substring(0,120)+"...",this.publicacionesService.getCategoriaFromPublicacion(i).subscribe(o=>{i.categoria=o,this.publicacionesService.getAutorFromPublicacion(i).subscribe(a=>{i.autor=a})})})})}getPublicacionesRelacionadas(){this.publicacionesService.getPublicacionesRelacionadas(this.publicacion.id).subscribe(t=>{this.publicacionesRelacionadas=t,this.publicacionesRelacionadas.forEach(i=>{i.id=this.publicacionesService.getId(i),i.subtitulo=i.subtitulo.substring(0,120)+"...",this.publicacionesService.getCategoriaFromPublicacion(i).subscribe(o=>{i.categoria=o,this.publicacionesService.getAutorFromPublicacion(i).subscribe(a=>{i.autor=a})})})})}showPublicacion(){var t=document.querySelector("#body"),i=document.createElement("div");i.innerHTML=this.publicacion.htmlPublicacion,t?.appendChild(i)}eliminarPublicacion(){this.publicacionesService.deletePublicacion(this.publicacion.id).subscribe(t=>{this.router.navigate(["#"])})}getFechaPublicacion(){this.fechaFormateada=this.publicacion.fechaPublicacion.split("T")[0]}getLateral(){this.lateralService.getLateral().subscribe(t=>{this.lateral=t,this.showHtmlTwitter(),this.showHtmlTwitter2(),this.showHtmlTwitter3(),this.showHtmlPodcast(),this.showHtmlPodcastSM()})}showHtmlTwitter(){var t=document.querySelector("#twitter"),i=document.createElement("div");i.classList.add("twitter-tweet"),i.innerHTML=this.lateral.htmlTwitter,t?.appendChild(i)}showHtmlTwitter2(){var t=document.querySelector("#twitter2"),i=document.createElement("div");i.classList.add("twitter-tweet"),i.innerHTML=this.lateral.htmlTwitter2,t?.appendChild(i)}showHtmlTwitter3(){var t=document.querySelector("#twitter3"),i=document.createElement("div");i.classList.add("twitter-tweet"),i.innerHTML=this.lateral.htmlTwitter3,t?.appendChild(i),twttr.widgets.load()}showHtmlPodcast(){var t=document.querySelector("#podcast"),i=document.createElement("div");i.innerHTML=this.lateral.htmlPodcast,t?.appendChild(i),console.log(i.innerHTML)}showHtmlPodcastSM(){var t=document.querySelector("#podcastSM"),i=document.createElement("div");i.innerHTML=this.lateral.htmlPodcast,t?.appendChild(i),console.log(i.innerHTML)}buscarPublicacionesPorPalabras(){console.log(this.palabrasClave);let t=this.palabrasClave.split(" ");const i=`/publicaciones-buscador/?palabrasClave=${encodeURIComponent(JSON.stringify(t))}`;this.router.navigateByUrl(i)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(h.gz),e.Y36(l),e.Y36(F),e.Y36(L),e.Y36(A),e.Y36(h.F0),e.Y36(f))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-publicacion-completa"]],decls:87,vars:11,consts:[[1,"fondo","row","py-3"],[1,"col-12","col-sm-9"],[1,"hoja"],[1,"text-center"],[1,"datos"],[1,"col-12","col-sm-4","columna-autor"],[1,"row","d-flex","align-items-center","autor"],[1,"d-none","d-sm-block","col-sm-3","justify-content-center","align-items-center"],["src","../../../../assets/eli.jpeg","alt","",1,"foto-autor"],["class","autor",4,"ngIf"],[1,"likes-vinos","row","d-flex"],[1,"col-3"],["data-bs-toggle","modal","data-bs-target","#likeModal",1,"likes","col-3","d-flex"],["src","../../../../assets/like.png","alt","like",1,"icono-like"],[1,"numero"],[1,"vinos","col-3","d-flex"],["src","../../../../assets/wine.png","alt","vino",1,"icono-vino"],[1,"col-12","col-sm-5","text-center"],[1,"row","justify-content-center"],["class","tag m-2",3,"routerLink",4,"ngFor","ngForOf"],["class","row d-flex justify-content-center lugar",4,"ngIf"],[1,"col-12","col-sm-3","rrss"],[1,"row","align-items-center","mt-1"],[1,"col-3","col-sm-3","my-1"],["href","https://www.facebook.com/elisabethgiborra"],["src","../../../../assets/facebookIcon.png","alt","",1,"icono-rrss"],["href","https://www.instagram.com/vermu.torero/"],["src","../../../../assets/instagramIcon.png","alt","",1,"icono-rrss"],["href","http://es.linkedin.com/in/elisabethgiborra"],["src","../../../../assets/linkedinIcon.png","alt","",1,"icono-rrss"],["href","https://twitter.com/elisabethiborra"],["src","../../../../assets/twitterIcon.png","alt","",1,"icono-rrss"],["id","body",1,"body"],["class","btn btn-outline-warning m-2","style","width: fit-content;",3,"href",4,"ngIf"],["class","btn btn-outline-danger m-2","style","width: fit-content;",3,"click",4,"ngIf"],["class","btn btn-outline-primary m-2","style","width: fit-content;","href","suscripcion",4,"ngIf"],[1,"d-none","d-sm-block","col-sm-3"],["id","podcast",1,"row","podcast","lateral","mb-4"],[1,"row","titulo-podcast"],[1,"row","buscador","lateral","mb-4"],[1,"row","titulo-buscador"],["role","search",1,"d-flex"],["placeholder","Buscar","aria-label","Buscar","id","palabrasClave","name","palabrasClave",1,"form-control","me-2","input-buscador",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-outline-light","btn-sm",3,"click"],[1,"row","twitter","lateral","mb-4"],[1,"row","titulo-twitter"],["id","twitter",1,"col-12"],["id","twitter2",1,"col-12"],["id","twitter3",1,"col-12"],["class","row lateral mb-4",4,"ngIf"],["class","row lateral mb-3",4,"ngIf"],["id","likeModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row","text-center","m-3"],["href","invitar-vino"],["src","../../../../assets/invitar-vino.png","alt","",1,"invitar-vino","img-fluid"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["data-bs-dismiss","modal",1,"btn","btn-primary"],[1,"autor"],[1,"tag","m-2",3,"routerLink"],[1,"tagNombre"],[1,"row","d-flex","justify-content-center","lugar"],[1,"link",3,"href"],[1,"lugar"],[1,"lugarNombre","text-center"],[1,"btn","btn-outline-warning","m-2",2,"width","fit-content",3,"href"],[1,"btn","btn-outline-danger","m-2",2,"width","fit-content",3,"click"],["href","suscripcion",1,"btn","btn-outline-primary","m-2",2,"width","fit-content"],[1,"row","lateral","mb-4"],[1,"col-12","pt-4"],[1,"titulo-publicaciones-lateral"],[1,"col-12","preview"],["style","display:inline-block;","class","card",4,"ngFor","ngForOf"],[1,"card",2,"display","inline-block"],[3,"publicacion"],[1,"row","lateral","mb-3"],[1,"col-12","mt-4"]],template:function(t,i){1&t&&(e.TgZ(0,"main",0)(1,"section",1)(2,"section",2)(3,"h2",3)(4,"b"),e._uU(5),e.qZA()(),e.TgZ(6,"section",4)(7,"section",5)(8,"div",6)(9,"div",7),e._UZ(10,"img",8),e.qZA(),e.TgZ(11,"div",1),e.YNc(12,ge,2,3,"p",9),e.qZA()(),e.TgZ(13,"div",10),e._UZ(14,"div",11),e.TgZ(15,"div",12),e._UZ(16,"img",13),e.TgZ(17,"p",14)(18,"b"),e._uU(19,"121"),e.qZA()()(),e.TgZ(20,"div",15),e._UZ(21,"img",16),e.TgZ(22,"p",14)(23,"b"),e._uU(24,"23"),e.qZA()()()()(),e.TgZ(25,"section",17)(26,"div",18),e.YNc(27,he,3,4,"div",19),e.qZA(),e.YNc(28,be,5,2,"div",20),e.qZA(),e.TgZ(29,"section",21)(30,"div",22)(31,"div",23)(32,"a",24),e._UZ(33,"img",25),e.qZA()(),e.TgZ(34,"div",23)(35,"a",26),e._UZ(36,"img",27),e.qZA()(),e.TgZ(37,"div",23)(38,"a",28),e._UZ(39,"img",29),e.qZA()(),e.TgZ(40,"div",23)(41,"a",30),e._UZ(42,"img",31),e.qZA()()()()(),e._UZ(43,"hr")(44,"section",32),e.TgZ(45,"div",3)(46,"p"),e._uU(47),e.qZA()(),e.TgZ(48,"div",18),e.YNc(49,_e,2,1,"a",33),e.YNc(50,fe,2,0,"a",34),e.YNc(51,Ce,2,0,"a",35),e.qZA()()(),e.TgZ(52,"section",36)(53,"section",37)(54,"h5",38),e._uU(55,"Podcast"),e.qZA()(),e.TgZ(56,"section",39)(57,"h5",40),e._uU(58,"Buscador de art\xedculos"),e.qZA(),e.TgZ(59,"form",41)(60,"input",42),e.NdJ("ngModelChange",function(a){return i.palabrasClave=a}),e.qZA(),e.TgZ(61,"button",43),e.NdJ("click",function(){return i.buscarPublicacionesPorPalabras()}),e._uU(62,"Buscar"),e.qZA()()(),e.TgZ(63,"section",44)(64,"h5",45),e._uU(65,"Twitter"),e.qZA(),e._UZ(66,"div",46)(67,"div",47)(68,"div",48),e.qZA(),e.YNc(69,Ze,6,1,"section",49),e.YNc(70,xe,6,1,"section",50),e.qZA()(),e.TgZ(71,"div",51)(72,"div",52)(73,"div",53)(74,"div",54)(75,"h1",55),e._uU(76,"\xa1Gracias por darle a Like!"),e.qZA(),e._UZ(77,"button",56),e.qZA(),e.TgZ(78,"div",57)(79,"div",58)(80,"a",59),e._UZ(81,"img",60),e.qZA()()(),e.TgZ(82,"div",61)(83,"button",62),e._uU(84,"Cerrar"),e.qZA(),e.TgZ(85,"button",63),e._uU(86,"Invitar"),e.qZA()()()()()),2&t&&(e.xp6(5),e.Oqu(i.publicacion.titulo),e.xp6(7),e.Q6J("ngIf",i.publicacion.autor),e.xp6(15),e.Q6J("ngForOf",i.publicacion.tags),e.xp6(1),e.Q6J("ngIf",i.publicacion.lugar),e.xp6(19),e.hij("Publicado el ",i.fechaFormateada,""),e.xp6(2),e.Q6J("ngIf","ROLE_ADMIN"==i.rol),e.xp6(1),e.Q6J("ngIf","ROLE_ADMIN"==i.rol),e.xp6(1),e.Q6J("ngIf","ROLE_ADMIN"!==i.rol&&"ROLE_WRITTER"!==i.rol&&"ROLE_USER_MEMBER"!==i.rol&&"ROLE_USER_SUSCRIBED"!==i.rol),e.xp6(9),e.Q6J("ngModel",i.palabrasClave),e.xp6(9),e.Q6J("ngIf",i.publicacionesCerca[0]),e.xp6(1),e.Q6J("ngIf",i.publicacionesRelacionadas[0]))},dependencies:[d.sg,d.O5,h.rH,r._Y,r.Fj,r.JJ,r.JL,r.On,r.F,x],styles:[".hoja[_ngcontent-%COMP%]{background-color:#fff;margin:0% 11% 0% 14%;padding:8%;box-shadow:2px 2px 10px #666}.lateral[_ngcontent-%COMP%]{background-color:#fff;box-shadow:2px 2px 10px #666;margin-right:0%;display:flex}.publicaciones-cerca[_ngcontent-%COMP%]{align-content:start}.card[_ngcontent-%COMP%]{margin-top:2%;margin-bottom:4%;padding-top:0%;display:flex;border-width:1;background-color:#f0f0f0;height:-moz-fit-content!important;height:fit-content!important}.fondo[_ngcontent-%COMP%]{background-color:#cdcdcd;margin-top:0%;margin-bottom:0%;padding-bottom:0%;padding-right:3%}.tag[_ngcontent-%COMP%]{background-color:orange;border-radius:15px;height:1.3rem;width:auto;cursor:pointer;cursor:hand}.tag[_ngcontent-%COMP%]:hover{opacity:.5}.tagNombre[_ngcontent-%COMP%]{font-size:small}.lugar[_ngcontent-%COMP%]{background-color:#a2ebde;border-radius:15px;height:1.3rem;width:-moz-fit-content;width:fit-content;margin:0 auto}.lugar[_ngcontent-%COMP%]:hover{opacity:.5}.lugarNombre[_ngcontent-%COMP%]{font-size:small}.foto-autor[_ngcontent-%COMP%]{width:45px;border-radius:50%}.foto-autor[_ngcontent-%COMP%]:hover, .icono-rrss[_ngcontent-%COMP%]:hover{opacity:.5}.invitar-vino[_ngcontent-%COMP%]{width:15em}.icono-like[_ngcontent-%COMP%]{width:2em;cursor:pointer;cursor:hand}.icono-like[_ngcontent-%COMP%]:hover{opacity:.5}.icono-vino[_ngcontent-%COMP%]{width:2em;cursor:pointer;cursor:hand}.icono-vino[_ngcontent-%COMP%]:hover{opacity:.5}.likes[_ngcontent-%COMP%]{display:flex;align-items:center}.numero[_ngcontent-%COMP%]{vertical-align:middle;font-size:x-small}.modal-header[_ngcontent-%COMP%]{background-color:#ff6d00;color:#fff}.podcast[_ngcontent-%COMP%]{margin-top:3%;background-color:#fff;padding:3%;border-style:ridge;border-color:#000;border-width:1px;box-shadow:2px 2px 10px #666;height:-moz-fit-content;height:fit-content}.buscador[_ngcontent-%COMP%]{margin-top:5%;background-color:#ff6d00;padding:3%;border-style:ridge;border-color:#000;border-width:1px;box-shadow:2px 2px 10px #666}.titulo-buscador[_ngcontent-%COMP%]{color:#fff}.twitter[_ngcontent-%COMP%]{margin-top:5%;padding:3%;border-style:ridge;border-color:#000;border-width:1px;box-shadow:2px 2px 10px #666;height:-moz-fit-content;height:fit-content}.titulo-podcast[_ngcontent-%COMP%], .titulo-twitter[_ngcontent-%COMP%]{color:#ff6d00}.input-buscador[_ngcontent-%COMP%]{width:80%}.titulo-publicaciones-lateral[_ngcontent-%COMP%]{color:#ff6d00}@media (max-width: 40em){  img[alt=imagenAlt100]{width:100%!important}  img[alt=imagenAlt75]{width:90%!important}  img[alt=imagenAlt50]{width:70%!important}  img[alt=imagenAlt35]{width:60%!important}  img[alt=imagenAlt20]{width:50%!important}  .iframe-container{width:100%!important;height:-moz-fit-content!important;height:fit-content!important}  iframe[tipo=podcast]{width:100%!important;height:25vw!important}  iframe[tipo=youtube]{width:100%!important;height:48vw!important}.icono-rrss[_ngcontent-%COMP%]{width:8vw}.autor[_ngcontent-%COMP%]{margin-top:3%;font-size:small}.hoja[_ngcontent-%COMP%]{background-color:#fff;margin:0% 1% 0% 3%;padding:4%;box-shadow:2px 2px 10px #666}}@media (min-width: 41em){  img[alt=imagenAlt100]{width:100%!important}  img[alt=imagenAlt75]{width:75%!important}  img[alt=imagenAlt50]{width:50%!important}  img[alt=imagenAlt35]{width:35%!important}  img[alt=imagenAlt20]{width:20%!important}  iframe[tipo=podcast]{width:75%!important;height:220px!important}  iframe[tipo=youtube]{width:75%!important;height:28vw!important}.icono-rrss[_ngcontent-%COMP%]{width:2.2vw}.autor[_ngcontent-%COMP%]{margin-top:3%;font-size:medium}.datos[_ngcontent-%COMP%]{display:flex}.hoja[_ngcontent-%COMP%]{background-color:#fff;margin:0% 2% 0% 4%;padding:8%;box-shadow:2px 2px 10px #666}}@media (min-width: 81em){.lateral[_ngcontent-%COMP%]{padding-left:5%;padding-right:5%;padding-bottom:10%}.hoja[_ngcontent-%COMP%]{background-color:#fff;margin:0% 11% 0% 14%;padding:8%;box-shadow:2px 2px 10px #666}}a[_ngcontent-%COMP%]:link, a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:active{text-decoration:none;color:#000}  a{color:#d17103}"]}),n})();var Ae=p(9971),Pe=p.n(Ae);class y{constructor(){this.id="",this.tagNombre=""}}var k=p(4327),C=p(907);class R{constructor(){this.id="",this.categoriaNombre="",this.categoriaDescripcion="",this.urlImagen=""}}var U=p(6282),J=p(5888),Q=p(5950);const Me=["angularCropper"],qe=["angularCropper2"];function Se(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"textarea",93),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.publicacion.titulo=o)}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t.publicacion.titulo)}}function ye(n,c){if(1&n&&(e.TgZ(0,"option",96),e._uU(1),e.qZA()),2&n){const t=c.$implicit;e.s9C("value",t.id),e.xp6(1),e.lnq(" ",t.nombre," ",t.apellido1," ",t.apellido2,"")}}function Ue(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",94)(1,"select",95),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.publicacion.autor.id=o)}),e.YNc(2,ye,2,4,"option",84),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.publicacion.autor.id),e.xp6(1),e.Q6J("ngForOf",t.autores)}}function Ie(n,c){if(1&n&&(e.TgZ(0,"option",96),e._uU(1),e.qZA()),2&n){const t=c.$implicit;e.s9C("value",t.id),e.xp6(1),e.hij(" ",t.lugarNombre,"")}}function Ne(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",94)(1,"select",97),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.publicacion.lugar.id=o)}),e.YNc(2,Ie,2,2,"option",84),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.publicacion.lugar.id),e.xp6(1),e.Q6J("ngForOf",t.lugares)}}function Ee(n,c){if(1&n&&(e.TgZ(0,"option",96),e._uU(1),e.qZA()),2&n){const t=c.$implicit;e.s9C("value",t.id),e.xp6(1),e.hij(" ",t.categoriaNombre,"")}}function Je(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",94)(1,"select",98),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.publicacion.categoria.id=o)}),e.YNc(2,Ee,2,2,"option",84),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.publicacion.categoria.id),e.xp6(1),e.Q6J("ngForOf",t.categorias)}}function Oe(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",99)(1,"p",100),e._uU(2),e.qZA(),e.TgZ(3,"div",101),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.eliminarTag(a.id))}),e._UZ(4,"img",102),e.qZA()()}if(2&n){const t=c.$implicit;e.xp6(2),e.Oqu(t.tagNombre)}}function Fe(n,c){if(1&n&&(e.TgZ(0,"div",103),e._UZ(1,"img",104),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.s9C("src",t.imagePreviewUrl,e.LSH)}}function Le(n,c){1&n&&(e.TgZ(0,"div",103),e._UZ(1,"img",105),e.qZA())}function ke(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"button",106),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.patchPublicacion())}),e._uU(1," Modificar "),e.qZA()}}function Re(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"button",106),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.postPublicacion())}),e._uU(1," Publicar "),e.qZA()}}function Qe(n,c){if(1&n&&(e.TgZ(0,"section"),e._UZ(1,"angular-cropper",107,108),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("imageUrl",t.imageUrl)}}function Ye(n,c){1&n&&e._UZ(0,"section")}const je=function(n){return{aspectRatio:n}};function De(n,c){if(1&n&&(e.TgZ(0,"section"),e._UZ(1,"angular-cropper",109,110),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("cropperOptions",e.VKq(2,je,1.5))("imageUrl",t.imagePreviewUrl)}}function He(n,c){if(1&n&&(e.TgZ(0,"option",96),e._uU(1),e.qZA()),2&n){const t=c.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.tagNombre)}}new(Pe())("#editor",{theme:"snow",scrollingContainer:"#scrolling-container"});let H=(()=>{class n{constructor(t,i,o,a,s,b,I,xn){this.router=t,this.activatedRoute=i,this.publicacionesService=o,this.tagsService=a,this.usuariosService=s,this.imagenesService=b,this.categoriasService=I,this.lugaresService=xn,this.angularCropper=new C.V2,this.angularCropper2=new C.V2,this.id="",this.publicacion=new M,this.texto="",this.urlImagen="",this.urlVideo="",this.htmlPodcast="",this.htmlVideo="",this.fechaPublicacion="",this.endpointTags=v.N.urlAPI+"/tags/",this.endpointAutores=v.N.urlAPI+"/autores/",this.endpointCategorias=v.N.urlAPI+"/categorias/",this.imageUrl="",this.imagePreviewUrl="",this.imageName="",this.croppedresult="",this.anchoImagen="100",this.lugares=[],this.categorias=[],this.tags=[],this.tagNueva=new y,this.autores=[],this.tagsSeleccionadas=[],this.tagSeleccionada=new y,this.lugarSeleccionado=new _,this.categoriaSeleccionada=new R}ngOnInit(){this.publicacion.autor=new U.b,this.publicacion.categoria=new R,this.getTags(),this.getAutores(),this.getCategorias(),this.getLugares(),this.activatedRoute.params.subscribe(t=>{this.id=t.id,this.id&&this.getPublicacion(),this.ajustarEditor()})}ajustarEditor(){setTimeout(()=>{document.getElementsByClassName("ql-editor")[0].setAttribute("style","height: 700px")},500)}getId(){this.activatedRoute.params.subscribe(t=>{this.id=t.id})}getPublicacion(){this.publicacionesService.getPublicacionById(this.id).subscribe(t=>{this.publicacion=t,this.publicacion.id=this.id,this.imagePreviewUrl=this.publicacion.imagenPreviewUrl,this.getAutorPublicacion(),this.getLugarPublicacion(),this.getCategoriaPublicacion(),this.getTagsPublicacion(),this.getFechaPublicacion(),console.log("PUBLICACION CARGADA:",this.publicacion),this.publicacion.htmlPublicacion=this.publicacion.htmlPublicacion.replaceAll('width="100%" height="352"','width="80%" height="200"'),this.texto=this.publicacion.htmlPublicacion})}agregarPodcast(){this.htmlPodcast=this.htmlPodcast.replace("></iframe>",'tipo ="podcast"></iframe>'),this.texto=this.texto+this.htmlPodcast}agregarVideo(){this.htmlPodcast=this.htmlPodcast.replace("></iframe>",'tipo ="youtube"></iframe>'),this.texto=this.texto+this.htmlVideo,this.htmlVideo=""}postPublicacion(){""==this.publicacion.titulo||""==this.publicacion.autor.id||""==this.publicacion.lugar.id||""==this.publicacion.categoria.id?$("#errorModal").modal("show"):(this.publicacion.htmlPublicacion=this.texto,this.publicacion.tags=[],this.tagsSeleccionadas.forEach(t=>{this.publicacion.tags.push(t)}),this.descargarTxt(),this.publicacionesService.postPublicacion(this.publicacion).subscribe(t=>{this.getPublicacion(),this.descargarTxt(),$("#enviadoModal").modal("show");let i="/../publicaciones/"+t.titulo.replaceAll(" ","-");console.log("navegando a: "+i),this.router.navigate([i])}))}patchPublicacion(){this.publicacion.htmlPublicacion=this.texto,this.publicacion.tags=[],this.publicacion.tags=this.tagsSeleccionadas,this.publicacionesService.patchPublicacion(this.publicacion).subscribe(t=>{this.getPublicacion(),this.descargarTxt();let i="/../../publicaciones/"+t.titulo.replaceAll(" ","-");console.log("navegando a: "+i),this.router.navigate([i])})}descargarTxt(){let t=JSON.stringify(this.autores),i=JSON.stringify(this.tags),o=JSON.stringify(this.publicacion);var a=new Blob([o],{type:"text/plain;charset=utf-8"}),s=new Blob([i],{type:"text/plain;charset=utf-8"}),b=new Blob([t],{type:"text/plain;charset=utf-8"});(0,k.saveAs)(a,this.publicacion.titulo+".txt"),(0,k.saveAs)(s,"tags.txt"),(0,k.saveAs)(b,"autores.txt")}getTags(){this.tagsService.getTags().subscribe(t=>{this.tags=t,this.tags.forEach(i=>{i.id=this.tagsService.getId(i)}),console.log("TAGS CON ID:",this.tags)})}agregarTag(){this.tags.forEach(t=>{t.id==this.tagSeleccionada.id&&(this.tagSeleccionada.tagNombre=t.tagNombre)}),this.tagsSeleccionadas.push(this.tagSeleccionada),console.log("TAGS SELECCIONADAS",this.tagsSeleccionadas),this.tagSeleccionada=new y}eliminarTag(t){for(let i=0;i<this.tagsSeleccionadas.length;i++)this.tagsSeleccionadas[i].id==t&&this.tagsSeleccionadas.splice(i,1);console.log("TAGS SEL DESP BORRAR",this.tagsSeleccionadas)}nuevaTag(){this.tagsService.postTag(this.tagNueva).subscribe(t=>{t.id=this.tagsService.getId(t),this.getTags(),this.tagSeleccionada.id=t.id,this.tagSeleccionada.tagNombre=t.tagNombre,this.agregarTag()})}getTagsPublicacion(){this.publicacionesService.getTagsFromPublicacion(this.publicacion).subscribe(t=>{t.forEach(i=>{i.id=this.tagsService.getId(i)}),this.publicacion.tags=t,console.log("TAGS PUBLICACION:",this.publicacion.tags),this.tagsSeleccionadas=t})}getAutores(){this.usuariosService.getAutores().subscribe(t=>{console.log(t),this.autores=t,this.autores.forEach(i=>{i.id=this.usuariosService.getId(i)}),console.log("AUTORES CON ID:",this.autores)})}getAutorPublicacion(){this.publicacionesService.getAutorFromPublicacion(this.publicacion).subscribe(t=>{t.id=this.usuariosService.getId(t),console.log("AUTOR PUBLICACION:",t),this.publicacion.autor=t})}getCategorias(){this.categoriasService.getCategorias().subscribe(t=>{this.categorias=t,this.categorias.forEach(i=>{i.id=this.categoriasService.getId(i)}),console.log("CATEGORIAS RECIBIDAS: ",this.categorias)})}getCategoriaPublicacion(){this.publicacionesService.getCategoriaFromPublicacion(this.publicacion).subscribe(t=>{t.id=this.categoriasService.getId(t),console.log("CATEG: ",t),this.publicacion.categoria=t,this.categoriaSeleccionada=t})}getFechaPublicacion(){this.publicacion.fechaPublicacion&&(this.fechaPublicacion=this.publicacion.fechaPublicacion.split("T")[0])}getLugares(){this.lugaresService.getLugares().subscribe(t=>{this.lugares=t,this.lugares.forEach(i=>{i.id=this.lugaresService.getId(i)}),console.log("LUGARES RECIBIDOS: ",this.lugares)})}getLugarPublicacion(){this.publicacionesService.getLugarFromPublicacion(this.publicacion).subscribe(t=>{t.id=this.lugaresService.getId(t),this.publicacion.lugar=t,this.lugarSeleccionado=t})}onSelectFile(t){if(t.target.files&&t.target.files[0]){const i=new FileReader;i.readAsDataURL(t.target.files[0]),i.onload=()=>{this.imageUrl=i.result},console.log("EVENT",t.target.files[0]),this.imageName=t.target.files[0].name}console.log("IMAGEN SELECCIONADA EN PC: ",this.imageUrl)}onSelectFilePreview(t){if(t.target.files&&t.target.files[0]){const i=new FileReader;i.readAsDataURL(t.target.files[0]),i.onload=()=>{this.imagePreviewUrl=i.result},console.log("EVENT",t.target.files[0]),this.imageName=t.target.files[0].name}console.log("IMAGEN SELECCIONADA EN PC: ",this.imagePreviewUrl)}getCroppedImage(){this.angularCropper.cropper.getCroppedCanvas().toBlob(t=>{const i=new FileReader;i.readAsDataURL(t),i.onload=()=>{this.croppedresult=i.result;let a=new File([t],this.imageName,{type:"image/jpeg"});this.imagenesService.subirImagen(a,this.publicacion.titulo,"publicacion").subscribe(s=>{console.log("URL IMAGEN SUBIDA: ",s),this.insertarImagenUrl(s)})}},"image/jpeg",.7)}getCroppedImagePreview(){this.angularCropper2.cropper.getCroppedCanvas().toBlob(t=>{const i=new FileReader;i.readAsDataURL(t),i.onload=()=>{this.croppedresult=i.result;let a=new File([t],this.imageName,{type:"image/jpeg"});this.imagenesService.subirImagen(a,this.publicacion.id,"publicacion").subscribe(s=>{this.setImagePreview(s)})}},"image/jpeg",.7)}insertarImagenUrl(t){this.texto=this.texto+'<img src="'+t+'" alt="imagenAlt'+this.anchoImagen+'">',t="",this.imageUrl="",this.imageName=""}setImagePreview(t){this.publicacion.imagenPreviewUrl=t,this.imagePreviewUrl=t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(h.F0),e.Y36(h.gz),e.Y36(l),e.Y36(L),e.Y36(J.J),e.Y36(u.j),e.Y36(A),e.Y36(F))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-publicacion-ficha"]],viewQuery:function(t,i){if(1&t&&(e.Gf(Me,5),e.Gf(qe,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.angularCropper=o.first),e.iGM(o=e.CRH())&&(i.angularCropper2=o.first)}},decls:243,vars:26,consts:[["id","publicacion"],["action","",1,"m-2"],[1,"row","m-3","titulo","justify-content-center"],["class","row text-titulo","type","text","name","titulo","placeholder","Titulo (*Obligatorio)","maxlength","100",3,"ngModel","ngModelChange",4,"ngIf"],[1,"row"],[1,"col-1"],[1,"col-11","col-sm-5","mt-4"],[1,"text-center"],[1,"m-4","row","row-autor"],[1,"col-3","m-1"],["class","col-6 m-2",4,"ngIf"],[1,"col-2","texto-obligatorio"],[1,"m-4","row"],[1,"tags-container"],[1,"m-4","row","justify-content-center"],["data-bs-toggle","modal","data-bs-target","#agregarTagModal",1,"btn","btn-success","boton-agregar-tag"],[1,"row","justify-content-center","row-tags"],["class","tag m-2 col-2",4,"ngFor","ngForOf"],[1,"col-4"],["for","premium"],["type","checkbox","name","premium",1,"m-1",3,"ngModel","ngModelChange"],["for","destacado"],["type","checkbox","name","destacado",1,"m-1",3,"ngModel","ngModelChange"],["type","checkbox","name","carousel",1,"m-1",3,"ngModel","ngModelChange"],[1,"col-11","col-sm-6","mt-4"],[1,"row","align-items-center","justify-content-center","my-4"],[1,"col-12","col-lg-6","publicacion-preview"],["class","card-image",4,"ngIf"],[1,"card-body"],[2,"display","block"],[1,"card-title","text-center","m-1",2,"height","5vh"],[1,"card-text","text-center"],["type","text","name","subtitulo","rows","3","maxlength","210","placeholder","Descripci\xf3n de la publicaci\xf3n (para preview)",1,"row","text-descripcion","mt-4","mb-2","mx-1",3,"ngModel","ngModelChange"],[1,"color-letra","m-2"],["for","colorLetra",1,"mx-2"],["type","checkbox","name","colorLetra",3,"ngModel","ngModelChange"],[1,"mx-3"],[1,"m-1","agregar-bloque-texto","row","form-group","text-center"],["type","button","data-bs-toggle","modal","data-bs-target","#imagenModal",1,"btn"],["src","../../../../assets/icono-foto.png","alt","",1,"icono-youtube"],["type","button","data-bs-toggle","modal","data-bs-target","#videoModal",1,"btn"],["src","../../../../assets/icono-youtube.jpg","alt","",1,"icono-youtube"],["type","button","data-bs-toggle","modal","data-bs-target","#podcastModal",1,"btn"],["src","../../../../assets/icono-spotify.png","alt","",1,"icono-spotify"],["id","editor",1,"col-11","editor-container"],["name","editor","id","editor",1,"quill-editor","my-2","py-4",3,"ngModel","ngModelChange"],[1,"row","text-center","m-4"],[1,"col-5"],["type","button","class","btn btn-warning col-2",3,"click",4,"ngIf"],["id","podcastModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["type","text","name","","placeholder","Url del podcast Spotify","rows","1",2,"width","95%",3,"ngModel","ngModelChange"],["src","../../../../assets/copiar_codigo_spotify.png","alt","",1,"img-fluid","my-4"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["data-bs-dismiss","modal",1,"btn","btn-primary",3,"click"],["id","videoModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["type","text","name","","placeholder","Url del video de Youtube","rows","1",2,"width","95%",3,"ngModel","ngModelChange"],["src","../../../../assets/copiar_codigo_youtube.png","alt","",1,"img-fluid","my-4"],["id","imagenModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"my-2"],["type","file","accept","images/",3,"change"],[4,"ngIf"],[1,"my-4"],["for","",1,"mx-2"],["type","text",3,"ngModel","ngModelChange"],["value","100"],["value","75"],["value","50"],["value","35"],["value","20"],["id","imagenAutorModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["data-bs-dismiss","modal",1,"btn","btn-primary"],["id","imagenPreviewModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],["id","agregarTagModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"row","tag-existente-container"],["for","",1,"mx-2","col-3"],["name","tag4","id","tg4",1,"col-6",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["data-bs-dismiss","modal",1,"col-2","btn","btn-primary","m-1",3,"click"],[1,"row","nueva-tag-container"],["for","titulo",1,"col-3","mx-2"],["type","text","name","tagNueva",1,"col-6",3,"ngModel","ngModelChange"],["id","errorModal","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],["id","staticBackdropLabel",1,"modal-title","fs-5"],["id","enviadoModal","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary"],["type","text","name","titulo","placeholder","Titulo (*Obligatorio)","maxlength","100",1,"row","text-titulo",3,"ngModel","ngModelChange"],[1,"col-6","m-2"],["name","autorSeleccionado","id","autorSeleccionado",3,"ngModel","ngModelChange"],[3,"value"],["name","lugar","id","lugar",3,"ngModel","ngModelChange"],["name","autor","id","categoria",3,"ngModel","ngModelChange"],[1,"tag","m-2","col-2"],[1,"tag-nombre","px-2"],[1,"boton-eliminar",3,"click"],["src","../../../../assets/x-eliminar.png","alt","",2,"height","1rem","width","1rem"],[1,"card-image"],["alt","","data-bs-toggle","modal","data-bs-target","#imagenPreviewModal",1,"img-card","img-fluid","w-100","my-2",3,"src"],["src","../../../../assets/no-imagen.png","alt","","data-bs-toggle","modal","data-bs-target","#imagenPreviewModal",1,"img-card","img-fluid","w-100","my-2"],["type","button",1,"btn","btn-warning","col-2",3,"click"],[3,"imageUrl"],["angularCropper",""],[3,"cropperOptions","imageUrl"],["angularCropper2",""]],template:function(t,i){1&t&&(e.TgZ(0,"body",0)(1,"form",1)(2,"div",2),e.YNc(3,Se,1,1,"textarea",3),e.qZA(),e.TgZ(4,"div",4),e._UZ(5,"div",5),e.TgZ(6,"div",6)(7,"h3",7),e._uU(8,"Datos"),e.qZA(),e.TgZ(9,"div",8)(10,"p",9),e._uU(11,"Autor:"),e.qZA(),e.YNc(12,Ue,3,2,"div",10),e.TgZ(13,"div",11)(14,"p"),e._uU(15,"*Obligatorio"),e.qZA()()(),e.TgZ(16,"div",12)(17,"p",9),e._uU(18,"Lugar:"),e.qZA(),e.YNc(19,Ne,3,2,"div",10),e.TgZ(20,"div",11)(21,"p"),e._uU(22,"*Obligatorio"),e.qZA()()(),e.TgZ(23,"div",12)(24,"p",9),e._uU(25,"Categoria:"),e.qZA(),e.YNc(26,Je,3,2,"div",10),e.TgZ(27,"div",11)(28,"p"),e._uU(29,"*Obligatorio"),e.qZA()()(),e.TgZ(30,"div",12)(31,"div",13)(32,"div",14)(33,"button",15),e._uU(34," Agregar tag "),e.qZA()(),e.TgZ(35,"div",16),e.YNc(36,Oe,5,1,"div",17),e.qZA()()(),e.TgZ(37,"div",12)(38,"div",18)(39,"label",19),e._uU(40,"Premium"),e.qZA(),e.TgZ(41,"input",20),e.NdJ("ngModelChange",function(a){return i.publicacion.premium=a}),e.qZA()(),e.TgZ(42,"div",18)(43,"label",21),e._uU(44,"Destacado"),e.qZA(),e.TgZ(45,"input",22),e.NdJ("ngModelChange",function(a){return i.publicacion.destacado=a}),e.qZA()(),e.TgZ(46,"div",18)(47,"label",21),e._uU(48,"Carousel"),e.qZA(),e.TgZ(49,"input",23),e.NdJ("ngModelChange",function(a){return i.publicacion.carousel=a}),e.qZA()()()(),e.TgZ(50,"div",24)(51,"h3",7),e._uU(52,"Preview"),e.qZA(),e.TgZ(53,"div",25)(54,"div",26),e.YNc(55,Fe,2,1,"div",27),e.YNc(56,Le,2,0,"div",27),e.TgZ(57,"div",28)(58,"div",29)(59,"h5",30)(60,"b"),e._uU(61),e.qZA()(),e.TgZ(62,"div",31)(63,"textarea",32),e.NdJ("ngModelChange",function(a){return i.publicacion.subtitulo=a}),e.qZA()(),e.TgZ(64,"div",33)(65,"label",34),e._uU(66,"Letra oscura sobre la imagen"),e.qZA(),e.TgZ(67,"input",35),e.NdJ("ngModelChange",function(a){return i.publicacion.letraOscura=a}),e.qZA()()()()()()()()(),e.TgZ(68,"h3",7),e._uU(69,"Contenido de la publicaci\xf3n"),e.qZA(),e.TgZ(70,"div",36)(71,"form",37)(72,"div",5)(73,"div",4)(74,"button",38),e._UZ(75,"img",39),e.qZA()(),e.TgZ(76,"div",4)(77,"button",40),e._UZ(78,"img",41),e.qZA()(),e.TgZ(79,"div",4)(80,"button",42),e._UZ(81,"img",43),e.qZA()()(),e.TgZ(82,"div",44)(83,"quill-editor",45),e.NdJ("ngModelChange",function(a){return i.texto=a}),e.qZA()()()(),e.TgZ(84,"div",46),e._UZ(85,"div",47),e.YNc(86,ke,2,0,"button",48),e.YNc(87,Re,2,0,"button",48),e.qZA()(),e.TgZ(88,"div",49)(89,"div",50)(90,"div",51)(91,"div",52)(92,"h1",53),e._uU(93,"Insertar Podcast"),e.qZA(),e._UZ(94,"button",54),e.qZA(),e.TgZ(95,"div",55)(96,"input",56),e.NdJ("ngModelChange",function(a){return i.htmlPodcast=a}),e.qZA(),e._UZ(97,"img",57),e.qZA(),e.TgZ(98,"div",58)(99,"button",59),e._uU(100,"Cerrar"),e.qZA(),e.TgZ(101,"button",60),e.NdJ("click",function(){return i.agregarPodcast()}),e._uU(102,"A\xf1adir podcast"),e.qZA()()()()(),e.TgZ(103,"div",61)(104,"div",50)(105,"div",51)(106,"div",52)(107,"h1",53),e._uU(108,"Insertar Video"),e.qZA(),e._UZ(109,"button",54),e.qZA(),e.TgZ(110,"div",55)(111,"input",62),e.NdJ("ngModelChange",function(a){return i.htmlVideo=a}),e.qZA(),e._UZ(112,"img",63),e.qZA(),e.TgZ(113,"div",58)(114,"button",59),e._uU(115,"Cerrar"),e.qZA(),e.TgZ(116,"button",60),e.NdJ("click",function(){return i.agregarVideo()}),e._uU(117,"A\xf1adir video"),e.qZA()()()()(),e.TgZ(118,"div",64)(119,"div",50)(120,"div",51)(121,"div",52)(122,"h1",53),e._uU(123,"Insertar Imagen"),e.qZA(),e._UZ(124,"button",54),e.qZA(),e.TgZ(125,"div",55)(126,"section",65)(127,"input",66),e.NdJ("change",function(a){return i.onSelectFile(a)}),e.qZA()(),e.YNc(128,Qe,3,1,"section",67),e.TgZ(129,"section",68)(130,"label",69),e._uU(131,"Tama\xf1o"),e.qZA(),e.TgZ(132,"select",70),e.NdJ("ngModelChange",function(a){return i.anchoImagen=a}),e.TgZ(133,"option",71),e._uU(134,"Ancho 100%"),e.qZA(),e.TgZ(135,"option",72),e._uU(136,"Ancho 75%"),e.qZA(),e.TgZ(137,"option",73),e._uU(138,"Ancho 50%"),e.qZA(),e.TgZ(139,"option",74),e._uU(140,"Ancho 35%"),e.qZA(),e.TgZ(141,"option",75),e._uU(142,"Ancho 20%"),e.qZA()()()(),e.TgZ(143,"div",58)(144,"button",59),e._uU(145,"Cerrar"),e.qZA(),e.TgZ(146,"button",60),e.NdJ("click",function(){return i.getCroppedImage()}),e._uU(147,"Aceptar"),e.qZA()()()()(),e.TgZ(148,"div",76)(149,"div",50)(150,"div",51)(151,"div",52)(152,"h1",53),e._uU(153,"Insertar Imagen"),e.qZA(),e._UZ(154,"button",54),e.qZA(),e.TgZ(155,"div",55)(156,"section")(157,"input",66),e.NdJ("change",function(a){return i.onSelectFile(a)}),e.qZA()(),e.YNc(158,Ye,1,0,"section",67),e.TgZ(159,"section",68)(160,"label",69),e._uU(161,"Tama\xf1o"),e.qZA(),e.TgZ(162,"select",70),e.NdJ("ngModelChange",function(a){return i.anchoImagen=a}),e.TgZ(163,"option",71),e._uU(164,"Ancho 100%"),e.qZA(),e.TgZ(165,"option",72),e._uU(166,"Ancho 75%"),e.qZA(),e.TgZ(167,"option",73),e._uU(168,"Ancho 50%"),e.qZA(),e.TgZ(169,"option",74),e._uU(170,"Ancho 35%"),e.qZA()()()(),e.TgZ(171,"div",58)(172,"button",59),e._uU(173,"Cerrar"),e.qZA(),e.TgZ(174,"button",77),e._uU(175,"Aceptar"),e.qZA()()()()(),e.TgZ(176,"div",78)(177,"div",79)(178,"div",51)(179,"div",52)(180,"h1",53),e._uU(181,"Insertar Imagen"),e.qZA(),e._UZ(182,"button",54),e.qZA(),e.TgZ(183,"div",55)(184,"section",65)(185,"input",66),e.NdJ("change",function(a){return i.onSelectFilePreview(a)}),e.qZA()(),e.YNc(186,De,3,4,"section",67),e.qZA(),e.TgZ(187,"div",58)(188,"button",59),e._uU(189,"Cerrar"),e.qZA(),e.TgZ(190,"button",60),e.NdJ("click",function(){return i.getCroppedImagePreview()}),e._uU(191,"Aceptar"),e.qZA()()()()(),e.TgZ(192,"div",80)(193,"div",79)(194,"div",51)(195,"div",52)(196,"h1",53),e._uU(197,"Insertar tag"),e.qZA(),e._UZ(198,"button",54),e.qZA(),e.TgZ(199,"div",55)(200,"div",81)(201,"label",82),e._uU(202,"Seleccionar tag existente"),e.qZA(),e.TgZ(203,"select",83),e.NdJ("ngModelChange",function(a){return i.tagSeleccionada.id=a}),e.YNc(204,He,2,2,"option",84),e.qZA(),e.TgZ(205,"button",85),e.NdJ("click",function(){return i.agregarTag()}),e._uU(206,"Agregar"),e.qZA()(),e._UZ(207,"hr"),e.TgZ(208,"div",86)(209,"label",87),e._uU(210,"Escribir nueva "),e.qZA(),e.TgZ(211,"input",88),e.NdJ("ngModelChange",function(a){return i.tagNueva.tagNombre=a}),e.qZA(),e.TgZ(212,"button",85),e.NdJ("click",function(){return i.nuevaTag()}),e._uU(213,"Crear"),e.qZA()()(),e.TgZ(214,"div",58)(215,"button",59),e._uU(216,"Cerrar"),e.qZA()()()()(),e.TgZ(217,"div",89)(218,"div",79)(219,"div",51)(220,"div",52)(221,"h1",90),e._uU(222,"Error al enviar"),e.qZA(),e._UZ(223,"button",54),e.qZA(),e.TgZ(224,"div",55)(225,"p"),e._uU(226,"Error. Hay campos obligatorios sin rellenar"),e.qZA()(),e.TgZ(227,"div",58)(228,"button",59),e._uU(229,"Cerrar"),e.qZA()()()()(),e.TgZ(230,"div",91)(231,"div",79)(232,"div",51)(233,"div",52)(234,"h1",90),e._uU(235,"Publicaci\xf3n enviada"),e.qZA(),e._UZ(236,"button",54),e.qZA(),e.TgZ(237,"div",55)(238,"p"),e._uU(239,"Publicaci\xf3n enviada."),e.qZA()(),e.TgZ(240,"div",58)(241,"button",92),e._uU(242,"Aceptar"),e.qZA()()()()()),2&t&&(e.xp6(3),e.Q6J("ngIf",i.publicacion),e.xp6(9),e.Q6J("ngIf",i.publicacion.autor),e.xp6(7),e.Q6J("ngIf",i.publicacion.lugar),e.xp6(7),e.Q6J("ngIf",i.publicacion.categoria),e.xp6(10),e.Q6J("ngForOf",i.tagsSeleccionadas),e.xp6(5),e.Q6J("ngModel",i.publicacion.premium),e.xp6(4),e.Q6J("ngModel",i.publicacion.destacado),e.xp6(4),e.Q6J("ngModel",i.publicacion.carousel),e.xp6(6),e.Q6J("ngIf",i.imagePreviewUrl),e.xp6(1),e.Q6J("ngIf",!i.imagePreviewUrl),e.xp6(5),e.Oqu(i.publicacion.titulo),e.xp6(2),e.Q6J("ngModel",i.publicacion.subtitulo),e.xp6(4),e.Q6J("ngModel",i.publicacion.letraOscura),e.xp6(16),e.Q6J("ngModel",i.texto),e.xp6(3),e.Q6J("ngIf",i.id),e.xp6(1),e.Q6J("ngIf",!i.id),e.xp6(9),e.Q6J("ngModel",i.htmlPodcast),e.xp6(15),e.Q6J("ngModel",i.htmlVideo),e.xp6(17),e.Q6J("ngIf",i.imageUrl),e.xp6(4),e.Q6J("ngModel",i.anchoImagen),e.xp6(26),e.Q6J("ngIf",i.imageUrl),e.xp6(4),e.Q6J("ngModel",i.anchoImagen),e.xp6(24),e.Q6J("ngIf",i.imagePreviewUrl),e.xp6(17),e.Q6J("ngModel",i.tagSeleccionada.id),e.xp6(1),e.Q6J("ngForOf",i.tags),e.xp6(7),e.Q6J("ngModel",i.tagNueva.tagNombre))},dependencies:[d.sg,d.O5,r._Y,r.YN,r.Kr,r.Fj,r.Wl,r.EJ,r.JJ,r.JL,r.nD,r.On,r.F,Q.g6,C.V2],styles:[".bloque[_ngcontent-%COMP%]{border-style:dotted;border-width:1px}.agregar-bloque-texto[_ngcontent-%COMP%]{border-style:solid;background-color:#fafaf9;border-width:1px}.agregar-bloque-imagen[_ngcontent-%COMP%]{border-style:solid;background-color:#c3dde1;border-width:1px}.agregar-bloque-video[_ngcontent-%COMP%]{border-style:solid;background-color:#dbab9f;border-width:1px}.agregar-bloque-podcast[_ngcontent-%COMP%]{border-style:solid;background-color:#cfeccf;border-width:1px}.preview-publicacion[_ngcontent-%COMP%]{border-style:solid;background-color:#d0d2d0;border-width:1px}.imagen-publicacion[_ngcontent-%COMP%]{width:50%}.cuadro-texto[_ngcontent-%COMP%]{width:100%}.quill-editor[_ngcontent-%COMP%]{background-color:#fff;width:90%;box-shadow:2px 2px 10px #666}.icono-spotify[_ngcontent-%COMP%], .icono-youtube[_ngcontent-%COMP%]{width:9vw;border-style:solid;border-width:1px;border-radius:5px}.ql-video[_ngcontent-%COMP%]{width:50px}.iframe-container[_ngcontent-%COMP%]{width:100px}.tags[_ngcontent-%COMP%], .tag[_ngcontent-%COMP%], .row-tags[_ngcontent-%COMP%], .lugar[_ngcontent-%COMP%], .row-lugar[_ngcontent-%COMP%]{display:inline}.tag-nombre[_ngcontent-%COMP%]{background-color:orange;border-radius:15px;height:1.6rem;width:auto;display:inline;font-size:small}.tags-container[_ngcontent-%COMP%]{margin:4%;border-style:ridge;border-color:#000;padding-bottom:5%}.boton-eliminar[_ngcontent-%COMP%]{border-radius:50%;height:1.5rem;display:inline}.agregar-tag[_ngcontent-%COMP%]{display:inline;height:1.6rem}.boton-agregar-tag[_ngcontent-%COMP%]{height:1.6rem;width:auto;padding-top:0}.nueva-tag-container[_ngcontent-%COMP%]{display:inline}.autor-nombre[_ngcontent-%COMP%]{border-radius:15px;height:1.6rem;width:auto;display:inline}.text-titulo[_ngcontent-%COMP%]{font-size:xx-large;width:80%;box-shadow:2px 2px 10px #666}.text-titulo-card[_ngcontent-%COMP%]{font-size:xx-large;width:80%}.text-descripcion[_ngcontent-%COMP%]{font-size:large;width:100%}.boton-img-preview[_ngcontent-%COMP%]{width:auto;height:-moz-fit-content;height:fit-content}.descripcion-container[_ngcontent-%COMP%]{background-color:#dcdcdc;width:auto;border-color:#000;border-width:1px;border-style:ridge}.img-redimensionada[_ngcontent-%COMP%]{display:block;max-width:100%}.foto-autor[_ngcontent-%COMP%]{width:70px}.publicacion-preview[_ngcontent-%COMP%]{border-style:solid;border-width:1px;border-color:#000;box-shadow:2px 2px 10px #666}.text-descripcion[_ngcontent-%COMP%]{height:200px}.card-title[_ngcontent-%COMP%]{height:-moz-fit-content!important;height:fit-content!important}.card-image[_ngcontent-%COMP%]:hover{opacity:.5}.modal-header[_ngcontent-%COMP%]{background-color:#ff6d00;color:#fff}.texto-obligatorio[_ngcontent-%COMP%]{color:red}@media (max-width: 40em){  .imagen{width:100%!important}  img[alt=imagenAlt35]{width:60%!important}  img[alt=imagenAlt20]{width:50%!important}  .iframe-container{width:100%!important;height:-moz-fit-content!important;height:fit-content!important}  iframe[tipo=podcast]{width:100%!important;height:28vw!important}  iframe[tipo=youtube]{width:100%!important;height:45vw!important}}@media (min-width: 41em){  img[alt=imagenAlt100]{width:100%!important}  img[alt=imagenAlt75]{width:75%!important}  img[alt=imagenAlt50]{width:50%!important}  img[alt=imagenAlt35]{width:35%!important}  img[alt=imagenAlt20]{width:20%!important}  iframe[tipo=podcast]{width:75%!important;height:250px!important}  iframe[tipo=youtube]{width:75%!important;height:35vw!important}}"]}),n})();function ze(n,c){if(1&n&&(e.TgZ(0,"div",3),e._UZ(1,"app-publicacion",4),e.qZA()),2&n){const t=c.$implicit;e.xp6(1),e.Q6J("publicacion",t)}}let Ge=(()=>{class n{constructor(t,i,o){this.publicacionesService=t,this.activatedRoute=i,this.categoriaService=o,this.tagNombre="",this.id="",this.publicaciones=[]}ngOnInit(){this.activatedRoute.params.subscribe(t=>{this.tagNombre=t.tagNombre,console.log("TAG RECIBIDA:",this.tagNombre)}),this.getPublicacionesByTag()}getPublicacionesByTag(){this.publicacionesService.getPublicacionesByTag(this.tagNombre).subscribe(t=>{this.publicaciones=t,this.publicaciones.forEach(i=>{i.id=this.publicacionesService.getId(i),this.publicacionesService.getCategoriaFromPublicacion(i).subscribe(o=>{i.categoria=o,i.categoria.id=this.categoriaService.getId(o)}),this.publicacionesService.getAutorFromPublicacion(i).subscribe(o=>{i.autor=o})})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l),e.Y36(h.gz),e.Y36(A))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-publicaciones-tag"]],decls:6,vars:2,consts:[[1,"my-4","py-2","mx-4"],[1,"row","mx-2","my-4"],["style","display:inline-block;","class","card col-12 col-md-3 col-xxl-2",4,"ngFor","ngForOf"],[1,"card","col-12","col-md-3","col-xxl-2",2,"display","inline-block"],[3,"publicacion"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h3",1)(2,"b"),e._uU(3),e.qZA()(),e._UZ(4,"hr"),e.YNc(5,ze,2,1,"div",2),e.qZA()),2&t&&(e.xp6(3),e.hij('Relacionados con "',i.tagNombre,'"'),e.xp6(2),e.Q6J("ngForOf",i.publicaciones))},dependencies:[d.sg,x],styles:[".card[_ngcontent-%COMP%]{margin:0;border-radius:0;border-style:none}"]}),n})();const Be=["angularCropper"];function Ve(n,c){if(1&n&&e._UZ(0,"img",21),2&n){const t=e.oxw(2);e.s9C("src",t.categoria.urlImagen,e.LSH)}}function $e(n,c){1&n&&e._UZ(0,"img",22)}function Ke(n,c){if(1&n&&(e.TgZ(0,"div",18),e.YNc(1,Ve,1,1,"img",19),e.YNc(2,$e,1,0,"img",20),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.categoria.urlImagen),e.xp6(1),e.Q6J("ngIf",!t.categoria.urlImagen||""==t.categoria.urlImagen)}}function Xe(n,c){if(1&n&&e._UZ(0,"img",25),2&n){const t=e.oxw(2);e.s9C("src",t.categoria.urlImagen,e.LSH)}}function We(n,c){if(1&n&&(e.TgZ(0,"div",23),e.YNc(1,Xe,1,1,"img",24),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.categoria.urlImagen)}}function et(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",23)(1,"h3",26)(2,"b"),e._uU(3),e.qZA()(),e.TgZ(4,"h4",26)(5,"p"),e._uU(6),e.qZA()(),e.TgZ(7,"div",27)(8,"button",28),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.abrirEdicion())}),e._uU(9,"MODIFICAR"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(3),e.Oqu(t.categoria.categoriaNombre),e.xp6(3),e.Oqu(t.categoria.categoriaDescripcion)}}function tt(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",23)(1,"h2",26)(2,"b"),e._uU(3),e.qZA()(),e.TgZ(4,"textarea",29),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.categoria.categoriaDescripcion=o)}),e.qZA(),e.TgZ(5,"div",27)(6,"button",30),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.cerrarEdicion())}),e._uU(7,"GUARDAR"),e.qZA(),e.TgZ(8,"button",31),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.cancelarEdicion())}),e._uU(9,"CANCELAR"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(3),e.Oqu(t.categoria.categoriaNombre),e.xp6(1),e.Q6J("ngModel",t.categoria.categoriaDescripcion)}}function it(n,c){if(1&n&&(e.TgZ(0,"div",32),e._UZ(1,"app-publicacion",33),e.qZA()),2&n){const t=c.$implicit;e.xp6(1),e.Q6J("publicacion",t)}}const nt=function(n){return{aspectRatio:n}};function ot(n,c){if(1&n&&(e.TgZ(0,"section"),e._UZ(1,"angular-cropper",34,35),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("cropperOptions",e.VKq(2,nt,1.5))("imageUrl",t.imageUrl)}}let at=(()=>{class n{constructor(t,i,o,a){this.publicacionesService=t,this.categoriaService=i,this.activatedRoute=o,this.imagenesService=a,this.angularCropper=new C.V2,this.categoria=new R,this.id="",this.publicaciones=[],this.edicion=!1,this.imageUrl="",this.imageName="",this.croppedresult="",this.subiendo=!1}ngOnInit(){this.activatedRoute.params.subscribe(t=>{this.categoria.categoriaNombre=t.categoria,this.getCategoria(),console.log("PROVINCIA RECIBIDA:",this.categoria)}),this.getPublicacionesByCategoria()}getCategoria(){this.categoria.categoriaNombre=this.categoria.categoriaNombre.replaceAll("-"," "),this.categoriaService.getCategoriaByCategoriaNombre(this.categoria.categoriaNombre).subscribe(t=>{this.categoria=t,this.categoria.id=this.categoriaService.getId(this.categoria),this.imageUrl=this.categoria.urlImagen,this.imageName=this.categoria.categoriaNombre})}getPublicacionesByCategoria(){this.publicacionesService.getPublicacionesByCategoria(this.categoria.categoriaNombre).subscribe(t=>{this.publicaciones=t,this.publicaciones.forEach(i=>{i.id=this.publicacionesService.getId(i),this.publicacionesService.getCategoriaFromPublicacion(i).subscribe(o=>{i.categoria=o,this.publicacionesService.getAutorFromPublicacion(i).subscribe(a=>{i.autor=a})})})})}abrirEdicion(){this.edicion=!0}cerrarEdicion(){this.subiendo=!0,console.log("URL en categoria: ",this.imageUrl),this.categoria.urlImagen=this.imageUrl,this.categoriaService.patchCategoria(this.categoria).subscribe(t=>{this.categoria=t,this.categoria.id=this.categoriaService.getId(this.categoria),this.getCategoria()}),this.edicion=!1,this.subiendo=!1}cancelarEdicion(){this.edicion=!1}onSelectFile(t){if(this.subiendo=!0,t.target.files&&t.target.files[0]){const i=new FileReader;i.readAsDataURL(t.target.files[0]),i.onload=()=>{this.imageUrl=i.result},console.log("EVENT",t.target.files[0]),this.imageName=t.target.files[0].name}console.log("IMAGEN SELECCIONADA EN PC: ",this.imageUrl)}getCroppedImage(){this.angularCropper.cropper.getCroppedCanvas().toBlob(t=>{const i=new FileReader;i.readAsDataURL(t),i.onload=()=>{this.croppedresult=i.result;let a=new File([t],this.imageName,{type:"image/jpeg"});this.imagenesService.subirImagen(a,this.categoria.id,"publicacion").subscribe(s=>{console.log("URL IMAGEN SUBIDA: ",s),this.imageUrl=s,this.categoria.urlImagen=s,this.subiendo=!1})}},"image/jpeg",.7)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l),e.Y36(A),e.Y36(h.gz),e.Y36(u.j))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-publicaciones-categoria"]],viewQuery:function(t,i){if(1&t&&e.Gf(Be,5),2&t){let o;e.iGM(o=e.CRH())&&(i.angularCropper=o.first)}},decls:23,vars:6,consts:[[1,"row","my-1","py-1","mx-2"],["class","col-12 col-lg-6",4,"ngIf"],["class","col-12 col-lg-6 p-3",4,"ngIf"],[1,"mt-2"],["class","card row col-12 col-md-3 col-xxl-2 card",4,"ngFor","ngForOf"],["id","imagenModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"my-2"],["type","file","accept","images/",3,"change"],[4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["data-bs-dismiss","modal",1,"btn","btn-primary",3,"click"],[1,"col-12","col-lg-6"],["class","imagen-edicion img-fluid mt-4 pt-4 w-100","alt","","data-bs-toggle","modal","data-bs-target","#imagenModal",3,"src",4,"ngIf"],["class","img-fluid mt-4 pt-4","src","../../../../assets/no-imagen.png","alt","","data-bs-toggle","modal","data-bs-target","#imagenModal",4,"ngIf"],["alt","","data-bs-toggle","modal","data-bs-target","#imagenModal",1,"imagen-edicion","img-fluid","mt-4","pt-4","w-100",3,"src"],["src","../../../../assets/no-imagen.png","alt","","data-bs-toggle","modal","data-bs-target","#imagenModal",1,"img-fluid","mt-4","pt-4"],[1,"col-12","col-lg-6","p-3"],["class","img-fluid mt-4 w-100","alt","",3,"src",4,"ngIf"],["alt","",1,"img-fluid","mt-4","w-100",3,"src"],[1,"row","mx-2","my-4","text-center"],[1,"text-center"],[1,"btn","btn-warning","mb-2",3,"click"],["rows","8","maxlength","1000",1,"descripcion","row","mx-2","my-4","text-center","w-100",3,"ngModel","ngModelChange"],[1,"btn","btn-warning","mb-2","mx-2",3,"click"],[1,"btn","btn-secondary","mb-2","mx-2",3,"click"],[1,"card","row","col-12","col-md-3","col-xxl-2","card"],[3,"publicacion"],[3,"cropperOptions","imageUrl"],["angularCropper",""]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Ke,3,2,"div",1),e.YNc(2,We,2,1,"div",2),e.YNc(3,et,10,2,"div",2),e.YNc(4,tt,10,2,"div",2),e._UZ(5,"hr",3),e.YNc(6,it,2,1,"div",4),e.qZA(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"h1",9),e._uU(12,"Insertar Imagen"),e.qZA(),e._UZ(13,"button",10),e.qZA(),e.TgZ(14,"div",11)(15,"section",12)(16,"input",13),e.NdJ("change",function(a){return i.onSelectFile(a)}),e.qZA()(),e.YNc(17,ot,3,4,"section",14),e.qZA(),e.TgZ(18,"div",15)(19,"button",16),e._uU(20,"Cerrar"),e.qZA(),e.TgZ(21,"button",17),e.NdJ("click",function(){return i.getCroppedImage()}),e._uU(22,"Aceptar"),e.qZA()()()()()),2&t&&(e.xp6(1),e.Q6J("ngIf",i.edicion),e.xp6(1),e.Q6J("ngIf",!i.edicion),e.xp6(1),e.Q6J("ngIf",!i.edicion),e.xp6(1),e.Q6J("ngIf",i.edicion),e.xp6(2),e.Q6J("ngForOf",i.publicaciones),e.xp6(11),e.Q6J("ngIf",i.imageUrl))},dependencies:[d.sg,d.O5,r.Fj,r.JJ,r.nD,r.On,C.V2,x],styles:[".card[_ngcontent-%COMP%]{margin:0;border-radius:0;border-style:none}.descripcion[_ngcontent-%COMP%]{font-size:x-large}.imagen-edicion[_ngcontent-%COMP%]:hover{opacity:.5}.modal-header[_ngcontent-%COMP%]{background-color:#ff6d00;color:#fff}"]}),n})(),ct=(()=>{class n{constructor(){this.tag=new y,this.eliminarTagEvent=new e.vpe,this.modificarTagEvent=new e.vpe}ngOnInit(){}eliminarTag(){this.eliminarTagEvent.emit(this.tag)}modificarTag(){this.modificarTagEvent.emit(this.tag)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-tag"]],inputs:{tag:"tag"},outputs:{eliminarTagEvent:"eliminarTagEvent",modificarTagEvent:"modificarTagEvent"},decls:9,vars:1,consts:[[1,"row","d-flex"],[1,"col-5","col-sm-5","mx-1","my-2"],["type","text","size","12",3,"ngModel","ngModelChange"],[1,"col-3","col-sm-3","mx-1","my-2"],[1,"btn","btn-warning","btn-sm",3,"click"],[1,"btn","btn-danger","btn-sm",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"input",2),e.NdJ("ngModelChange",function(a){return i.tag.tagNombre=a}),e.qZA()(),e.TgZ(3,"div",3)(4,"button",4),e.NdJ("click",function(){return i.modificarTag()}),e._uU(5,"MODIFICAR"),e.qZA()(),e.TgZ(6,"div",3)(7,"button",5),e.NdJ("click",function(){return i.eliminarTag()}),e._uU(8,"ELIMINAR"),e.qZA()()()),2&t&&(e.xp6(2),e.Q6J("ngModel",i.tag.tagNombre))},dependencies:[r.Fj,r.JJ,r.On]}),n})(),rt=(()=>{class n{constructor(){this.lugar=new _,this.eliminarLugarEvent=new e.vpe,this.modificarLugarEvent=new e.vpe}ngOnInit(){}eliminarLugar(){this.eliminarLugarEvent.emit(this.lugar)}modificarLugar(){this.modificarLugarEvent.emit(this.lugar)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-lugar"]],inputs:{lugar:"lugar"},outputs:{eliminarLugarEvent:"eliminarLugarEvent",modificarLugarEvent:"modificarLugarEvent"},decls:9,vars:1,consts:[[1,"row","d-flex"],[1,"col-5","col-sm-5","mx-1","my-2"],["type","text","size","12",3,"ngModel","ngModelChange"],[1,"col-3","col-sm-3","mx-1","my-2"],[1,"btn","btn-warning","btn-sm",3,"click"],[1,"btn","btn-danger","btn-sm",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"input",2),e.NdJ("ngModelChange",function(a){return i.lugar.lugarNombre=a}),e.qZA()(),e.TgZ(3,"div",3)(4,"button",4),e.NdJ("click",function(){return i.modificarLugar()}),e._uU(5,"MODIFICAR"),e.qZA()(),e.TgZ(6,"div",3)(7,"button",5),e.NdJ("click",function(){return i.eliminarLugar()}),e._uU(8,"ELIMINAR"),e.qZA()()()),2&t&&(e.xp6(2),e.Q6J("ngModel",i.lugar.lugarNombre))},dependencies:[r.Fj,r.JJ,r.On]}),n})();function st(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",9)(1,"app-tag",10),e.NdJ("eliminarTagEvent",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.eliminarTag(o))})("modificarTagEvent",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.modificarTag(o))}),e.qZA()()}if(2&n){const t=c.$implicit;e.xp6(1),e.Q6J("tag",t)}}function lt(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",11)(1,"app-lugar",12),e.NdJ("eliminarLugarEvent",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.eliminarLugar(o))})("modificarLugarEvent",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.modificarLugar(o))}),e.qZA()()}if(2&n){const t=c.$implicit;e.xp6(1),e.Q6J("lugar",t)}}let ut=(()=>{class n{constructor(t,i){this.tagsService=t,this.lugaresService=i,this.tags=[],this.tagNueva=new y,this.lugares=[],this.lugarNuevo=new _}ngOnInit(){this.getTags(),this.getLugares()}getTags(){this.tagsService.getTags().subscribe(t=>{this.tags=t,this.tags.forEach(i=>{i.id=this.tagsService.getId(i)})})}modificarTag(t){this.tagsService.patchTag(t).subscribe(i=>{this.getTags()})}eliminarTag(t){this.tagsService.deleteTag(t).subscribe(i=>{this.getTags()})}nuevaTag(){this.tagsService.postTag(this.tagNueva).subscribe(t=>{this.getTags(),this.tagNueva.tagNombre=""})}getLugares(){this.lugaresService.getLugares().subscribe(t=>{this.lugares=t,this.lugares.forEach(i=>{i.id=this.lugaresService.getId(i)})})}modificarLugar(t){this.lugaresService.patchLugar(t).subscribe(i=>{this.getLugares()})}eliminarLugar(t){this.lugaresService.deleteLugar(t).subscribe(i=>{this.getLugares()})}nuevoLugar(){this.lugaresService.postLugar(this.lugarNuevo).subscribe(t=>{this.getLugares(),this.lugarNuevo.lugarNombre=""})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L),e.Y36(F))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-tags"]],decls:17,vars:4,consts:[[1,"row"],[1,"tags","col-12","col-lg-4","p-4","text-center"],[1,"nueva-tag-container","mb-4"],["type","text",3,"ngModel","ngModelChange"],[1,"btn","btn-success","btn-sm","mx-3","my-2",3,"click"],["style","display:block;","class","gestionar-tags-container",4,"ngFor","ngForOf"],[1,"lugares","col-12","col-lg-4","p-4","text-center"],[1,"nuevo-lugar-container","mb-4"],["style","display:block;","class","gestionar-lugares-container",4,"ngFor","ngForOf"],[1,"gestionar-tags-container",2,"display","block"],[3,"tag","eliminarTagEvent","modificarTagEvent"],[1,"gestionar-lugares-container",2,"display","block"],[3,"lugar","eliminarLugarEvent","modificarLugarEvent"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),e._uU(4,"Tags"),e.qZA(),e.TgZ(5,"input",3),e.NdJ("ngModelChange",function(a){return i.tagNueva.tagNombre=a}),e.qZA(),e.TgZ(6,"button",4),e.NdJ("click",function(){return i.nuevaTag()}),e._uU(7,"Crear nueva Tag"),e.qZA()(),e.YNc(8,st,2,1,"div",5),e.qZA(),e.TgZ(9,"div",6)(10,"div",7)(11,"h3"),e._uU(12,"Lugares"),e.qZA(),e.TgZ(13,"input",3),e.NdJ("ngModelChange",function(a){return i.lugarNuevo.lugarNombre=a}),e.qZA(),e.TgZ(14,"button",4),e.NdJ("click",function(){return i.nuevoLugar()}),e._uU(15,"Crear nuevo Lugar"),e.qZA()(),e.YNc(16,lt,2,1,"div",8),e.qZA()()),2&t&&(e.xp6(5),e.Q6J("ngModel",i.tagNueva.tagNombre),e.xp6(3),e.Q6J("ngForOf",i.tags),e.xp6(5),e.Q6J("ngModel",i.lugarNuevo.lugarNombre),e.xp6(3),e.Q6J("ngForOf",i.lugares))},dependencies:[d.sg,r.Fj,r.JJ,r.On,ct,rt],styles:[".lugares[_ngcontent-%COMP%], .tags[_ngcontent-%COMP%]{height:550px;overflow:scroll}"]}),n})();function pt(n,c){if(1&n&&(e.TgZ(0,"div",3),e._UZ(1,"app-publicacion",4),e.qZA()),2&n){const t=c.$implicit;e.xp6(1),e.Q6J("publicacion",t)}}let dt=(()=>{class n{constructor(t,i,o){this.publicacionesService=t,this.activatedRoute=i,this.categoriaService=o,this.provincia="",this.id="",this.publicaciones=[]}ngOnInit(){this.activatedRoute.params.subscribe(t=>{this.provincia=t.provincia,console.log("PROVINCIA RECIBIDA:",this.provincia)}),this.getPublicacionesByLugar()}getPublicacionesByLugar(){this.publicacionesService.getPublicacionesByLugar(this.provincia).subscribe(t=>{this.publicaciones=t,this.publicaciones.forEach(i=>{i.id=this.publicacionesService.getId(i),this.publicacionesService.getCategoriaFromPublicacion(i).subscribe(o=>{i.categoria=o,i.categoria.id=this.categoriaService.getId(o)}),this.publicacionesService.getAutorFromPublicacion(i).subscribe(o=>{i.autor=o})})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l),e.Y36(h.gz),e.Y36(A))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-publicaciones-provincia"]],decls:6,vars:2,consts:[[1,"my-4","py-2","mx-4"],[1,"row","mx-2","my-4"],["style","display:inline-block;","class","card col-12 col-md-3 col-xxl-2",4,"ngFor","ngForOf"],[1,"card","col-12","col-md-3","col-xxl-2",2,"display","inline-block"],[3,"publicacion"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h3",1)(2,"b"),e._uU(3),e.qZA()(),e._UZ(4,"hr"),e.YNc(5,pt,2,1,"div",2),e.qZA()),2&t&&(e.xp6(3),e.hij('Relacionados con "',i.provincia,'"'),e.xp6(2),e.Q6J("ngForOf",i.publicaciones))},dependencies:[d.sg,x],styles:[".card[_ngcontent-%COMP%]{margin:0;border-radius:0;border-style:none}"]}),n})();class gt{constructor(){this.id="",this.titulo="",this.descripcion="",this.urlImagen=""}}let mt=(()=>{class n{constructor(t){this.http=t,this.endpoint=v.N.urlAPI}getLandingPage(){return this.http.get(this.endpoint+"/landingpages/1")}getId(t){let o=t._links.self.href.split("/");return o[o.length-1]}postLandingPage(t){return this.http.post(this.endpoint+"/landingpages",t)}patchLandingPage(t){return this.http.patch(this.endpoint+"/landingpages/"+t.id,t)}deleteLandingPage(t){return this.http.delete(this.endpoint+"/landingpages/"+t.id)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(m.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ht=["angularCropper"];function bt(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"button",38),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.abrirEdicion())}),e._uU(1,"Editar"),e.qZA()}}function _t(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"button",39),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.guardarCambios())}),e._uU(1,"Guardar edici\xf3n"),e.qZA()}}function ft(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"button",40),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.cerrarEdicion())}),e._uU(1,"Cancelar"),e.qZA()}}function Ct(n,c){if(1&n&&(e.TgZ(0,"div",41)(1,"h2")(2,"b"),e._uU(3),e.qZA()()()),2&n){const t=e.oxw();e.xp6(3),e.Oqu(t.landingPage.titulo)}}function vt(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",41)(1,"textarea",42),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.landingPage.titulo=o)}),e._uU(2),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.landingPage.titulo),e.xp6(1),e.Oqu(t.landingPage.titulo)}}function Zt(n,c){if(1&n&&(e.TgZ(0,"div",41)(1,"h4"),e._uU(2),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(t.landingPage.descripcion)}}function Tt(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",43)(1,"textarea",44),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.landingPage.descripcion=o)}),e._uU(2),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.landingPage.descripcion),e.xp6(1),e.Oqu(t.landingPage.descripcion)}}function xt(n,c){if(1&n&&e._UZ(0,"img",48),2&n){const t=e.oxw(2);e.s9C("src",t.landingPage.urlImagen,e.LSH)}}function wt(n,c){1&n&&e._UZ(0,"img",49)}function At(n,c){if(1&n&&(e.TgZ(0,"section",45),e.YNc(1,xt,1,1,"img",46),e.YNc(2,wt,1,0,"img",47),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.landingPage.urlImagen),e.xp6(1),e.Q6J("ngIf",!t.landingPage.urlImagen)}}function Pt(n,c){if(1&n&&e._UZ(0,"img",52),2&n){const t=e.oxw(2);e.s9C("src",t.landingPage.urlImagen,e.LSH)}}function Mt(n,c){1&n&&e._UZ(0,"img",53)}function qt(n,c){if(1&n&&(e.TgZ(0,"section",45),e.YNc(1,Pt,1,1,"img",50),e.YNc(2,Mt,1,0,"img",51),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.landingPage.urlImagen),e.xp6(1),e.Q6J("ngIf",!t.landingPage.urlImagen)}}function St(n,c){if(1&n&&(e.TgZ(0,"section"),e._UZ(1,"angular-cropper",54,55),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("imageUrl",t.imageUrl)}}let yt=(()=>{class n{constructor(t,i){this.landingPagesService=t,this.imagenesService=i,this.angularCropper=new C.V2,this.landingPage=new gt,this.edicion=!1,this.imageUrl="",this.imageName="",this.croppedresult="",this.subiendo=!1}ngOnInit(){this.getLandingPage()}getLandingPage(){this.landingPagesService.getLandingPage().subscribe(t=>{this.landingPage=t,t.id=this.landingPagesService.getId(t)})}postLandingPage(){this.landingPagesService.patchLandingPage(this.landingPage).subscribe(t=>{this.landingPage=t,this.landingPage.id=this.landingPagesService.getId(this.landingPage)})}patchLandingPage(){this.landingPage.id||(this.landingPage.id="1",this.landingPagesService.postLandingPage(this.landingPage).subscribe(t=>{this.landingPage=t,this.landingPage.id=this.landingPagesService.getId(this.landingPage)})),this.landingPage.id&&this.landingPagesService.patchLandingPage(this.landingPage).subscribe(t=>{this.landingPage=t,this.landingPage.id=this.landingPagesService.getId(this.landingPage)})}abrirEdicion(){this.edicion=!0}guardarCambios(){this.patchLandingPage(),this.edicion=!1}cerrarEdicion(){this.edicion=!1}onSelectFile(t){if(this.subiendo=!0,t.target.files&&t.target.files[0]){const i=new FileReader;i.readAsDataURL(t.target.files[0]),i.onload=()=>{this.imageUrl=i.result},console.log("EVENT",t.target.files[0]),this.imageName=t.target.files[0].name}console.log("IMAGEN SELECCIONADA EN PC: ",this.imageUrl)}getCroppedImage(){this.angularCropper.cropper.getCroppedCanvas().toBlob(t=>{const i=new FileReader;i.readAsDataURL(t),i.onload=()=>{this.croppedresult=i.result;let a=new File([t],this.imageName,{type:"image/jpeg"});this.imagenesService.subirImagen(a,this.landingPage.id,"publicacion").subscribe(s=>{console.log("URL IMAGEN SUBIDA: ",s),this.imageUrl=s,this.landingPage.urlImagen=s,this.subiendo=!1})}},"image/jpeg",.7)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(mt),e.Y36(u.j))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-landing-page"]],viewQuery:function(t,i){if(1&t&&e.Gf(ht,5),2&t){let o;e.iGM(o=e.CRH())&&(i.angularCropper=o.first)}},decls:50,vars:10,consts:[[1,"row","landing"],[1,"col-12","botones","text-center"],["class","btn btn-warning m-2",3,"click",4,"ngIf"],["class","btn btn-success m-2",3,"click",4,"ngIf"],["class","btn btn-secondary m-2",3,"click",4,"ngIf"],[1,"col-1"],[1,"col-12","col-md-5","cuerpo"],[1,"row","titulo","ml-4"],["class","text-center",4,"ngIf"],[1,"row","descripcion","ml-4","m-4"],["class","text-descripcion text-center",4,"ngIf"],[1,"text-center","m-4"],["href","../",1,"btn","btn-primary"],[1,"rrss"],[1,"row","mt-4"],[1,"col-2","col-sm-2"],[1,"col-2","col-sm-2","my-1","text-center"],["href","https://www.facebook.com/elisabethgiborra"],["src","../../../../assets/facebookIcon.png","alt","",1,"icono-rrss"],["href","https://www.instagram.com/vermu.torero/"],["src","../../../../assets/instagramIcon.png","alt","",1,"icono-rrss"],["href","http://es.linkedin.com/in/elisabethgiborra"],["src","../../../../assets/linkedinIcon.png","alt","",1,"icono-rrss"],["href","https://twitter.com/elisabethiborra"],["src","../../../../assets/twitterIcon.png","alt","",1,"icono-rrss"],["class","col-12 col-md-6 text-center mt-4",4,"ngIf"],["id","imagenModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["type","file","accept","images/",3,"change"],[4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["data-bs-dismiss","modal",1,"btn","btn-primary",3,"click"],[1,"btn","btn-warning","m-2",3,"click"],[1,"btn","btn-success","m-2",3,"click"],[1,"btn","btn-secondary","m-2",3,"click"],[1,"text-center"],["rows","3","cols","32",1,"text-titulo",3,"ngModel","ngModelChange"],[1,"text-descripcion","text-center"],["rows","10","cols","45",3,"ngModel","ngModelChange"],[1,"col-12","col-md-6","text-center","mt-4"],["class","img-fluid imagen","alt","",3,"src",4,"ngIf"],["class","img-fluid imagen","src","","alt","Sin Imagen",4,"ngIf"],["alt","",1,"img-fluid","imagen",3,"src"],["src","","alt","Sin Imagen",1,"img-fluid","imagen"],["class","imagen-edicion img-fluid imagen","alt","","data-bs-toggle","modal","data-bs-target","#imagenModal",3,"src",4,"ngIf"],["class","imagen-edicion img-fluid imagen","src","../../../assets/no-imagen.png","alt","","data-bs-toggle","modal","data-bs-target","#imagenModal",4,"ngIf"],["alt","","data-bs-toggle","modal","data-bs-target","#imagenModal",1,"imagen-edicion","img-fluid","imagen",3,"src"],["src","../../../assets/no-imagen.png","alt","","data-bs-toggle","modal","data-bs-target","#imagenModal",1,"imagen-edicion","img-fluid","imagen"],[3,"imageUrl"],["angularCropper",""]],template:function(t,i){1&t&&(e.TgZ(0,"body")(1,"div",0)(2,"section",1),e.YNc(3,bt,2,0,"button",2),e.YNc(4,_t,2,0,"button",3),e.YNc(5,ft,2,0,"button",4),e.qZA(),e._UZ(6,"section",5),e.TgZ(7,"section",6)(8,"section",7),e.YNc(9,Ct,4,1,"div",8),e.YNc(10,vt,3,2,"div",8),e.qZA(),e.TgZ(11,"section",9),e.YNc(12,Zt,3,1,"div",8),e.YNc(13,Tt,3,2,"div",10),e.qZA(),e.TgZ(14,"section",11)(15,"a",12),e._uU(16,"VIS\xcdTANOS"),e.qZA()(),e.TgZ(17,"section",13)(18,"div",14),e._UZ(19,"div",15),e.TgZ(20,"div",16)(21,"a",17),e._UZ(22,"img",18),e.qZA()(),e.TgZ(23,"div",16)(24,"a",19),e._UZ(25,"img",20),e.qZA()(),e.TgZ(26,"div",16)(27,"a",21),e._UZ(28,"img",22),e.qZA()(),e.TgZ(29,"div",16)(30,"a",23),e._UZ(31,"img",24),e.qZA()()()()(),e.YNc(32,At,3,2,"section",25),e.YNc(33,qt,3,2,"section",25),e.qZA()(),e.TgZ(34,"div",26)(35,"div",27)(36,"div",28)(37,"div",29)(38,"h1",30),e._uU(39,"Insertar Imagen"),e.qZA(),e._UZ(40,"button",31),e.qZA(),e.TgZ(41,"div",32)(42,"section")(43,"input",33),e.NdJ("change",function(a){return i.onSelectFile(a)}),e.qZA()(),e.YNc(44,St,3,1,"section",34),e.qZA(),e.TgZ(45,"div",35)(46,"button",36),e._uU(47,"Cerrar"),e.qZA(),e.TgZ(48,"button",37),e.NdJ("click",function(){return i.getCroppedImage()}),e._uU(49,"Aceptar"),e.qZA()()()()()),2&t&&(e.xp6(3),e.Q6J("ngIf",!i.edicion),e.xp6(1),e.Q6J("ngIf",i.edicion),e.xp6(1),e.Q6J("ngIf",i.edicion),e.xp6(4),e.Q6J("ngIf",!i.edicion),e.xp6(1),e.Q6J("ngIf",i.edicion),e.xp6(2),e.Q6J("ngIf",!i.edicion),e.xp6(1),e.Q6J("ngIf",i.edicion),e.xp6(19),e.Q6J("ngIf",!i.edicion),e.xp6(1),e.Q6J("ngIf",i.edicion),e.xp6(11),e.Q6J("ngIf",i.imageUrl))},dependencies:[d.O5,r.Fj,r.JJ,r.On,C.V2],styles:["body[_ngcontent-%COMP%]{background-image:url(fondo-landing-page.53aac525181e87fc.png);background-repeat:no-repeat;background-attachment:fixed;background-size:cover;padding-top:2%}.imagen-edicion[_ngcontent-%COMP%]:hover{opacity:.5}@media (max-width: 40em){.icono-rrss[_ngcontent-%COMP%]{width:8vw}.imagen[_ngcontent-%COMP%]{height:80%}h4[_ngcontent-%COMP%]{text-align:center;font-size:4vw}h2[_ngcontent-%COMP%]{text-align:center;color:#fff;text-shadow:2px 2px 1px black;font-size:7vw;padding-left:2%;padding-right:2%}}@media (min-width: 41em){.icono-rrss[_ngcontent-%COMP%]{width:3vw}.imagen[_ngcontent-%COMP%]{height:60%}h4[_ngcontent-%COMP%]{text-align:center;text-shadow:1px 1px 1px black;font-size:2vw}h2[_ngcontent-%COMP%]{text-align:center;color:#fff;text-shadow:4px 4px 3px black;font-size:4vw}.text-titulo[_ngcontent-%COMP%]{font-size:x-large;font-weight:700}}"]}),n})();const Ut=["angularCropper"],It=["angularCropper2"],Nt=["angularCropper3"];function Et(n,c){1&n&&e._UZ(0,"button",49)}function Jt(n,c){1&n&&e._UZ(0,"button",50)}function Ot(n,c){1&n&&e._UZ(0,"button",51)}function Ft(n,c){1&n&&e._UZ(0,"button",52)}function Lt(n,c){1&n&&e._UZ(0,"button",53)}function kt(n,c){1&n&&e._UZ(0,"button",54)}function Rt(n,c){1&n&&e._UZ(0,"button",55)}function Qt(n,c){1&n&&e._UZ(0,"button",56)}function Yt(n,c){if(1&n&&(e.TgZ(0,"h5",65)(1,"b"),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.titulo)}}function jt(n,c){if(1&n&&(e.TgZ(0,"p",66)(1,"b"),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.subtitulo)}}function Dt(n,c){if(1&n&&(e.TgZ(0,"h5",67)(1,"b"),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.titulo)}}function Ht(n,c){if(1&n&&(e.TgZ(0,"p",68)(1,"b"),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.subtitulo)}}function zt(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",57)(1,"button",58),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.quitarDelCarousel(a.id))}),e._uU(2,"QUITAR DEL CARRUSEL"),e.qZA(),e._UZ(3,"img",59),e.TgZ(4,"div",60),e.YNc(5,Yt,3,1,"h5",61),e.YNc(6,jt,3,1,"p",62),e.YNc(7,Dt,3,1,"h5",63),e.YNc(8,Ht,3,1,"p",64),e.qZA()()}if(2&n){const t=c.$implicit;e.xp6(3),e.s9C("src",t.imagenPreviewUrl,e.LSH),e.xp6(2),e.Q6J("ngIf",!t.letraOscura),e.xp6(1),e.Q6J("ngIf",!t.letraOscura),e.xp6(1),e.Q6J("ngIf",t.letraOscura),e.xp6(1),e.Q6J("ngIf",t.letraOscura)}}function Gt(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",69)(1,"div",31),e._UZ(2,"div",32),e.TgZ(3,"div",70)(4,"h4"),e._uU(5),e.qZA()(),e.TgZ(6,"button",71),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.agregarAlCarousel(a.id))}),e._uU(7,"AGREGAR AL CAROUSEL"),e.qZA()()()}if(2&n){const t=c.$implicit;e.xp6(5),e.Oqu(t.titulo)}}const Y=function(n){return{aspectRatio:n}};function Bt(n,c){if(1&n&&(e.TgZ(0,"section"),e._UZ(1,"angular-cropper",72,73),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("cropperOptions",e.VKq(2,Y,3/4))("imageUrl",t.imagenInicioDerecha.url)}}function Vt(n,c){if(1&n&&(e.TgZ(0,"section"),e._UZ(1,"angular-cropper",72,74),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("cropperOptions",e.VKq(2,Y,3/4))("imageUrl",t.imagenInicioIzquierda.url)}}function $t(n,c){if(1&n&&(e.TgZ(0,"section"),e._UZ(1,"angular-cropper",72,75),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("cropperOptions",e.VKq(2,Y,1.5))("imageUrl",t.imagenInicioCentral.url)}}let Kt=(()=>{class n{constructor(t,i){this.publicacionesService=t,this.imagenesService=i,this.angularCropper=new C.V2,this.angularCropper2=new C.V2,this.angularCropper3=new C.V2,this.publicaciones=[],this.publicacionesCarousel=[],this.publicacionesNoCarousel=[],this.imageUrl="",this.imagePreviewUrl="",this.imageName="",this.croppedresult="",this.anchoImagen="100",this.imagenInicioDerecha=new Z,this.imagenInicioIzquierda=new Z,this.imagenInicioCentral=new Z}ngOnInit(){this.getPublicaciones(),this.getImagenesInicio(),this.imagenInicioDerecha.id="1",this.imagenInicioDerecha.posicion="derecha",this.imagenInicioIzquierda.id="2",this.imagenInicioIzquierda.posicion="izquierda",this.imagenInicioCentral.id="3",this.imagenInicioCentral.posicion="centro"}getPublicaciones(){this.publicacionesCarousel=[],this.publicacionesNoCarousel=[],this.publicacionesService.getPublicacionesCarousel().subscribe(t=>{this.publicacionesCarousel=t,this.publicacionesCarousel.forEach(i=>{i.id=this.publicacionesService.getId(i),i.subtitulo=i.subtitulo.substring(0,160)+"...",this.publicacionesService.getPublicacionesNoCarousel().subscribe(o=>{this.publicacionesNoCarousel=o,this.publicacionesNoCarousel.forEach(a=>{a.id=this.publicacionesService.getId(a),a.subtitulo=a.subtitulo.substring(0,160)+"..."})})})})}quitarDelCarousel(t){this.publicacionesService.getPublicacionById(t).subscribe(i=>{i.id=t,i.carousel=!1,this.publicacionesService.getAutorFromPublicacion(i).subscribe(o=>{o.id=this.publicacionesService.getId(o),i.autor=o,this.publicacionesService.getCategoriaFromPublicacion(i).subscribe(a=>{a.id=this.publicacionesService.getId(a),i.categoria=a,this.publicacionesService.getTagsFromPublicacion(i).subscribe(s=>{s.forEach(b=>{b.id=this.publicacionesService.getId(b)}),i.tags=s,this.publicacionesService.getLugarFromPublicacion(i).subscribe(b=>{b.id=this.publicacionesService.getId(b),i.lugar=b,this.publicacionesService.patchPublicacion(i).subscribe(I=>{this.getPublicaciones(),this.getImagenesInicio()})})})})})})}agregarAlCarousel(t){this.publicacionesService.getPublicacionById(t).subscribe(i=>{i.id=t,i.carousel=!0,this.publicacionesService.getAutorFromPublicacion(i).subscribe(o=>{o.id=this.publicacionesService.getId(o),i.autor=o,this.publicacionesService.getCategoriaFromPublicacion(i).subscribe(a=>{a.id=this.publicacionesService.getId(a),i.categoria=a,this.publicacionesService.getTagsFromPublicacion(i).subscribe(s=>{s.forEach(b=>{b.id=this.publicacionesService.getId(b)}),i.tags=s,this.publicacionesService.getLugarFromPublicacion(i).subscribe(b=>{b.id=this.publicacionesService.getId(b),i.lugar=b,this.publicacionesService.patchPublicacion(i).subscribe(I=>{this.getPublicaciones(),this.getImagenesInicio()})})})})})})}onSelectFileDerecha(t){if(t.target.files&&t.target.files[0]){const i=new FileReader;i.readAsDataURL(t.target.files[0]),i.onload=()=>{this.imagePreviewUrl=i.result,this.imagenInicioDerecha.url=this.imagePreviewUrl},this.imageName=t.target.files[0].name}}onSelectFileIzquierda(t){if(t.target.files&&t.target.files[0]){const i=new FileReader;i.readAsDataURL(t.target.files[0]),i.onload=()=>{this.imagePreviewUrl=i.result,this.imagenInicioIzquierda.url=this.imagePreviewUrl},this.imageName=t.target.files[0].name}}onSelectFileCentral(t){if(t.target.files&&t.target.files[0]){const i=new FileReader;i.readAsDataURL(t.target.files[0]),i.onload=()=>{this.imagePreviewUrl=i.result,this.imagenInicioCentral.url=this.imagePreviewUrl},this.imageName=t.target.files[0].name}}getCroppedImageDerecha(){this.angularCropper.cropper.getCroppedCanvas().toBlob(t=>{const i=new FileReader;i.readAsDataURL(t),i.onload=()=>{this.croppedresult=i.result;let a=new File([t],this.imageName,{type:"image/jpeg"});this.imagenesService.subirImagen(a,"imagenLateralDerecha","lateral").subscribe(s=>{this.imagenInicioDerecha.url=s,this.setImagenInicioDerecha()})}},"image/jpeg",.7)}getCroppedImageIzquierda(){this.angularCropper2.cropper.getCroppedCanvas().toBlob(t=>{const i=new FileReader;i.readAsDataURL(t),i.onload=()=>{this.croppedresult=i.result;let a=new File([t],this.imageName,{type:"image/jpeg"});this.imagenesService.subirImagen(a,"imagenLateralIzquierda","inicio").subscribe(s=>{console.log("URL IMAGEN SUBIDA: ",s),this.imagenInicioIzquierda.url=s,this.setImagenInicioIzquierda()})}},"image/jpeg",.7)}getCroppedImageCentral(){this.angularCropper3.cropper.getCroppedCanvas().toBlob(t=>{const i=new FileReader;i.readAsDataURL(t),i.onload=()=>{this.croppedresult=i.result;let a=new File([t],this.imageName,{type:"image/jpeg"});this.imagenesService.subirImagen(a,"imagenCentral","inicio").subscribe(s=>{console.log("URL IMAGEN SUBIDA: ",s),this.imagenInicioCentral.url=s,this.setImagenInicioCentral()})}},"image/jpeg",.7)}getImagenesInicio(){this.imagenesService.getImagenesInicio().subscribe(t=>{t.forEach(i=>{"derecha"==i.posicion&&(this.imagenInicioDerecha=i),"izquierda"==i.posicion&&(this.imagenInicioIzquierda=i),"centro"==i.posicion&&(this.imagenInicioCentral=i)})})}setImagenInicioDerecha(){this.imagenesService.setImagenInicioDerecha(this.imagenInicioDerecha).subscribe(t=>{this.imagenInicioDerecha=t})}setImagenInicioIzquierda(){this.imagenesService.setImagenInicioIzquierda(this.imagenInicioIzquierda).subscribe(t=>{this.imagenInicioIzquierda=t})}setImagenInicioCentral(){this.imagenesService.setImagenInicioCentral(this.imagenInicioCentral).subscribe(t=>{this.imagenInicioCentral=t})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l),e.Y36(u.j))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-editor-inicio"]],viewQuery:function(t,i){if(1&t&&(e.Gf(Ut,5),e.Gf(It,5),e.Gf(Nt,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.angularCropper=o.first),e.iGM(o=e.CRH())&&(i.angularCropper2=o.first),e.iGM(o=e.CRH())&&(i.angularCropper3=o.first)}},decls:97,vars:16,consts:[[1,"titulo","row","p-0","m-0","text-center"],[1,"inicio","row","p-0","m-0"],[1,"promo","col-3","p-0","m-0"],["data-bs-toggle","modal","data-bs-target","#imagenLateralIzquierdaModal",1,"boton","btn","btn-warning","btn-sm","m-3"],["alt","","data-bs-toggle","modal","data-bs-target","#imagenLateralIzquierdaModal",1,"img-fluid","p-0","m-0",3,"src"],[1,"carrusel","col-6","p-0","m-0"],["id","carouselExampleCaptions","data-bs-ride","carousel","data-bs-wrap","true",1,"carousel","slide","carousel-fade"],[1,"carousel-indicators"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","0","aria-current","true","aria-label","Slide 1",1,"active"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","1","aria-label","Slide 2",4,"ngIf"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","2","aria-label","Slide 3",4,"ngIf"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","3","aria-label","Slide 4",4,"ngIf"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","4","aria-label","Slide 5",4,"ngIf"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","5","aria-label","Slide 6",4,"ngIf"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","6","aria-label","Slide 7",4,"ngIf"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","7","aria-label","Slide 8",4,"ngIf"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","8","aria-label","Slide 9",4,"ngIf"],[1,"carousel-inner"],["data-bs-interval","4000",1,"carousel-item","active"],["data-bs-toggle","modal","data-bs-target","#imagenCentralModal",1,"boton-central","btn","btn-warning","btn-sm","m-3"],["alt","...",1,"d-block","w-100",2,"margin","0","padding","0",3,"src"],["class","carousel-item","data-bs-interval","3500",4,"ngFor","ngForOf"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],["data-bs-toggle","modal","data-bs-target","#imagenLateralDerechaModal",1,"boton","btn","btn-warning","btn-sm","m-3"],["alt","","data-bs-toggle","modal","data-bs-target","#imagenLateralDerechaModal",1,"img-fluid","p-0","m-0",3,"src"],[1,"row","m-4"],[1,"my-4"],[1,"row","my-2"],[1,"col-1"],[1,"col-6","text-center"],["style","display:block;","class","row",4,"ngFor","ngForOf"],["id","imagenLateralDerechaModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["type","file","accept","images/",3,"change"],[4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["data-bs-dismiss","modal",1,"btn","btn-primary",3,"click"],["id","imagenLateralIzquierdaModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","imagenCentralModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","1","aria-label","Slide 2"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","2","aria-label","Slide 3"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","3","aria-label","Slide 4"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","4","aria-label","Slide 5"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","5","aria-label","Slide 6"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","6","aria-label","Slide 7"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","7","aria-label","Slide 8"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","8","aria-label","Slide 9"],["data-bs-interval","3500",1,"carousel-item"],["data-bs-target","#carouselExampleCaptions","data-bs-slide-to","0",1,"boton-central","btn","btn-danger","btn-sm","m-3",3,"click"],["alt","...",1,"d-block","w-100",3,"src"],[1,"carousel-caption"],["class","letra-blanca",4,"ngIf"],["class","letra-blanca d-none d-md-block",4,"ngIf"],["class","letra-negra",4,"ngIf"],["class","letra-negra d-none d-md-block",4,"ngIf"],[1,"letra-blanca"],[1,"letra-blanca","d-none","d-md-block"],[1,"letra-negra"],[1,"letra-negra","d-none","d-md-block"],[1,"row",2,"display","block"],[1,"col-6"],[1,"btn","btn-success","btn-sm","col-3",3,"click"],[3,"cropperOptions","imageUrl"],["angularCropper",""],["angularCropper2",""],["angularCropper3",""]],template:function(t,i){1&t&&(e.TgZ(0,"section",0)(1,"h3"),e._uU(2,"EDICI\xd3N DE LA P\xc1GINA DE INICIO"),e.qZA()(),e.TgZ(3,"section",1)(4,"section",2)(5,"button",3),e._uU(6,"CAMBIAR"),e.qZA(),e._UZ(7,"img",4),e.qZA(),e.TgZ(8,"section",5)(9,"div",6)(10,"div",7),e._UZ(11,"button",8),e.YNc(12,Et,1,0,"button",9),e.YNc(13,Jt,1,0,"button",10),e.YNc(14,Ot,1,0,"button",11),e.YNc(15,Ft,1,0,"button",12),e.YNc(16,Lt,1,0,"button",13),e.YNc(17,kt,1,0,"button",14),e.YNc(18,Rt,1,0,"button",15),e.YNc(19,Qt,1,0,"button",16),e.qZA(),e.TgZ(20,"div",17)(21,"div",18)(22,"button",19),e._uU(23,"CAMBIAR IMAGEN DE INICIO"),e.qZA(),e._UZ(24,"img",20),e.qZA(),e.YNc(25,zt,9,5,"div",21),e.qZA(),e.TgZ(26,"button",22),e._UZ(27,"span",23),e.TgZ(28,"span",24),e._uU(29,"Previous"),e.qZA()(),e.TgZ(30,"button",25),e._UZ(31,"span",26),e.TgZ(32,"span",24),e._uU(33,"Next"),e.qZA()()()(),e.TgZ(34,"section",2)(35,"button",27),e._uU(36,"CAMBIAR"),e.qZA(),e._UZ(37,"img",28),e.qZA()(),e.TgZ(38,"div",29)(39,"h3",30)(40,"b"),e._uU(41,"Publicaciones que puedes a\xf1adir al Carrulsel"),e.qZA()(),e.TgZ(42,"div",31),e._UZ(43,"div",32),e.TgZ(44,"div",33)(45,"h4")(46,"b"),e._uU(47,"Titulo de la publicaci\xf3n"),e.qZA()()()(),e.YNc(48,Gt,8,1,"div",34),e.qZA(),e.TgZ(49,"div",35)(50,"div",36)(51,"div",37)(52,"div",38)(53,"h1",39),e._uU(54,"Insertar Imagen"),e.qZA(),e._UZ(55,"button",40),e.qZA(),e.TgZ(56,"div",41)(57,"section")(58,"input",42),e.NdJ("change",function(a){return i.onSelectFileDerecha(a)}),e.qZA()(),e.YNc(59,Bt,3,4,"section",43),e.qZA(),e.TgZ(60,"div",44)(61,"button",45),e._uU(62,"Cerrar"),e.qZA(),e.TgZ(63,"button",46),e.NdJ("click",function(){return i.getCroppedImageDerecha()}),e._uU(64,"Aceptar"),e.qZA()()()()(),e.TgZ(65,"div",47)(66,"div",36)(67,"div",37)(68,"div",38)(69,"h1",39),e._uU(70,"Insertar Imagen"),e.qZA(),e._UZ(71,"button",40),e.qZA(),e.TgZ(72,"div",41)(73,"section")(74,"input",42),e.NdJ("change",function(a){return i.onSelectFileIzquierda(a)}),e.qZA()(),e.YNc(75,Vt,3,4,"section",43),e.qZA(),e.TgZ(76,"div",44)(77,"button",45),e._uU(78,"Cerrar"),e.qZA(),e.TgZ(79,"button",46),e.NdJ("click",function(){return i.getCroppedImageIzquierda()}),e._uU(80,"Aceptar"),e.qZA()()()()(),e.TgZ(81,"div",48)(82,"div",36)(83,"div",37)(84,"div",38)(85,"h1",39),e._uU(86,"Insertar Imagen"),e.qZA(),e._UZ(87,"button",40),e.qZA(),e.TgZ(88,"div",41)(89,"section")(90,"input",42),e.NdJ("change",function(a){return i.onSelectFileCentral(a)}),e.qZA()(),e.YNc(91,$t,3,4,"section",43),e.qZA(),e.TgZ(92,"div",44)(93,"button",45),e._uU(94,"Cerrar"),e.qZA(),e.TgZ(95,"button",46),e.NdJ("click",function(){return i.getCroppedImageCentral()}),e._uU(96,"Aceptar"),e.qZA()()()()()),2&t&&(e.xp6(7),e.s9C("src",i.imagenInicioIzquierda.url,e.LSH),e.xp6(5),e.Q6J("ngIf",i.publicacionesCarousel[0]),e.xp6(1),e.Q6J("ngIf",i.publicacionesCarousel[1]),e.xp6(1),e.Q6J("ngIf",i.publicacionesCarousel[2]),e.xp6(1),e.Q6J("ngIf",i.publicacionesCarousel[3]),e.xp6(1),e.Q6J("ngIf",i.publicacionesCarousel[3]),e.xp6(1),e.Q6J("ngIf",i.publicacionesCarousel[5]),e.xp6(1),e.Q6J("ngIf",i.publicacionesCarousel[6]),e.xp6(1),e.Q6J("ngIf",i.publicacionesCarousel[7]),e.xp6(5),e.s9C("src",i.imagenInicioCentral.url,e.LSH),e.xp6(1),e.Q6J("ngForOf",i.publicacionesCarousel),e.xp6(12),e.s9C("src",i.imagenInicioDerecha.url,e.LSH),e.xp6(11),e.Q6J("ngForOf",i.publicacionesNoCarousel),e.xp6(11),e.Q6J("ngIf",i.imagePreviewUrl),e.xp6(16),e.Q6J("ngIf",i.imagePreviewUrl),e.xp6(16),e.Q6J("ngIf",i.imagePreviewUrl))},dependencies:[d.sg,d.O5,C.V2],styles:[".card[_ngcontent-%COMP%]{margin:0;border-radius:0;border-style:none}.boton[_ngcontent-%COMP%]{position:absolute;margin-left:3%!important}.boton-central[_ngcontent-%COMP%]{position:absolute;margin-left:13%!important}.letra-blanca[_ngcontent-%COMP%]{color:#fff}.letra-blanca[_ngcontent-%COMP%]:hover{opacity:1;color:#f7c15d}.letra-negra[_ngcontent-%COMP%]{color:#000}.letra-negra[_ngcontent-%COMP%]:hover{opacity:1;color:#7a5003}.modal-header[_ngcontent-%COMP%]{background-color:#ff6d00;color:#fff}.carousel-caption[_ngcontent-%COMP%]{opacity:0;transform:translateY(100%)}.carousel-item.active[_ngcontent-%COMP%]   .carousel-caption[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slide-up .8s 1s forwards}.carousel-item[_ngcontent-%COMP%]   .carousel-caption[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slide-down .8s forwards}@keyframes _ngcontent-%COMP%_slide-up{0%{opacity:0;transform:translateY(100%)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slide-down{0%{opacity:1;transform:translateY(0)}50%{opacity:0;transform:translateY(-50%)}to{opacity:0;transform:translateY(100%)}}@keyframes _ngcontent-%COMP%_slidein{0%{transform:translateY(100%)}to{transform:translateY(0)}}"]}),n})();class z{constructor(){this.id="",this.html="",this.nombrePagina=""}}let G=(()=>{class n{constructor(t){this.http=t,this.endpoint=v.N.urlAPI}getPaginaEditable(t){return this.http.get(this.endpoint+"/paginaEditables/search/paginaEditableByNombrePagina/"+t)}getId(t){let o=t._links.self.href.split("/");return o[o.length-1]}postPaginaEditable(t){return this.http.post(this.endpoint+"/paginaEditables",t)}patchPaginaEditable(t){return this.http.patch(this.endpoint+"/paginaEditables/"+t.id,t)}deletePaginaEditable(t){return this.http.delete(this.endpoint+"/paginaEditables/"+t.id)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(m.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Xt=(()=>{class n{constructor(t,i){this.paginaEditableService=t,this.activatedRoute=i,this.nombrePagina="",this.paginaEditable=new z}ngOnInit(){this.getNombrePagina(),this.getPaginaEditable()}getNombrePagina(){this.activatedRoute.params.subscribe(t=>{console.log(t),this.nombrePagina=t.paginaNombre.replaceAll("-"," "),console.log("NOMBRE PAGINA: "+this.nombrePagina)})}getPaginaEditable(){this.paginaEditableService.getPaginaEditable(this.nombrePagina).subscribe(t=>{t.id=this.paginaEditableService.getId(t),this.paginaEditable=t,this.paginaEditable.html=this.paginaEditable.html.replaceAll('<iframe class="ql-video ql-align-center" frameborder="0" allowfullscreen="true" src="https://www.youtube.com','<div class="iframe-container d-flex justify-content-center"><iframe class="ql-video"allowfullscreen="true" tipo="youtube" src="https://www.youtube.com'),this.paginaEditable.html=this.paginaEditable.html.replaceAll('<iframe class="ql-video ql-align-center" allowfullscreen="true" src="https://www.youtube.com','<div class="iframe-container d-flex justify-content-center"><iframe class="ql-video" allowfullscreen="true" tipo="youtube" src="https://www.youtube.com'),this.paginaEditable.html=this.paginaEditable.html.replaceAll('<iframe style="border-radius:12px" src="https://open.spotify.com','<div class="iframe-container d-flex justify-content-center"><iframe class="ql-video ql-align-center" allowfullscreen="true" tipo="podcast" src="https://open.spotify.com'),this.paginaEditable.html=this.paginaEditable.html.replaceAll('<iframe class="ql-video ql-align-center" src="https://open.spotify.com','<div class="iframe-container d-flex justify-content-center"><iframe class="ql-video ql-align-center" allowfullscreen="true" tipo="podcast" src="https://open.spotify.com'),this.paginaEditable.html=this.paginaEditable.html.replaceAll('<iframe class="ql-video ql-align-center" allowfullscreen="true" src="https://open.spotify.com','<div class="iframe-container d-flex justify-content-center"><iframe class="ql-video ql-align-center" allowfullscreen="true" tipo="podcast" src="https://open.spotify.com'),this.paginaEditable.html=this.paginaEditable.html.replaceAll("</iframe>","</iframe></div>"),this.paginaEditable.html=this.paginaEditable.html.replaceAll('<p class="ql-align-center"><img src="','<p class="ql-align-center imagen-container text-center"><img src="'),this.paginaEditable.html=this.paginaEditable.html.replaceAll('alt="imagenAlt100">','alt="imagenAlt100"></p>'),this.paginaEditable.html=this.paginaEditable.html.replaceAll('alt="imagenAlt75">','alt="imagenAlt75"></p>'),this.paginaEditable.html=this.paginaEditable.html.replaceAll('alt="imagenAlt50">','alt="imagenAlt50"></p>'),this.paginaEditable.html=this.paginaEditable.html.replaceAll('alt="imagenAlt35">','alt="imagenAlt35"></p>'),this.paginaEditable.html=this.paginaEditable.html.replaceAll('alt="imagenAlt20">','alt="imagenAlt20"></p>'),this.showPublicacion()})}showPublicacion(){var t=document.querySelector("#body"),i=document.createElement("div");i.innerHTML=this.paginaEditable.html,t?.appendChild(i)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(G),e.Y36(h.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-pagina-editable"]],decls:1,vars:0,consts:[["id","body",1,"body"]],template:function(t,i){1&t&&e._UZ(0,"body",0)},styles:[".body[_ngcontent-%COMP%]{margin-left:10%;margin-right:10%;margin-top:5%}@media (max-width: 40em){  img[alt=imagenAlt100]{width:100%!important}  img[alt=imagenAlt75]{width:90%!important}  img[alt=imagenAlt50]{width:70%!important}  img[alt=imagenAlt35]{width:60%!important}  img[alt=imagenAlt20]{width:50%!important}  .iframe-container{width:100%!important;height:-moz-fit-content!important;height:fit-content!important}  iframe[tipo=podcast]{width:100%!important;height:25vw!important}  iframe[tipo=youtube]{width:100%!important;height:48vw!important}}@media (min-width: 41em){  img[alt=imagenAlt100]{width:100%!important}  img[alt=imagenAlt75]{width:75%!important}  img[alt=imagenAlt50]{width:50%!important}  img[alt=imagenAlt35]{width:35%!important}  img[alt=imagenAlt20]{width:20%!important}  iframe[tipo=podcast]{width:75%!important;height:220px!important}  iframe[tipo=youtube]{width:75%!important;height:28vw!important}}"]}),n})();const Wt=["angularCropper"];function ei(n,c){if(1&n&&(e.TgZ(0,"section"),e._UZ(1,"angular-cropper",40,41),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("imageUrl",t.imageUrl)}}let ti=(()=>{class n{constructor(t,i,o){this.paginaEditableService=t,this.imagenesService=i,this.activatedRoute=o,this.angularCropper=new C.V2,this.paginaEditable=new z,this.texto="",this.urlImagen="",this.urlVideo="",this.htmlPodcast="",this.htmlVideo="",this.imageUrl="",this.imagePreviewUrl="",this.imageName="",this.croppedresult="",this.anchoImagen="100",this.nombrePagina=""}ngOnInit(){this.getNombrePagina(),this.getPaginaEditable(),this.ajustarEditor()}getNombrePagina(){this.activatedRoute.params.subscribe(t=>{console.log(t),this.nombrePagina=t.paginaNombre.replaceAll("-"," ")})}getPaginaEditable(){this.paginaEditableService.getPaginaEditable(this.nombrePagina).subscribe(t=>{t.id=this.paginaEditableService.getId(t),this.paginaEditable=t,this.paginaEditable.html=this.paginaEditable.html.replaceAll('width="100%" height="352"','width="80%" height="200"'),this.texto=t.html})}enviar(){this.paginaEditable.id?this.patchPaginaEditable():this.postPaginaEditable()}postPaginaEditable(){this.paginaEditable.id=void 0,this.paginaEditable.html=this.texto,this.paginaEditable.nombrePagina=this.nombrePagina.replaceAll("-"," "),this.paginaEditableService.postPaginaEditable(this.paginaEditable).subscribe(t=>{t.id=this.paginaEditableService.getId(t),this.paginaEditable=t})}patchPaginaEditable(){this.paginaEditable.html=this.texto,this.paginaEditable.nombrePagina=this.nombrePagina.replaceAll("-"," "),this.paginaEditableService.patchPaginaEditable(this.paginaEditable).subscribe(t=>{t.id=this.paginaEditableService.getId(t),this.paginaEditable=t})}agregarPodcast(){this.htmlPodcast=this.htmlPodcast.replace("></iframe>",'tipo ="podcast"></iframe>'),this.htmlPodcast=this.htmlPodcast.replaceAll('width="100%" height="352"','width="80%" height="200"'),this.texto=this.texto+this.htmlPodcast}agregarVideo(){this.htmlVideo=this.htmlVideo.replace("></iframe>",'tipo ="youtube"></iframe>'),this.texto=this.texto+this.htmlVideo,this.htmlVideo=""}onSelectFile(t){if(t.target.files&&t.target.files[0]){const i=new FileReader;i.readAsDataURL(t.target.files[0]),i.onload=()=>{this.imageUrl=i.result},console.log("EVENT",t.target.files[0]),this.imageName=t.target.files[0].name}console.log("IMAGEN SELECCIONADA EN PC: ",this.imageUrl)}getCroppedImage(){this.angularCropper.cropper.getCroppedCanvas().toBlob(t=>{const i=new FileReader;i.readAsDataURL(t),i.onload=()=>{this.croppedresult=i.result;let a=new File([t],this.imageName,{type:"image/jpeg"});this.imagenesService.subirImagen(a,"pagina-editable","pagina-editable").subscribe(s=>{console.log("URL IMAGEN SUBIDA: ",s),this.insertarImagenUrl(s)})}},"image/jpeg",.7)}insertarImagenUrl(t){this.texto=this.texto+'<img src="'+t+'" alt="imagenAlt'+this.anchoImagen+'">',t="",this.imageUrl="",this.imageName=""}ajustarEditor(){setTimeout(()=>{document.getElementsByClassName("ql-editor")[0].setAttribute("style","height: 700px")},500)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(G),e.Y36(u.j),e.Y36(h.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-editor"]],viewQuery:function(t,i){if(1&t&&e.Gf(Wt,5),2&t){let o;e.iGM(o=e.CRH())&&(i.angularCropper=o.first)}},decls:79,vars:6,consts:[[1,"text-center"],[1,"mx-3"],[1,"m-1","agregar-bloque-texto","row","form-group","text-center"],[1,"col-1"],[1,"row"],["type","button","data-bs-toggle","modal","data-bs-target","#imagenModal",1,"btn"],["src","../../../../assets/icono-foto.png","alt","",1,"icono-youtube"],["type","button","data-bs-toggle","modal","data-bs-target","#videoModal",1,"btn"],["src","../../../../assets/icono-youtube.jpg","alt","",1,"icono-youtube"],["type","button","data-bs-toggle","modal","data-bs-target","#podcastModal",1,"btn"],["src","../../../../assets/icono-spotify.png","alt","",1,"icono-spotify"],["id","editor",1,"col-11","editor-container"],["name","editor","id","editor",1,"quill-editor","my-2","py-4",3,"ngModel","ngModelChange"],[1,"btn","btn-success","btn-sm","m-3",3,"click"],["id","podcastModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["type","text","name","","placeholder","Url del podcast Spotify","rows","1",2,"width","95%",3,"ngModel","ngModelChange"],["src","../../../../assets/copiar_codigo_spotify.png","alt","",1,"img-fluid","my-4"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["data-bs-dismiss","modal",1,"btn","btn-primary",3,"click"],["id","videoModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["type","text","name","","placeholder","Url del video de Youtube","rows","1",2,"width","95%",3,"ngModel","ngModelChange"],["src","../../../../assets/copiar_codigo_youtube.png","alt","",1,"img-fluid","my-4"],["id","imagenModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["type","file","accept","images/",3,"change"],[4,"ngIf"],[1,"my-4"],["for","",1,"mx-2"],["type","text",3,"ngModel","ngModelChange"],["value","100"],["value","75"],["value","50"],["value","35"],["value","20"],[3,"imageUrl"],["angularCropper",""]],template:function(t,i){1&t&&(e.TgZ(0,"h3",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1)(3,"form",2)(4,"div",3)(5,"div",4)(6,"button",5),e._UZ(7,"img",6),e.qZA()(),e.TgZ(8,"div",4)(9,"button",7),e._UZ(10,"img",8),e.qZA()(),e.TgZ(11,"div",4)(12,"button",9),e._UZ(13,"img",10),e.qZA()()(),e.TgZ(14,"div",11)(15,"quill-editor",12),e.NdJ("ngModelChange",function(a){return i.texto=a}),e.qZA()(),e.TgZ(16,"div",0)(17,"button",13),e.NdJ("click",function(){return i.enviar()}),e._uU(18,"ACEPTAR"),e.qZA()()()(),e.TgZ(19,"div",14)(20,"div",15)(21,"div",16)(22,"div",17)(23,"h1",18),e._uU(24,"Insertar Podcast"),e.qZA(),e._UZ(25,"button",19),e.qZA(),e.TgZ(26,"div",20)(27,"input",21),e.NdJ("ngModelChange",function(a){return i.htmlPodcast=a}),e.qZA(),e._UZ(28,"img",22),e.qZA(),e.TgZ(29,"div",23)(30,"button",24),e._uU(31,"Cerrar"),e.qZA(),e.TgZ(32,"button",25),e.NdJ("click",function(){return i.agregarPodcast()}),e._uU(33,"A\xf1adir podcast"),e.qZA()()()()(),e.TgZ(34,"div",26)(35,"div",15)(36,"div",16)(37,"div",17)(38,"h1",18),e._uU(39,"Insertar Video"),e.qZA(),e._UZ(40,"button",19),e.qZA(),e.TgZ(41,"div",20)(42,"input",27),e.NdJ("ngModelChange",function(a){return i.htmlVideo=a}),e.qZA(),e._UZ(43,"img",28),e.qZA(),e.TgZ(44,"div",23)(45,"button",24),e._uU(46,"Cerrar"),e.qZA(),e.TgZ(47,"button",25),e.NdJ("click",function(){return i.agregarVideo()}),e._uU(48,"A\xf1adir video"),e.qZA()()()()(),e.TgZ(49,"div",29)(50,"div",15)(51,"div",16)(52,"div",17)(53,"h1",18),e._uU(54,"Insertar Imagen"),e.qZA(),e._UZ(55,"button",19),e.qZA(),e.TgZ(56,"div",20)(57,"section")(58,"input",30),e.NdJ("change",function(a){return i.onSelectFile(a)}),e.qZA()(),e.YNc(59,ei,3,1,"section",31),e.TgZ(60,"section",32)(61,"label",33),e._uU(62,"Tama\xf1o"),e.qZA(),e.TgZ(63,"select",34),e.NdJ("ngModelChange",function(a){return i.anchoImagen=a}),e.TgZ(64,"option",35),e._uU(65,"Ancho 100%"),e.qZA(),e.TgZ(66,"option",36),e._uU(67,"Ancho 75%"),e.qZA(),e.TgZ(68,"option",37),e._uU(69,"Ancho 50%"),e.qZA(),e.TgZ(70,"option",38),e._uU(71,"Ancho 35%"),e.qZA(),e.TgZ(72,"option",39),e._uU(73,"Ancho 20%"),e.qZA()()()(),e.TgZ(74,"div",23)(75,"button",24),e._uU(76,"Cerrar"),e.qZA(),e.TgZ(77,"button",25),e.NdJ("click",function(){return i.getCroppedImage()}),e._uU(78,"Aceptar"),e.qZA()()()()()),2&t&&(e.xp6(1),e.hij('Contenido de la pagina "',i.nombrePagina,'"'),e.xp6(14),e.Q6J("ngModel",i.texto),e.xp6(12),e.Q6J("ngModel",i.htmlPodcast),e.xp6(15),e.Q6J("ngModel",i.htmlVideo),e.xp6(17),e.Q6J("ngIf",i.imageUrl),e.xp6(4),e.Q6J("ngModel",i.anchoImagen))},dependencies:[d.O5,r._Y,r.YN,r.Kr,r.Fj,r.EJ,r.JJ,r.JL,r.On,r.F,Q.g6,C.V2],styles:[".bloque[_ngcontent-%COMP%]{border-style:dotted;border-width:1px}.agregar-bloque-texto[_ngcontent-%COMP%]{border-style:solid;background-color:#fafaf9;border-width:1px}.agregar-bloque-imagen[_ngcontent-%COMP%]{border-style:solid;background-color:#c3dde1;border-width:1px}.agregar-bloque-video[_ngcontent-%COMP%]{border-style:solid;background-color:#dbab9f;border-width:1px}.agregar-bloque-podcast[_ngcontent-%COMP%]{border-style:solid;background-color:#cfeccf;border-width:1px}.preview-publicacion[_ngcontent-%COMP%]{border-style:solid;background-color:#d0d2d0;border-width:1px}.imagen-publicacion[_ngcontent-%COMP%]{width:50%}.cuadro-texto[_ngcontent-%COMP%]{width:100%}.quill-editor[_ngcontent-%COMP%]{background-color:#fff;width:90%;box-shadow:2px 2px 10px #666}.icono-spotify[_ngcontent-%COMP%], .icono-youtube[_ngcontent-%COMP%]{width:9vw;border-style:solid;border-width:1px;border-radius:5px}.ql-video[_ngcontent-%COMP%]{width:50px}.iframe-container[_ngcontent-%COMP%]{width:100px}.modal-header[_ngcontent-%COMP%]{background-color:#ff6d00;color:#fff}@media (max-width: 40em){  .imagen{width:100%!important}  img[alt=imagenAlt35]{width:60%!important}  img[alt=imagenAlt20]{width:50%!important}  .iframe-container{width:100%!important;height:-moz-fit-content!important;height:fit-content!important}  iframe[tipo=podcast]{width:100%!important;height:28vw!important}  iframe[tipo=youtube]{width:100%!important;height:45vw!important}}@media (min-width: 41em){  img[alt=imagenAlt100]{width:100%!important}  img[alt=imagenAlt75]{width:75%!important}  img[alt=imagenAlt50]{width:50%!important}  img[alt=imagenAlt35]{width:35%!important}  img[alt=imagenAlt20]{width:20%!important}  iframe[tipo=podcast]{width:75%!important;height:250px!important}  iframe[tipo=youtube]{width:75%!important;height:35vw!important}}"]}),n})(),ii=(()=>{class n{constructor(t){this.http=t,this.tweetUrl="https://publish.twitter.com/oembed"}getTweet(t){return this.http.get(`${this.tweetUrl}?url=${t}`)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(m.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ni=(()=>{class n{constructor(t,i){this.lateralService=t,this.twitterService=i,this.lateral=new T,this.htmlPodcastSeleccionado="",this.htmlTwitterSeleccionado="",this.htmlTwitter2Seleccionado="",this.htmlTwitter3Seleccionado=""}ngOnInit(){this.getLateral()}getLateral(){this.lateralService.getLateral().subscribe(t=>{this.lateral=t,this.lateral.id=this.lateralService.getId(t),this.htmlPodcastSeleccionado=this.lateral.htmlPodcast,this.htmlTwitterSeleccionado=this.lateral.htmlTwitter,this.htmlTwitter2Seleccionado=this.lateral.htmlTwitter2,this.htmlTwitter3Seleccionado=this.lateral.htmlTwitter3,this.showHtmlPodcast(),this.showHtmlTwitter(),this.showHtmlTwitter2(),this.showHtmlTwitter3()}),this.lateral.htmlPodcast=this.lateral.htmlPodcast.replaceAll('<iframe style="border-radius:12px" src="https://open.spotify.com','<div class="iframe-container d-flex justify-content-center"><iframe class="ql-video ql-align-center" allowfullscreen="true" tipo="podcast" src="https://open.spotify.com'),this.lateral.htmlPodcast=this.lateral.htmlPodcast.replaceAll('<iframe class="ql-video ql-align-center" src="https://open.spotify.com','<div class="iframe-container d-flex justify-content-center"><iframe class="ql-video ql-align-center" allowfullscreen="true" tipo="podcast" src="https://open.spotify.com'),this.lateral.htmlPodcast=this.lateral.htmlPodcast.replaceAll('<iframe class="ql-video ql-align-center" allowfullscreen="true" src="https://open.spotify.com','<div class="iframe-container d-flex justify-content-center"><iframe class="ql-video ql-align-center" allowfullscreen="true" tipo="podcast" src="https://open.spotify.com'),this.lateral.htmlPodcast=this.lateral.htmlPodcast.replaceAll('<iframe class="ql-video" src="https://open.spotify.com','<div class="iframe-container d-flex justify-content-center"><iframe class="ql-video ql-align-center" allowfullscreen="true" tipo="podcast" src="https://open.spotify.com'),this.lateral.htmlPodcast=this.lateral.htmlPodcast.replaceAll('<iframe class="ql-video" allowfullscreen="true" src="https://open.spotify.com','<div class="iframe-container d-flex justify-content-center"><iframe class="ql-video ql-align-center" allowfullscreen="true" tipo="podcast" src="https://open.spotify.com'),this.lateral.htmlPodcast=this.lateral.htmlPodcast.replaceAll("</iframe>","</iframe></div>")}postLateral(){this.lateralService.postLateral(this.lateral).subscribe(t=>{this.lateral=t})}patchLateral(){this.lateralService.patchLateral(this.lateral).subscribe(t=>{this.lateral=t})}deleteLateral(){this.lateralService.deleteLateral().subscribe(t=>{})}agregarPodcast(){this.htmlPodcastSeleccionado=this.htmlPodcastSeleccionado.replaceAll('height="352"','height="100"'),this.lateral.htmlPodcast=this.htmlPodcastSeleccionado,this.showHtmlPodcast(),this.guardarCambios()}showHtmlPodcast(){var t=document.querySelector("#podcast"),i=document.createElement("div");i.innerHTML=this.lateral.htmlPodcast,t?.appendChild(i),console.log(i.innerHTML)}showHtmlPodcastSM(){var t=document.querySelector("#podcastSM"),i=document.createElement("div");i.innerHTML=this.lateral.htmlPodcast,t?.appendChild(i),console.log(i.innerHTML)}agregarTwitter(){var t=document.querySelector("#twitter"),i=document.querySelector("tweet");i&&t?.removeChild(i),this.lateral.htmlTwitter=this.htmlTwitterSeleccionado,this.guardarCambios()}agregarTwitter2(){document.querySelector("#twitter2"),this.lateral.htmlTwitter2=this.htmlTwitter2Seleccionado,this.guardarCambios()}agregarTwitter3(){document.querySelector("#twitter3"),this.lateral.htmlTwitter3=this.htmlTwitter3Seleccionado,this.guardarCambios()}showHtmlTwitter(){var t=document.querySelector("#twitter"),i=document.createElement("div");i.innerHTML=this.htmlTwitterSeleccionado,t?.appendChild(i)}showHtmlTwitter2(){var t=document.querySelector("#twitter2"),i=document.createElement("div");i.innerHTML=this.htmlTwitter2Seleccionado,t?.appendChild(i)}showHtmlTwitter3(){var t=document.querySelector("#twitter3"),i=document.createElement("div");i.innerHTML=this.htmlTwitter3Seleccionado,t?.appendChild(i),twttr.widgets.load()}guardarCambios(){"1"==this.lateral.id?this.lateralService.patchLateral(this.lateral).subscribe(t=>{this.lateral=t,location.reload()}):this.lateralService.postLateral(this.lateral).subscribe(t=>{this.lateral=t,this.lateral.id=this.lateralService.getId(t)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f),e.Y36(ii))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-editor-lateral"]],decls:94,vars:4,consts:[[1,"row","editor-lateral","my-4"],[1,"col-1","col-md-4"],[1,"lateral","col-10","col-md-4","text-center"],[1,"row","podcast-container"],["id","podcast",1,"podcast","mt-2"],[1,"text-center"],["data-bs-toggle","modal","data-bs-target","#podcastModal",1,"btn","btn-warning"],[1,"row","buscador-container"],["id","twitter-container",1,"row","twitter-container"],["id","twitter",1,"twitter","mt-2"],[1,"numero-tweet"],[1,"text-center","my-2"],["data-bs-toggle","modal","data-bs-target","#twitterModal",1,"btn","btn-warning"],["id","twitter-container2",1,"row","twitter-container"],["id","twitter2",1,"twitter2","mt-2"],["data-bs-toggle","modal","data-bs-target","#twitterModal2",1,"btn","btn-warning"],["id","twitter-container3",1,"row","twitter-container"],["id","twitter3",1,"twitter3","mt-2"],["data-bs-toggle","modal","data-bs-target","#twitterModal3",1,"btn","btn-warning"],[1,"row","instagram-container"],[1,"row","linkedin-container"],[1,"row","facebook-container"],["id","podcastModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["type","text","name","","placeholder","Url del podcast Spotify","rows","1",2,"width","95%",3,"ngModel","ngModelChange"],["src","../../../../assets/copiar_codigo_spotify.png","alt","",1,"img-fluid","my-4"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["data-bs-dismiss","modal",1,"btn","btn-primary",3,"click"],["id","twitterModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","twitterModal2","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","twitterModal3","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"]],template:function(t,i){1&t&&(e.TgZ(0,"section",0),e._UZ(1,"section",1),e.TgZ(2,"section",2)(3,"section",3),e._UZ(4,"div",4),e.TgZ(5,"div",5)(6,"button",6),e._uU(7,"Cambiar podcast"),e.qZA()()(),e._UZ(8,"section",7),e.TgZ(9,"section",8)(10,"div",9)(11,"h5",10),e._uU(12,"Tweet 1"),e.qZA()(),e.TgZ(13,"div",11)(14,"button",12),e._uU(15,"Cambiar tweet"),e.qZA()()(),e.TgZ(16,"section",13)(17,"div",14)(18,"h5",10),e._uU(19,"Tweet 2"),e.qZA()(),e.TgZ(20,"div",11)(21,"button",15),e._uU(22,"Cambiar tweet"),e.qZA()()(),e.TgZ(23,"section",16)(24,"div",17)(25,"h5",10),e._uU(26,"Tweet 3"),e.qZA()(),e.TgZ(27,"div",11)(28,"button",18),e._uU(29,"Cambiar tweet"),e.qZA()()(),e._UZ(30,"section",19)(31,"section",20)(32,"section",21),e.qZA(),e._UZ(33,"div",1),e.qZA(),e.TgZ(34,"div",22)(35,"div",23)(36,"div",24)(37,"div",25)(38,"h1",26),e._uU(39,"Insertar Podcast"),e.qZA(),e._UZ(40,"button",27),e.qZA(),e.TgZ(41,"div",28)(42,"input",29),e.NdJ("ngModelChange",function(a){return i.htmlPodcastSeleccionado=a}),e.qZA(),e._UZ(43,"img",30),e.qZA(),e.TgZ(44,"div",31)(45,"button",32),e._uU(46,"Cerrar"),e.qZA(),e.TgZ(47,"button",33),e.NdJ("click",function(){return i.agregarPodcast()}),e._uU(48,"A\xf1adir podcast"),e.qZA()()()()(),e.TgZ(49,"div",34)(50,"div",23)(51,"div",24)(52,"div",25)(53,"h1",26),e._uU(54,"Insertar Twitter"),e.qZA(),e._UZ(55,"button",27),e.qZA(),e.TgZ(56,"div",28)(57,"input",29),e.NdJ("ngModelChange",function(a){return i.htmlTwitterSeleccionado=a}),e.qZA(),e._UZ(58,"img",30),e.qZA(),e.TgZ(59,"div",31)(60,"button",32),e._uU(61,"Cerrar"),e.qZA(),e.TgZ(62,"button",33),e.NdJ("click",function(){return i.agregarTwitter()}),e._uU(63,"A\xf1adir tweet seleccionado"),e.qZA()()()()(),e.TgZ(64,"div",35)(65,"div",23)(66,"div",24)(67,"div",25)(68,"h1",26),e._uU(69,"Insertar Twitter 2"),e.qZA(),e._UZ(70,"button",27),e.qZA(),e.TgZ(71,"div",28)(72,"input",29),e.NdJ("ngModelChange",function(a){return i.htmlTwitter2Seleccionado=a}),e.qZA(),e._UZ(73,"img",30),e.qZA(),e.TgZ(74,"div",31)(75,"button",32),e._uU(76,"Cerrar"),e.qZA(),e.TgZ(77,"button",33),e.NdJ("click",function(){return i.agregarTwitter2()}),e._uU(78,"A\xf1adir tweet seleccionado"),e.qZA()()()()(),e.TgZ(79,"div",36)(80,"div",23)(81,"div",24)(82,"div",25)(83,"h1",26),e._uU(84,"Insertar Twitter 3"),e.qZA(),e._UZ(85,"button",27),e.qZA(),e.TgZ(86,"div",28)(87,"input",29),e.NdJ("ngModelChange",function(a){return i.htmlTwitter3Seleccionado=a}),e.qZA(),e._UZ(88,"img",30),e.qZA(),e.TgZ(89,"div",31)(90,"button",32),e._uU(91,"Cerrar"),e.qZA(),e.TgZ(92,"button",33),e.NdJ("click",function(){return i.agregarTwitter3()}),e._uU(93,"A\xf1adir tweet seleccionado"),e.qZA()()()()()),2&t&&(e.xp6(42),e.Q6J("ngModel",i.htmlPodcastSeleccionado),e.xp6(15),e.Q6J("ngModel",i.htmlTwitterSeleccionado),e.xp6(15),e.Q6J("ngModel",i.htmlTwitter2Seleccionado),e.xp6(15),e.Q6J("ngModel",i.htmlTwitter3Seleccionado))},dependencies:[r.Fj,r.JJ,r.On],styles:[".podcast-container[_ngcontent-%COMP%]{background-color:#000;height:200px;padding:5%}.twitter-container[_ngcontent-%COMP%]{margin-top:5%;padding:5%;background-color:#000;height:-moz-fit-content;height:fit-content}.numero-tweet[_ngcontent-%COMP%]{color:#fff}"]}),n})();function oi(n,c){if(1&n&&(e.TgZ(0,"div",3),e._UZ(1,"app-publicacion",4),e.qZA()),2&n){const t=c.$implicit;e.xp6(1),e.Q6J("publicacion",t)}}let ai=(()=>{class n{constructor(t,i,o){this.publicacionesService=t,this.activatedRoute=i,this.categoriaService=o,this.palabrasClave=[],this.id="",this.publicaciones=[]}ngOnInit(){const t=this.activatedRoute.snapshot.queryParamMap.get("palabrasClave");t&&(this.palabrasClave=JSON.parse(decodeURIComponent(t))),this.getPublicacionesByPalabras()}getPublicacionesByPalabras(){this.publicacionesService.getPublicacionesBuscador(this.palabrasClave).subscribe(t=>{this.publicaciones=t,this.publicaciones.forEach(i=>{i.id=this.publicacionesService.getId(i),this.publicacionesService.getCategoriaFromPublicacion(i).subscribe(o=>{i.categoria=o,i.categoria.id=this.categoriaService.getId(o)}),this.publicacionesService.getAutorFromPublicacion(i).subscribe(o=>{i.autor=o})})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l),e.Y36(h.gz),e.Y36(A))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-publicaciones-buscador"]],decls:6,vars:2,consts:[[1,"my-4","py-2","mx-4"],[1,"row","mx-2","my-4"],["style","display:inline-block;","class","card col-12 col-md-3 col-xxl-2",4,"ngFor","ngForOf"],[1,"card","col-12","col-md-3","col-xxl-2",2,"display","inline-block"],[3,"publicacion"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h3",1)(2,"b"),e._uU(3),e.qZA()(),e._UZ(4,"hr"),e.YNc(5,oi,2,1,"div",2),e.qZA()),2&t&&(e.xp6(3),e.hij('Relacionados con "',i.palabrasClave,'"'),e.xp6(2),e.Q6J("ngForOf",i.publicaciones))},dependencies:[d.sg,x],styles:[".card[_ngcontent-%COMP%]{margin:0;border-radius:0;border-style:none}"]}),n})();var B=p(5368),V=p(6544),j=p(7801),K=p(5643),X=p(8423),D=p(5470);const ci=["modalPaypal"];function ri(n,c){if(1&n&&(e.TgZ(0,"li",41),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[0].caracteristica1,"")}}function si(n,c){if(1&n&&(e.TgZ(0,"li",41),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[0].caracteristica2,"")}}function li(n,c){if(1&n&&(e.TgZ(0,"li",41),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[0].caracteristica3,"")}}function ui(n,c){if(1&n&&(e.TgZ(0,"li",41),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[0].caracteristica4,"")}}function pi(n,c){if(1&n&&(e.TgZ(0,"li",41),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[0].caracteristica5,"")}}function di(n,c){if(1&n&&(e.TgZ(0,"li",41),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[0].caracteristica6,"")}}function gi(n,c){if(1&n&&(e.TgZ(0,"li",41),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[0].caracteristica7,"")}}function mi(n,c){if(1&n&&(e.TgZ(0,"li",41),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[0].caracteristica8,"")}}function hi(n,c){if(1&n&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.suscripciones[0].precio)}}function bi(n,c){1&n&&(e.TgZ(0,"p"),e._uU(1,"GRATIS"),e.qZA())}function _i(n,c){if(1&n&&(e.TgZ(0,"li",41),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[1].caracteristica1,"")}}function fi(n,c){if(1&n&&(e.TgZ(0,"li",41),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[1].caracteristica2,"")}}function Ci(n,c){if(1&n&&(e.TgZ(0,"li",41),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[1].caracteristica3,"")}}function vi(n,c){if(1&n&&(e.TgZ(0,"li",41),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[1].caracteristica4,"")}}function Zi(n,c){if(1&n&&(e.TgZ(0,"li",41),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[1].caracteristica5,"")}}function Ti(n,c){if(1&n&&(e.TgZ(0,"li",41),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[1].caracteristica6,"")}}function xi(n,c){if(1&n&&(e.TgZ(0,"li",41),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[1].caracteristica7,"")}}function wi(n,c){if(1&n&&(e.TgZ(0,"li",41),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[1].caracteristica8,"")}}function Ai(n,c){if(1&n&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("",t.suscripciones[1].precio," EUROS / MES")}}function Pi(n,c){1&n&&(e.TgZ(0,"p"),e._uU(1,"GRATIS"),e.qZA())}function Mi(n,c){if(1&n&&(e.TgZ(0,"li",41),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[2].caracteristica1,"")}}function qi(n,c){if(1&n&&(e.TgZ(0,"li",41),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[2].caracteristica2,"")}}function Si(n,c){if(1&n&&(e.TgZ(0,"li",41),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[2].caracteristica3,"")}}function yi(n,c){if(1&n&&(e.TgZ(0,"li",41),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[2].caracteristica4,"")}}function Ui(n,c){if(1&n&&(e.TgZ(0,"li",41),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[2].caracteristica5,"")}}function Ii(n,c){if(1&n&&(e.TgZ(0,"li",41),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[2].caracteristica6,"")}}function Ni(n,c){if(1&n&&(e.TgZ(0,"li",41),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[2].caracteristica7,"")}}function Ei(n,c){if(1&n&&(e.TgZ(0,"li",41),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[2].caracteristica8,"")}}function Ji(n,c){if(1&n&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("",t.suscripciones[2].precio," EUROS / MES")}}function Oi(n,c){1&n&&(e.TgZ(0,"p"),e._uU(1,"GRATIS"),e.qZA())}function Fi(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",21)(1,"h1",22),e._uU(2,"Realizar Pago"),e.qZA(),e.TgZ(3,"button",42),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.KtG(a.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",24),e._UZ(5,"ngx-paypal",43),e.qZA(),e.TgZ(6,"div",31)(7,"button",44),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.KtG(a.close("Save click"))}),e._uU(8,"Cerrar"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("config",t.payPalConfig)}}const Qi=["modalRenovarPaypal"];function Yi(n,c){if(1&n&&(e.TgZ(0,"li",37),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[0].caracteristica1," ")}}function ji(n,c){if(1&n&&(e.TgZ(0,"li",37),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[0].caracteristica2," ")}}function Di(n,c){if(1&n&&(e.TgZ(0,"li",37),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[0].caracteristica3," ")}}function Hi(n,c){if(1&n&&(e.TgZ(0,"li",37),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[0].caracteristica4," ")}}function zi(n,c){if(1&n&&(e.TgZ(0,"li",37),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[0].caracteristica5," ")}}function Gi(n,c){if(1&n&&(e.TgZ(0,"li",37),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[0].caracteristica6," ")}}function Bi(n,c){if(1&n&&(e.TgZ(0,"li",37),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[0].caracteristica7," ")}}function Vi(n,c){if(1&n&&(e.TgZ(0,"li",37),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[0].caracteristica8," ")}}function $i(n,c){if(1&n&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.suscripciones[0].precio)}}function Ki(n,c){1&n&&(e.TgZ(0,"p"),e._uU(1,"GRATIS"),e.qZA())}function Xi(n,c){if(1&n&&(e.TgZ(0,"li",37),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[1].caracteristica1," ")}}function Wi(n,c){if(1&n&&(e.TgZ(0,"li",37),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[1].caracteristica2," ")}}function en(n,c){if(1&n&&(e.TgZ(0,"li",37),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[1].caracteristica3," ")}}function tn(n,c){if(1&n&&(e.TgZ(0,"li",37),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[1].caracteristica4," ")}}function nn(n,c){if(1&n&&(e.TgZ(0,"li",37),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[1].caracteristica5," ")}}function on(n,c){if(1&n&&(e.TgZ(0,"li",37),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[1].caracteristica6," ")}}function an(n,c){if(1&n&&(e.TgZ(0,"li",37),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[1].caracteristica7," ")}}function cn(n,c){if(1&n&&(e.TgZ(0,"li",37),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[1].caracteristica8," ")}}function rn(n,c){if(1&n&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("",t.suscripciones[1].precio," EUROS / MES")}}function sn(n,c){1&n&&(e.TgZ(0,"p"),e._uU(1,"GRATIS"),e.qZA())}function ln(n,c){if(1&n&&(e.TgZ(0,"li",37),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[2].caracteristica1," ")}}function un(n,c){if(1&n&&(e.TgZ(0,"li",37),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[2].caracteristica2," ")}}function pn(n,c){if(1&n&&(e.TgZ(0,"li",37),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[2].caracteristica3," ")}}function dn(n,c){if(1&n&&(e.TgZ(0,"li",37),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[2].caracteristica4," ")}}function gn(n,c){if(1&n&&(e.TgZ(0,"li",37),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[2].caracteristica5," ")}}function mn(n,c){if(1&n&&(e.TgZ(0,"li",37),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[2].caracteristica6," ")}}function hn(n,c){if(1&n&&(e.TgZ(0,"li",37),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[2].caracteristica7," ")}}function bn(n,c){if(1&n&&(e.TgZ(0,"li",37),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[2].caracteristica8," ")}}function _n(n,c){if(1&n&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("",t.suscripciones[2].precio," EUROS / MES")}}function fn(n,c){1&n&&(e.TgZ(0,"p"),e._uU(1,"GRATIS"),e.qZA())}function Cn(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",21)(1,"h1",22),e._uU(2,"Realizar Pago"),e.qZA(),e.TgZ(3,"button",38),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.KtG(a.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",24),e._UZ(5,"ngx-paypal",39),e.qZA(),e.TgZ(6,"div",28)(7,"button",40),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.KtG(a.close("Save click"))}),e._uU(8,"Cerrar"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("config",t.payPalConfig)}}const vn=[{path:"",component:de},{path:"formulario",component:H},{path:"",children:[{path:"publicaciones/:titulo",component:we}]},{path:"",children:[{path:"formulario/:id",component:H}]},{path:"",children:[{path:"publicaciones-tag/:tagNombre",component:Ge}]},{path:"",children:[{path:"publicaciones-provincia/:provincia",component:dt}]},{path:"",children:[{path:"publicaciones-categoria/:categoria",component:at}]},{path:"",children:[{path:"tags",component:ut}]},{path:"",children:[{path:"descubriendo-vermutorero",component:yt}]},{path:"",children:[{path:"editor-inicio",component:Kt}]},{path:"",children:[{path:"editor-lateral",component:ni}]},{path:"",children:[{path:"acerca-de/:paginaNombre",component:Xt}]},{path:"",children:[{path:"acerca-de/editor/:paginaNombre",component:ti}]},{path:"",children:[{path:"publicaciones-buscador/:palabrasClave",component:ai}]},{path:"",children:[{path:"suscripcion",component:(()=>{class n{constructor(t,i,o,a){this.tiposSuscripcionService=t,this.usuariosService=i,this.modalService=o,this.spinner=a,this.suscripciones=[],this.usuarioNuevo=new U.b,this.usuarioConfirmando=new U.b,this.password2="",this.suscripcion=[]}ngOnInit(){this.getSuscripciones();let t=new B.L;t.rolNombre="",this.usuarioNuevo.roles=[t]}getSuscripciones(){this.tiposSuscripcionService.getTiposSuscripcion().subscribe(t=>{this.suscripciones=t,this.suscripciones.forEach(i=>{i.id=this.tiposSuscripcionService.getId(i)})})}postUsuarioTipo1(){this.usuarioNuevo.roles[0].rolNombre="ROLE_USER_REGISTERED",this.postUsuario(this.suscripciones[0].precio)}postUsuarioTipo2(){this.usuarioNuevo.roles[0].rolNombre="ROLE_USER_SUBSCRIBED",this.postUsuario(this.suscripciones[1].precio)}postUsuarioTipo3(){this.usuarioNuevo.roles[0].rolNombre="ROLE_USER_MEMBER",this.postUsuario(this.suscripciones[2].precio)}postUsuario(t){const i=window.open("/verificacion-pago","_blank","width=600,height=400");this.usuariosService.postUsuario(this.usuarioNuevo).subscribe(a=>{this.usuarioConfirmando.id=this.usuariosService.getId(a),this.usuarioConfirmando=a});const o=setInterval(()=>{this.usuarioConfirmando.isConfirmadoEmail?(console.log("ABRIENDO PASARELA DE PAGO"),clearInterval(o),this.pagar(t),this.initConfig(t),i&&i.close()):this.usuariosService.getIsConfirmed(this.usuarioNuevo.email).subscribe(a=>{this.usuarioConfirmando.isConfirmadoEmail=a.isConfirmadoEmail,console.log("ESPERANDO A CONFIRMACION DE EMAIL")})},6e3)}pagar(t){this.modalService.open(this.modalPaypal,{size:"m",windowClass:"modalPaypal"}),this.initConfig(t)}initConfig(t){this.payPalConfig={currency:"EUR",clientId:"AQ4kV3ijEVIItPbgLJtApqQdCEfaNV-xFShpVgdS8lmlI-J_L7U1-UPdiuXVbsivQfZyVQ43csdQJXCT",createOrderOnClient:i=>({intent:"CAPTURE",purchase_units:[{amount:{currency_code:"EUR",value:t,breakdown:{item_total:{currency_code:"EUR",value:t}}},items:[{name:"suscripcion",quantity:"1",unit_amount:{value:t,currency_code:"EUR"}}]}]}),advanced:{commit:"true"},style:{label:"paypal",layout:"vertical"},onApprove:(i,o)=>{console.log("onApprove - transaction was approved, but not authorized",i,o),o.order.get().then(a=>{console.log("onApprove - you can get full order details inside onApprove: ",a)})},onClientAuthorization:i=>{console.log("onClientAuthorization - you should probably inform your server about completed transaction at this point",i),this.usuariosService.setIsPaid(this.usuarioNuevo.email).subscribe()},onCancel:(i,o)=>{console.log("OnCancel",i,o)},onError:i=>{console.log("OnError",i)},onClick:(i,o)=>{console.log("onClick",i,o)}}}openModal(t,i){const o=this.modalService.open(V.m,{size:"lg"});o.componentInstance.items=t,o.componentInstance.amount=i}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(j.X),e.Y36(J.J),e.Y36(K.FF),e.Y36(X.t2))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-suscripcion"]],viewQuery:function(t,i){if(1&t&&e.Gf(ci,5),2&t){let o;e.iGM(o=e.CRH())&&(i.modalPaypal=o.first)}},decls:174,vars:50,consts:[[1,"row","descripcion-pagina","text-center"],[1,"col-11","m-4","texto-descripcion"],[1,"row","mb-4","suscripciones"],[1,"col-1"],[1,"col-3","tipo-suscripcion","tipo-suscripcion-1"],[1,"text-center","titulo-suscripcion"],[1,"texto-titulo"],[1,"caracteristicas-suscripcion","mt-3"],["class","row my-2",4,"ngIf"],[1,"text-center","precio-suscripcion"],[4,"ngIf"],[1,"text-center"],["data-bs-toggle","modal","data-bs-target","#signInModalTipo1",1,"btn","btn-primary"],[1,"col-3","tipo-suscripcion","tipo-suscripcion-2"],["data-bs-toggle","modal","data-bs-target","#signInModalTipo2",1,"btn","btn-primary"],[1,"col-3","tipo-suscripcion","tipo-suscripcion-3"],[1,"caracteristicas-suscripcion"],["data-bs-toggle","modal","data-bs-target","#signInModalTipo3",1,"btn","btn-primary"],["id","signInModalTipo1","tabindex","-1","aria-labelledby","signModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"email-input","m-2"],["for","email",1,"col-5"],["type","text",1,"mx-2","col-5",3,"ngModel","ngModelChange"],["for","password",1,"col-5"],["type","password",1,"mx-2","col-5",3,"ngModel","ngModelChange"],["for","password2",1,"col-5"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary",3,"click"],["id","signInModalTipo2","tabindex","-1","aria-labelledby","signModalLabel","aria-hidden","true",1,"modal","fade"],["for","nombre",1,"col-5"],["for","apellido1",1,"col-5"],["for","apellido2",1,"col-5"],["for","direcci\xf3n",1,"col-5"],["id","signInModalTipo3","tabindex","-1","aria-labelledby","signModalLabel","aria-hidden","true",1,"modal","fade"],["modalPaypal",""],[1,"row","my-2"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[3,"config"],["type","button","ngbAutofocus","",1,"btn","btn-secondary",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h3",1),e._uU(2,"Suscribete a nuestra web y disfruta de los mejores contenidos premium."),e.qZA()(),e.TgZ(3,"div",2),e._UZ(4,"div",3),e.TgZ(5,"div",4)(6,"div",5)(7,"h4",6),e._uU(8),e.qZA()(),e.TgZ(9,"div",7)(10,"ul"),e.YNc(11,ri,2,1,"li",8),e.YNc(12,si,2,1,"li",8),e.YNc(13,li,2,1,"li",8),e.YNc(14,ui,2,1,"li",8),e.YNc(15,pi,2,1,"li",8),e.YNc(16,di,2,1,"li",8),e.YNc(17,gi,2,1,"li",8),e.YNc(18,mi,2,1,"li",8),e.qZA()(),e.TgZ(19,"div",9),e.YNc(20,hi,2,1,"p",10),e.YNc(21,bi,2,0,"p",10),e.qZA(),e.TgZ(22,"div",11)(23,"button",12),e._uU(24,"Suscribirme"),e.qZA()()(),e.TgZ(25,"div",13)(26,"div",5)(27,"h4",6),e._uU(28),e.qZA()(),e.TgZ(29,"div",7)(30,"ul"),e.YNc(31,_i,2,1,"li",8),e.YNc(32,fi,2,1,"li",8),e.YNc(33,Ci,2,1,"li",8),e.YNc(34,vi,2,1,"li",8),e.YNc(35,Zi,2,1,"li",8),e.YNc(36,Ti,2,1,"li",8),e.YNc(37,xi,2,1,"li",8),e.YNc(38,wi,2,1,"li",8),e.qZA()(),e.TgZ(39,"div",9),e.YNc(40,Ai,2,1,"p",10),e.YNc(41,Pi,2,0,"p",10),e.qZA(),e.TgZ(42,"div",11)(43,"button",14),e._uU(44,"Suscribirme"),e.qZA()()(),e.TgZ(45,"div",15)(46,"div",5)(47,"h4",6),e._uU(48),e.qZA()(),e.TgZ(49,"div",16)(50,"ul"),e.YNc(51,Mi,2,1,"li",8),e.YNc(52,qi,2,1,"li",8),e.YNc(53,Si,2,1,"li",8),e.YNc(54,yi,2,1,"li",8),e.YNc(55,Ui,2,1,"li",8),e.YNc(56,Ii,2,1,"li",8),e.YNc(57,Ni,2,1,"li",8),e.YNc(58,Ei,2,1,"li",8),e.qZA()(),e.TgZ(59,"div",9),e.YNc(60,Ji,2,1,"p",10),e.YNc(61,Oi,2,0,"p",10),e.qZA(),e.TgZ(62,"div",11)(63,"button",17),e._uU(64,"Suscribirme"),e.qZA()()()(),e.TgZ(65,"div",18)(66,"div",19)(67,"div",20)(68,"div",21)(69,"h1",22),e._uU(70,"Suscribirse a VermuTorero.es"),e.qZA(),e._UZ(71,"button",23),e.qZA(),e.TgZ(72,"div",24)(73,"div",25)(74,"label",26),e._uU(75,"Email"),e.qZA(),e.TgZ(76,"input",27),e.NdJ("ngModelChange",function(a){return i.usuarioNuevo.email=a}),e.qZA()(),e.TgZ(77,"div",25)(78,"label",28),e._uU(79,"Password"),e.qZA(),e.TgZ(80,"input",29),e.NdJ("ngModelChange",function(a){return i.usuarioNuevo.password=a}),e.qZA()(),e.TgZ(81,"div",25)(82,"label",30),e._uU(83,"Password"),e.qZA(),e.TgZ(84,"input",29),e.NdJ("ngModelChange",function(a){return i.password2=a}),e.qZA()()(),e.TgZ(85,"div",31)(86,"button",32),e._uU(87,"Cancelar"),e.qZA(),e.TgZ(88,"button",33),e.NdJ("click",function(){return i.postUsuarioTipo1()}),e._uU(89,"Aceptar"),e.qZA()()()()(),e.TgZ(90,"div",34)(91,"div",19)(92,"div",20)(93,"div",21)(94,"h1",22),e._uU(95,"Suscribirse a VermuTorero.es"),e.qZA(),e._UZ(96,"button",23),e.qZA(),e.TgZ(97,"div",24)(98,"div",25)(99,"label",35),e._uU(100,"Nombre"),e.qZA(),e.TgZ(101,"input",27),e.NdJ("ngModelChange",function(a){return i.usuarioNuevo.nombre=a}),e.qZA()(),e.TgZ(102,"div",25)(103,"label",36),e._uU(104,"Primer apellido"),e.qZA(),e.TgZ(105,"input",27),e.NdJ("ngModelChange",function(a){return i.usuarioNuevo.apellido1=a}),e.qZA()(),e.TgZ(106,"div",25)(107,"label",37),e._uU(108,"Segundo apellido"),e.qZA(),e.TgZ(109,"input",27),e.NdJ("ngModelChange",function(a){return i.usuarioNuevo.apellido2=a}),e.qZA()(),e.TgZ(110,"div",25)(111,"label",38),e._uU(112,"Direcci\xf3n"),e.qZA(),e.TgZ(113,"input",27),e.NdJ("ngModelChange",function(a){return i.usuarioNuevo.direccion=a}),e.qZA()(),e.TgZ(114,"div",25)(115,"label",26),e._uU(116,"Email"),e.qZA(),e.TgZ(117,"input",27),e.NdJ("ngModelChange",function(a){return i.usuarioNuevo.email=a}),e.qZA()(),e.TgZ(118,"div",25)(119,"label",28),e._uU(120,"Password"),e.qZA(),e.TgZ(121,"input",29),e.NdJ("ngModelChange",function(a){return i.usuarioNuevo.password=a}),e.qZA()(),e.TgZ(122,"div",25)(123,"label",30),e._uU(124,"Password"),e.qZA(),e.TgZ(125,"input",29),e.NdJ("ngModelChange",function(a){return i.password2=a}),e.qZA()()(),e.TgZ(126,"div",31)(127,"button",32),e._uU(128,"Cancelar"),e.qZA(),e.TgZ(129,"button",33),e.NdJ("click",function(){return i.postUsuarioTipo2()}),e._uU(130,"Aceptar"),e.qZA()()()()(),e.TgZ(131,"div",39)(132,"div",19)(133,"div",20)(134,"div",21)(135,"h1",22),e._uU(136,"Suscribirse a VermuTorero.es"),e.qZA(),e._UZ(137,"button",23),e.qZA(),e.TgZ(138,"div",24)(139,"div",25)(140,"label",35),e._uU(141,"Nombre"),e.qZA(),e.TgZ(142,"input",27),e.NdJ("ngModelChange",function(a){return i.usuarioNuevo.nombre=a}),e.qZA()(),e.TgZ(143,"div",25)(144,"label",36),e._uU(145,"Primer apellido"),e.qZA(),e.TgZ(146,"input",27),e.NdJ("ngModelChange",function(a){return i.usuarioNuevo.apellido1=a}),e.qZA()(),e.TgZ(147,"div",25)(148,"label",37),e._uU(149,"Segundo apellido"),e.qZA(),e.TgZ(150,"input",27),e.NdJ("ngModelChange",function(a){return i.usuarioNuevo.apellido2=a}),e.qZA()(),e.TgZ(151,"div",25)(152,"label",38),e._uU(153,"Direcci\xf3n"),e.qZA(),e.TgZ(154,"input",27),e.NdJ("ngModelChange",function(a){return i.usuarioNuevo.direccion=a}),e.qZA()(),e.TgZ(155,"div",25)(156,"label",26),e._uU(157,"Email"),e.qZA(),e.TgZ(158,"input",27),e.NdJ("ngModelChange",function(a){return i.usuarioNuevo.email=a}),e.qZA()(),e.TgZ(159,"div",25)(160,"label",28),e._uU(161,"Password"),e.qZA(),e.TgZ(162,"input",29),e.NdJ("ngModelChange",function(a){return i.usuarioNuevo.password=a}),e.qZA()(),e.TgZ(163,"div",25)(164,"label",30),e._uU(165,"Password"),e.qZA(),e.TgZ(166,"input",29),e.NdJ("ngModelChange",function(a){return i.password2=a}),e.qZA()()(),e.TgZ(167,"div",31)(168,"button",32),e._uU(169,"Cancelar"),e.qZA(),e.TgZ(170,"button",33),e.NdJ("click",function(){return i.postUsuarioTipo3()}),e._uU(171,"Aceptar"),e.qZA()()()()(),e.YNc(172,Fi,9,1,"ng-template",null,40,e.W1O)),2&t&&(e.xp6(8),e.Oqu(i.suscripciones[0].nombre),e.xp6(3),e.Q6J("ngIf",i.suscripciones[0].caracteristica1),e.xp6(1),e.Q6J("ngIf",i.suscripciones[0].caracteristica2),e.xp6(1),e.Q6J("ngIf",i.suscripciones[0].caracteristica3),e.xp6(1),e.Q6J("ngIf",i.suscripciones[0].caracteristica4),e.xp6(1),e.Q6J("ngIf",i.suscripciones[0].caracteristica5),e.xp6(1),e.Q6J("ngIf",i.suscripciones[0].caracteristica6),e.xp6(1),e.Q6J("ngIf",i.suscripciones[0].caracteristica7),e.xp6(1),e.Q6J("ngIf",i.suscripciones[0].caracteristica8),e.xp6(2),e.Q6J("ngIf",i.suscripciones[0].precio),e.xp6(1),e.Q6J("ngIf",!i.suscripciones[0].precio),e.xp6(7),e.Oqu(i.suscripciones[1].nombre),e.xp6(3),e.Q6J("ngIf",i.suscripciones[1].caracteristica1),e.xp6(1),e.Q6J("ngIf",i.suscripciones[1].caracteristica2),e.xp6(1),e.Q6J("ngIf",i.suscripciones[1].caracteristica3),e.xp6(1),e.Q6J("ngIf",i.suscripciones[1].caracteristica4),e.xp6(1),e.Q6J("ngIf",i.suscripciones[1].caracteristica5),e.xp6(1),e.Q6J("ngIf",i.suscripciones[1].caracteristica6),e.xp6(1),e.Q6J("ngIf",i.suscripciones[1].caracteristica7),e.xp6(1),e.Q6J("ngIf",i.suscripciones[1].caracteristica8),e.xp6(2),e.Q6J("ngIf",i.suscripciones[1].precio),e.xp6(1),e.Q6J("ngIf",!i.suscripciones[1].precio),e.xp6(7),e.Oqu(i.suscripciones[2].nombre),e.xp6(3),e.Q6J("ngIf",i.suscripciones[2].caracteristica1),e.xp6(1),e.Q6J("ngIf",i.suscripciones[2].caracteristica2),e.xp6(1),e.Q6J("ngIf",i.suscripciones[2].caracteristica3),e.xp6(1),e.Q6J("ngIf",i.suscripciones[2].caracteristica4),e.xp6(1),e.Q6J("ngIf",i.suscripciones[2].caracteristica5),e.xp6(1),e.Q6J("ngIf",i.suscripciones[2].caracteristica6),e.xp6(1),e.Q6J("ngIf",i.suscripciones[2].caracteristica7),e.xp6(1),e.Q6J("ngIf",i.suscripciones[2].caracteristica8),e.xp6(2),e.Q6J("ngIf",i.suscripciones[2].precio),e.xp6(1),e.Q6J("ngIf",!i.suscripciones[2].precio),e.xp6(15),e.Q6J("ngModel",i.usuarioNuevo.email),e.xp6(4),e.Q6J("ngModel",i.usuarioNuevo.password),e.xp6(4),e.Q6J("ngModel",i.password2),e.xp6(17),e.Q6J("ngModel",i.usuarioNuevo.nombre),e.xp6(4),e.Q6J("ngModel",i.usuarioNuevo.apellido1),e.xp6(4),e.Q6J("ngModel",i.usuarioNuevo.apellido2),e.xp6(4),e.Q6J("ngModel",i.usuarioNuevo.direccion),e.xp6(4),e.Q6J("ngModel",i.usuarioNuevo.email),e.xp6(4),e.Q6J("ngModel",i.usuarioNuevo.password),e.xp6(4),e.Q6J("ngModel",i.password2),e.xp6(17),e.Q6J("ngModel",i.usuarioNuevo.nombre),e.xp6(4),e.Q6J("ngModel",i.usuarioNuevo.apellido1),e.xp6(4),e.Q6J("ngModel",i.usuarioNuevo.apellido2),e.xp6(4),e.Q6J("ngModel",i.usuarioNuevo.direccion),e.xp6(4),e.Q6J("ngModel",i.usuarioNuevo.email),e.xp6(4),e.Q6J("ngModel",i.usuarioNuevo.password),e.xp6(4),e.Q6J("ngModel",i.password2))},dependencies:[d.O5,r.Fj,r.JJ,r.On,D.nu],styles:[".texto-descripcion[_ngcontent-%COMP%]{font-weight:700;font-family:sans-serif}.tipo-suscripcion[_ngcontent-%COMP%]{border-radius:2%;border-style:solid;border-color:#000;border-width:1px;padding:1%;margin:1%;box-shadow:2px 2px 10px #666}.tipo-suscripcion-1[_ngcontent-%COMP%]{background-color:#f7b334}.tipo-suscripcion-2[_ngcontent-%COMP%]{background-color:orange}.tipo-suscripcion-3[_ngcontent-%COMP%]{background-color:#f79524}.titulo-suscripcion[_ngcontent-%COMP%]{font-weight:700;color:#fff}.texto-titulo[_ngcontent-%COMP%]{font-weight:700;text-shadow:2px 2px 10px #666;padding:1%}.caracteristicas-suscripcion[_ngcontent-%COMP%]{font-family:sans-serif}.precio-suscripcion[_ngcontent-%COMP%]{font-weight:700}li[_ngcontent-%COMP%]{margin-top:4%}"]}),n})()}]},{path:"",children:[{path:"suscripcion-ficha",component:(()=>{class n{constructor(t){this.tiposSuscripcionService=t,this.suscripciones=[]}ngOnInit(){this.getSuscripciones()}getSuscripciones(){this.tiposSuscripcionService.getTiposSuscripcion().subscribe(t=>{this.suscripciones=t,this.suscripciones.forEach(i=>{i.id=this.tiposSuscripcionService.getId(i)})})}patchTipoSuscripcions(){this.suscripciones.forEach(t=>{this.tiposSuscripcionService.patchTipoSuscripcion(t).subscribe()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(j.X))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-suscripcion-ficha"]],decls:65,vars:30,consts:[[1,"row","mb-4","suscripciones"],[1,"col-1"],[1,"col-3","tipo-suscripcion","tipo-suscripcion-1"],[1,"text-center","titulo-suscripcion"],[1,"texto-titulo",3,"ngModel","ngModelChange"],[1,"caracteristicas-suscripcion","mt-3"],[1,"text-center"],["rows","3",1,"row","my-2",3,"ngModel","ngModelChange"],[1,"text-center","precio-suscripcion"],[3,"ngModel","ngModelChange"],[1,"col-3","tipo-suscripcion","tipo-suscripcion-2"],[1,"col-3","tipo-suscripcion","tipo-suscripcion-3"],[1,"text-center","mb-4"],[1,"btn","btn-primary","my-2",2,"width","20%",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"input",4),e.NdJ("ngModelChange",function(a){return i.suscripciones[0].nombre=a}),e.qZA()(),e.TgZ(5,"div",5)(6,"div",6)(7,"p"),e._uU(8,"CARACTER\xcdSTICAS"),e.qZA()(),e.TgZ(9,"ul")(10,"textarea",7),e.NdJ("ngModelChange",function(a){return i.suscripciones[0].caracteristica1=a}),e.qZA(),e.TgZ(11,"textarea",7),e.NdJ("ngModelChange",function(a){return i.suscripciones[0].caracteristica2=a}),e.qZA(),e.TgZ(12,"textarea",7),e.NdJ("ngModelChange",function(a){return i.suscripciones[0].caracteristica3=a}),e.qZA(),e.TgZ(13,"textarea",7),e.NdJ("ngModelChange",function(a){return i.suscripciones[0].caracteristica4=a}),e.qZA(),e.TgZ(14,"textarea",7),e.NdJ("ngModelChange",function(a){return i.suscripciones[0].caracteristica5=a}),e.qZA(),e.TgZ(15,"textarea",7),e.NdJ("ngModelChange",function(a){return i.suscripciones[0].caracteristica6=a}),e.qZA(),e.TgZ(16,"textarea",7),e.NdJ("ngModelChange",function(a){return i.suscripciones[0].caracteristica7=a}),e.qZA(),e.TgZ(17,"textarea",7),e.NdJ("ngModelChange",function(a){return i.suscripciones[0].caracteristica8=a}),e.qZA()()(),e.TgZ(18,"div",8)(19,"p"),e._uU(20,"PRECIO"),e.qZA(),e.TgZ(21,"input",9),e.NdJ("ngModelChange",function(a){return i.suscripciones[0].precio=a}),e.qZA()()(),e.TgZ(22,"div",10)(23,"div",3)(24,"input",4),e.NdJ("ngModelChange",function(a){return i.suscripciones[1].nombre=a}),e.qZA()(),e.TgZ(25,"div",5)(26,"div",6)(27,"p"),e._uU(28,"CARACTER\xcdSTICAS"),e.qZA()(),e.TgZ(29,"ul")(30,"textarea",7),e.NdJ("ngModelChange",function(a){return i.suscripciones[1].caracteristica1=a}),e.qZA(),e.TgZ(31,"textarea",7),e.NdJ("ngModelChange",function(a){return i.suscripciones[1].caracteristica2=a}),e.qZA(),e.TgZ(32,"textarea",7),e.NdJ("ngModelChange",function(a){return i.suscripciones[1].caracteristica3=a}),e.qZA(),e.TgZ(33,"textarea",7),e.NdJ("ngModelChange",function(a){return i.suscripciones[1].caracteristica4=a}),e.qZA(),e.TgZ(34,"textarea",7),e.NdJ("ngModelChange",function(a){return i.suscripciones[1].caracteristica5=a}),e.qZA(),e.TgZ(35,"textarea",7),e.NdJ("ngModelChange",function(a){return i.suscripciones[1].caracteristica6=a}),e.qZA(),e.TgZ(36,"textarea",7),e.NdJ("ngModelChange",function(a){return i.suscripciones[1].caracteristica7=a}),e.qZA(),e.TgZ(37,"textarea",7),e.NdJ("ngModelChange",function(a){return i.suscripciones[1].caracteristica8=a}),e.qZA()()(),e.TgZ(38,"div",8)(39,"p"),e._uU(40,"PRECIO"),e.qZA(),e.TgZ(41,"input",9),e.NdJ("ngModelChange",function(a){return i.suscripciones[1].precio=a}),e.qZA()()(),e.TgZ(42,"div",11)(43,"div",3)(44,"input",4),e.NdJ("ngModelChange",function(a){return i.suscripciones[2].nombre=a}),e.qZA()(),e.TgZ(45,"div",5)(46,"div",6)(47,"p"),e._uU(48,"CARACTER\xcdSTICAS"),e.qZA()(),e.TgZ(49,"ul")(50,"textarea",7),e.NdJ("ngModelChange",function(a){return i.suscripciones[2].caracteristica1=a}),e.qZA(),e.TgZ(51,"textarea",7),e.NdJ("ngModelChange",function(a){return i.suscripciones[2].caracteristica2=a}),e.qZA(),e.TgZ(52,"textarea",7),e.NdJ("ngModelChange",function(a){return i.suscripciones[2].caracteristica3=a}),e.qZA(),e.TgZ(53,"textarea",7),e.NdJ("ngModelChange",function(a){return i.suscripciones[2].caracteristica4=a}),e.qZA(),e.TgZ(54,"textarea",7),e.NdJ("ngModelChange",function(a){return i.suscripciones[2].caracteristica5=a}),e.qZA(),e.TgZ(55,"textarea",7),e.NdJ("ngModelChange",function(a){return i.suscripciones[2].caracteristica6=a}),e.qZA(),e.TgZ(56,"textarea",7),e.NdJ("ngModelChange",function(a){return i.suscripciones[2].caracteristica7=a}),e.qZA(),e.TgZ(57,"textarea",7),e.NdJ("ngModelChange",function(a){return i.suscripciones[2].caracteristica8=a}),e.qZA()()(),e.TgZ(58,"div",8)(59,"p"),e._uU(60,"PRECIO"),e.qZA(),e.TgZ(61,"input",9),e.NdJ("ngModelChange",function(a){return i.suscripciones[2].precio=a}),e.qZA()()()(),e.TgZ(62,"div",12)(63,"button",13),e.NdJ("click",function(){return i.patchTipoSuscripcions()}),e._uU(64,"Guardar cambios"),e.qZA()()),2&t&&(e.xp6(4),e.Q6J("ngModel",i.suscripciones[0].nombre),e.xp6(6),e.Q6J("ngModel",i.suscripciones[0].caracteristica1),e.xp6(1),e.Q6J("ngModel",i.suscripciones[0].caracteristica2),e.xp6(1),e.Q6J("ngModel",i.suscripciones[0].caracteristica3),e.xp6(1),e.Q6J("ngModel",i.suscripciones[0].caracteristica4),e.xp6(1),e.Q6J("ngModel",i.suscripciones[0].caracteristica5),e.xp6(1),e.Q6J("ngModel",i.suscripciones[0].caracteristica6),e.xp6(1),e.Q6J("ngModel",i.suscripciones[0].caracteristica7),e.xp6(1),e.Q6J("ngModel",i.suscripciones[0].caracteristica8),e.xp6(4),e.Q6J("ngModel",i.suscripciones[0].precio),e.xp6(3),e.Q6J("ngModel",i.suscripciones[1].nombre),e.xp6(6),e.Q6J("ngModel",i.suscripciones[1].caracteristica1),e.xp6(1),e.Q6J("ngModel",i.suscripciones[1].caracteristica2),e.xp6(1),e.Q6J("ngModel",i.suscripciones[1].caracteristica3),e.xp6(1),e.Q6J("ngModel",i.suscripciones[1].caracteristica4),e.xp6(1),e.Q6J("ngModel",i.suscripciones[1].caracteristica5),e.xp6(1),e.Q6J("ngModel",i.suscripciones[1].caracteristica6),e.xp6(1),e.Q6J("ngModel",i.suscripciones[1].caracteristica7),e.xp6(1),e.Q6J("ngModel",i.suscripciones[1].caracteristica8),e.xp6(4),e.Q6J("ngModel",i.suscripciones[1].precio),e.xp6(3),e.Q6J("ngModel",i.suscripciones[2].nombre),e.xp6(6),e.Q6J("ngModel",i.suscripciones[2].caracteristica1),e.xp6(1),e.Q6J("ngModel",i.suscripciones[2].caracteristica2),e.xp6(1),e.Q6J("ngModel",i.suscripciones[2].caracteristica3),e.xp6(1),e.Q6J("ngModel",i.suscripciones[2].caracteristica4),e.xp6(1),e.Q6J("ngModel",i.suscripciones[2].caracteristica5),e.xp6(1),e.Q6J("ngModel",i.suscripciones[2].caracteristica6),e.xp6(1),e.Q6J("ngModel",i.suscripciones[2].caracteristica7),e.xp6(1),e.Q6J("ngModel",i.suscripciones[2].caracteristica8),e.xp6(4),e.Q6J("ngModel",i.suscripciones[2].precio))},dependencies:[r.Fj,r.JJ,r.On],styles:[".texto-descripcion[_ngcontent-%COMP%]{font-weight:700;font-family:sans-serif}.tipo-suscripcion[_ngcontent-%COMP%]{border-radius:2%;border-style:solid;border-color:#000;border-width:1px;padding:1%;margin:1%;box-shadow:2px 2px 10px #666}.tipo-suscripcion-1[_ngcontent-%COMP%]{background-color:#f7b334}.tipo-suscripcion-2[_ngcontent-%COMP%]{background-color:orange}.tipo-suscripcion-3[_ngcontent-%COMP%]{background-color:#f79524}.titulo-suscripcion[_ngcontent-%COMP%]{font-weight:700;color:#fff}.texto-titulo[_ngcontent-%COMP%]{font-weight:700;text-shadow:2px 2px 10px #666;padding:1%}.caracteristicas-suscripcion[_ngcontent-%COMP%]{font-family:sans-serif}.precio-suscripcion[_ngcontent-%COMP%]{font-weight:700}textarea[_ngcontent-%COMP%]{width:100%}"]}),n})()}]},{path:"",children:[{path:"verificacion-pago",component:(()=>{class n{constructor(t){this.usuariosService=t}ngOnInit(){}comprobarVerificacion(){return!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(J.J))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-verificacion-pago"]],decls:3,vars:0,consts:[[1,"text-center"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h4"),e._uU(2,"Te hemos enviado un email. \xc1brelo y pulsa en el enlace que te hemos enviado para verificar tu email y continuar con la suscripcion."),e.qZA()())}}),n})()}]},{path:"",children:[{path:"renovar-suscripcion",component:(()=>{class n{constructor(t,i,o,a,s){this.tiposSuscripcionService=t,this.usuariosService=i,this.modalService=o,this.spinner=a,this.activatedRoute=s,this.suscripciones=[],this.usuarioNuevo=new U.b,this.usuarioConfirmando=new U.b,this.password2="",this.suscripcion=[]}ngOnInit(){this.getUsuario(),this.getSuscripciones()}getUsuario(){this.usuariosService.getUsuarioFromToken().subscribe(t=>{t.id=this.usuariosService.getId(t),this.usuarioNuevo=t;let i=new B.L;i.rolNombre="",this.usuarioNuevo.roles=[i]})}getSuscripciones(){this.tiposSuscripcionService.getTiposSuscripcion().subscribe(t=>{this.suscripciones=t,this.suscripciones.forEach(i=>{i.id=this.tiposSuscripcionService.getId(i)})})}postUsuarioTipo1(){this.usuarioNuevo.roles[0].rolNombre="ROLE_USER_REGISTERED",this.patchUsuario(this.suscripciones[0].precio)}postUsuarioTipo2(){this.usuarioNuevo.roles[0].rolNombre="ROLE_USER_SUBSCRIBED",this.patchUsuario(this.suscripciones[1].precio)}postUsuarioTipo3(){this.usuarioNuevo.roles[0].rolNombre="ROLE_USER_MEMBER",this.patchUsuario(this.suscripciones[2].precio)}patchUsuario(t){this.usuariosService.patchUsuarioRenovado(this.usuarioNuevo).subscribe(i=>{this.usuarioConfirmando.id=this.usuariosService.getId(i),this.usuarioConfirmando=i,"0"!=t&&(this.pagar(t),this.initConfig(t))})}pagar(t){this.modalService.open(this.modalRenovarPaypal,{size:"m",windowClass:"modalRenovarPaypal"}),this.initConfig(t)}initConfig(t){this.payPalConfig={currency:"EUR",clientId:"AQ4kV3ijEVIItPbgLJtApqQdCEfaNV-xFShpVgdS8lmlI-J_L7U1-UPdiuXVbsivQfZyVQ43csdQJXCT",createOrderOnClient:i=>({intent:"CAPTURE",purchase_units:[{amount:{currency_code:"EUR",value:t,breakdown:{item_total:{currency_code:"EUR",value:t}}},items:[{name:"suscripcion",quantity:"1",unit_amount:{value:t,currency_code:"EUR"}}]}]}),advanced:{commit:"true"},style:{label:"paypal",layout:"vertical"},onApprove:(i,o)=>{console.log("onApprove - transaction was approved, but not authorized",i,o),o.order.get().then(a=>{console.log("onApprove - you can get full order details inside onApprove: ",a)})},onClientAuthorization:i=>{console.log("onClientAuthorization - you should probably inform your server about completed transaction at this point",i),this.usuariosService.setIsPaid(this.usuarioNuevo.email).subscribe()},onCancel:(i,o)=>{console.log("OnCancel",i,o)},onError:i=>{console.log("OnError",i)},onClick:(i,o)=>{console.log("onClick",i,o)}}}openModal(t,i){const o=this.modalService.open(V.m,{size:"lg"});o.componentInstance.items=t,o.componentInstance.amount=i}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(j.X),e.Y36(J.J),e.Y36(K.FF),e.Y36(X.t2),e.Y36(h.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-renovar-suscripcion"]],viewQuery:function(t,i){if(1&t&&e.Gf(Qi,5),2&t){let o;e.iGM(o=e.CRH())&&(i.modalRenovarPaypal=o.first)}},decls:142,vars:42,consts:[[1,"row","descripcion-pagina","text-center"],[1,"col-11","m-4","texto-descripcion"],[1,"row","mb-4","suscripciones"],[1,"col-1"],[1,"col-3","tipo-suscripcion","tipo-suscripcion-1"],[1,"text-center","titulo-suscripcion"],[1,"texto-titulo"],[1,"caracteristicas-suscripcion","mt-3"],["class","row my-2",4,"ngIf"],[1,"text-center","precio-suscripcion"],[4,"ngIf"],[1,"text-center"],["data-bs-toggle","modal","data-bs-target","#renovarModalTipo1",1,"btn","btn-primary"],[1,"col-3","tipo-suscripcion","tipo-suscripcion-2"],["data-bs-toggle","modal","data-bs-target","#renovarModalTipo2",1,"btn","btn-primary"],[1,"col-3","tipo-suscripcion","tipo-suscripcion-3"],[1,"caracteristicas-suscripcion"],["data-bs-toggle","modal","data-bs-target","#renovarModalTipo3",1,"btn","btn-primary"],["id","renovarModalTipo1","tabindex","-1","aria-labelledby","signModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"email-input","m-2"],["for","email",1,"col-5"],["type","text",1,"mx-2","col-5",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary",3,"click"],["id","renovarModalTipo2","tabindex","-1","aria-labelledby","signModalLabel","aria-hidden","true",1,"modal","fade"],["for","nombre",1,"col-5"],["for","apellido1",1,"col-5"],["for","apellido2",1,"col-5"],["id","renovarModalTipo3","tabindex","-1","aria-labelledby","signModalLabel","aria-hidden","true",1,"modal","fade"],["modalRenovarPaypal",""],[1,"row","my-2"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[3,"config"],["type","button","ngbAutofocus","",1,"btn","btn-secondary",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h3",1),e._uU(2,"Renueva tu suscripci\xf3n y continua disfrutando de los mejores contenidos premium."),e.qZA()(),e.TgZ(3,"div",2),e._UZ(4,"div",3),e.TgZ(5,"div",4)(6,"div",5)(7,"h4",6),e._uU(8),e.qZA()(),e.TgZ(9,"div",7)(10,"ul"),e.YNc(11,Yi,2,1,"li",8),e.YNc(12,ji,2,1,"li",8),e.YNc(13,Di,2,1,"li",8),e.YNc(14,Hi,2,1,"li",8),e.YNc(15,zi,2,1,"li",8),e.YNc(16,Gi,2,1,"li",8),e.YNc(17,Bi,2,1,"li",8),e.YNc(18,Vi,2,1,"li",8),e.qZA()(),e.TgZ(19,"div",9),e.YNc(20,$i,2,1,"p",10),e.YNc(21,Ki,2,0,"p",10),e.qZA(),e.TgZ(22,"div",11)(23,"button",12),e._uU(24,"Suscribirme"),e.qZA()()(),e.TgZ(25,"div",13)(26,"div",5)(27,"h4",6),e._uU(28),e.qZA()(),e.TgZ(29,"div",7)(30,"ul"),e.YNc(31,Xi,2,1,"li",8),e.YNc(32,Wi,2,1,"li",8),e.YNc(33,en,2,1,"li",8),e.YNc(34,tn,2,1,"li",8),e.YNc(35,nn,2,1,"li",8),e.YNc(36,on,2,1,"li",8),e.YNc(37,an,2,1,"li",8),e.YNc(38,cn,2,1,"li",8),e.qZA()(),e.TgZ(39,"div",9),e.YNc(40,rn,2,1,"p",10),e.YNc(41,sn,2,0,"p",10),e.qZA(),e.TgZ(42,"div",11)(43,"button",14),e._uU(44,"Suscribirme"),e.qZA()()(),e.TgZ(45,"div",15)(46,"div",5)(47,"h4",6),e._uU(48),e.qZA()(),e.TgZ(49,"div",16)(50,"ul"),e.YNc(51,ln,2,1,"li",8),e.YNc(52,un,2,1,"li",8),e.YNc(53,pn,2,1,"li",8),e.YNc(54,dn,2,1,"li",8),e.YNc(55,gn,2,1,"li",8),e.YNc(56,mn,2,1,"li",8),e.YNc(57,hn,2,1,"li",8),e.YNc(58,bn,2,1,"li",8),e.qZA()(),e.TgZ(59,"div",9),e.YNc(60,_n,2,1,"p",10),e.YNc(61,fn,2,0,"p",10),e.qZA(),e.TgZ(62,"div",11)(63,"button",17),e._uU(64,"Suscribirme"),e.qZA()()()(),e.TgZ(65,"div",18)(66,"div",19)(67,"div",20)(68,"div",21)(69,"h1",22),e._uU(70,"Suscribirse a VermuTorero.es"),e.qZA(),e._UZ(71,"button",23),e.qZA(),e.TgZ(72,"div",24)(73,"div",25)(74,"label",26),e._uU(75,"Email"),e.qZA(),e.TgZ(76,"input",27),e.NdJ("ngModelChange",function(a){return i.usuarioNuevo.email=a}),e.qZA()(),e.TgZ(77,"div",28)(78,"button",29),e._uU(79,"Cancelar"),e.qZA(),e.TgZ(80,"button",30),e.NdJ("click",function(){return i.postUsuarioTipo1()}),e._uU(81,"Aceptar"),e.qZA()()()()()(),e.TgZ(82,"div",31)(83,"div",19)(84,"div",20)(85,"div",21)(86,"h1",22),e._uU(87,"Suscribirse a VermuTorero.es"),e.qZA(),e._UZ(88,"button",23),e.qZA(),e.TgZ(89,"div",24)(90,"div",25)(91,"label",32),e._uU(92,"Nombre"),e.qZA(),e.TgZ(93,"input",27),e.NdJ("ngModelChange",function(a){return i.usuarioNuevo.nombre=a}),e.qZA()(),e.TgZ(94,"div",25)(95,"label",33),e._uU(96,"Primer apellido"),e.qZA(),e.TgZ(97,"input",27),e.NdJ("ngModelChange",function(a){return i.usuarioNuevo.apellido1=a}),e.qZA()(),e.TgZ(98,"div",25)(99,"label",34),e._uU(100,"Segundo apellido"),e.qZA(),e.TgZ(101,"input",27),e.NdJ("ngModelChange",function(a){return i.usuarioNuevo.apellido2=a}),e.qZA()(),e.TgZ(102,"div",25)(103,"label",26),e._uU(104,"Email"),e.qZA(),e.TgZ(105,"input",27),e.NdJ("ngModelChange",function(a){return i.usuarioNuevo.email=a}),e.qZA()()(),e.TgZ(106,"div",28)(107,"button",29),e._uU(108,"Cancelar"),e.qZA(),e.TgZ(109,"button",30),e.NdJ("click",function(){return i.postUsuarioTipo2()}),e._uU(110,"Aceptar"),e.qZA()()()()(),e.TgZ(111,"div",35)(112,"div",19)(113,"div",20)(114,"div",21)(115,"h1",22),e._uU(116,"Suscribirse a VermuTorero.es"),e.qZA(),e._UZ(117,"button",23),e.qZA(),e.TgZ(118,"div",24)(119,"div",25)(120,"label",32),e._uU(121,"Nombre"),e.qZA(),e.TgZ(122,"input",27),e.NdJ("ngModelChange",function(a){return i.usuarioNuevo.nombre=a}),e.qZA()(),e.TgZ(123,"div",25)(124,"label",33),e._uU(125,"Primer apellido"),e.qZA(),e.TgZ(126,"input",27),e.NdJ("ngModelChange",function(a){return i.usuarioNuevo.apellido1=a}),e.qZA()(),e.TgZ(127,"div",25)(128,"label",34),e._uU(129,"Segundo apellido"),e.qZA(),e.TgZ(130,"input",27),e.NdJ("ngModelChange",function(a){return i.usuarioNuevo.apellido2=a}),e.qZA()(),e.TgZ(131,"div",25)(132,"label",26),e._uU(133,"Email"),e.qZA(),e.TgZ(134,"input",27),e.NdJ("ngModelChange",function(a){return i.usuarioNuevo.email=a}),e.qZA()()(),e.TgZ(135,"div",28)(136,"button",29),e._uU(137,"Cancelar"),e.qZA(),e.TgZ(138,"button",30),e.NdJ("click",function(){return i.postUsuarioTipo3()}),e._uU(139,"Aceptar"),e.qZA()()()()(),e.YNc(140,Cn,9,1,"ng-template",null,36,e.W1O)),2&t&&(e.xp6(8),e.Oqu(i.suscripciones[0].nombre),e.xp6(3),e.Q6J("ngIf",i.suscripciones[0].caracteristica1),e.xp6(1),e.Q6J("ngIf",i.suscripciones[0].caracteristica2),e.xp6(1),e.Q6J("ngIf",i.suscripciones[0].caracteristica3),e.xp6(1),e.Q6J("ngIf",i.suscripciones[0].caracteristica4),e.xp6(1),e.Q6J("ngIf",i.suscripciones[0].caracteristica5),e.xp6(1),e.Q6J("ngIf",i.suscripciones[0].caracteristica6),e.xp6(1),e.Q6J("ngIf",i.suscripciones[0].caracteristica7),e.xp6(1),e.Q6J("ngIf",i.suscripciones[0].caracteristica8),e.xp6(2),e.Q6J("ngIf",i.suscripciones[0].precio),e.xp6(1),e.Q6J("ngIf",!i.suscripciones[0].precio),e.xp6(7),e.Oqu(i.suscripciones[1].nombre),e.xp6(3),e.Q6J("ngIf",i.suscripciones[1].caracteristica1),e.xp6(1),e.Q6J("ngIf",i.suscripciones[1].caracteristica2),e.xp6(1),e.Q6J("ngIf",i.suscripciones[1].caracteristica3),e.xp6(1),e.Q6J("ngIf",i.suscripciones[1].caracteristica4),e.xp6(1),e.Q6J("ngIf",i.suscripciones[1].caracteristica5),e.xp6(1),e.Q6J("ngIf",i.suscripciones[1].caracteristica6),e.xp6(1),e.Q6J("ngIf",i.suscripciones[1].caracteristica7),e.xp6(1),e.Q6J("ngIf",i.suscripciones[1].caracteristica8),e.xp6(2),e.Q6J("ngIf",i.suscripciones[1].precio),e.xp6(1),e.Q6J("ngIf",!i.suscripciones[1].precio),e.xp6(7),e.Oqu(i.suscripciones[2].nombre),e.xp6(3),e.Q6J("ngIf",i.suscripciones[2].caracteristica1),e.xp6(1),e.Q6J("ngIf",i.suscripciones[2].caracteristica2),e.xp6(1),e.Q6J("ngIf",i.suscripciones[2].caracteristica3),e.xp6(1),e.Q6J("ngIf",i.suscripciones[2].caracteristica4),e.xp6(1),e.Q6J("ngIf",i.suscripciones[2].caracteristica5),e.xp6(1),e.Q6J("ngIf",i.suscripciones[2].caracteristica6),e.xp6(1),e.Q6J("ngIf",i.suscripciones[2].caracteristica7),e.xp6(1),e.Q6J("ngIf",i.suscripciones[2].caracteristica8),e.xp6(2),e.Q6J("ngIf",i.suscripciones[2].precio),e.xp6(1),e.Q6J("ngIf",!i.suscripciones[2].precio),e.xp6(15),e.Q6J("ngModel",i.usuarioNuevo.email),e.xp6(17),e.Q6J("ngModel",i.usuarioNuevo.nombre),e.xp6(4),e.Q6J("ngModel",i.usuarioNuevo.apellido1),e.xp6(4),e.Q6J("ngModel",i.usuarioNuevo.apellido2),e.xp6(4),e.Q6J("ngModel",i.usuarioNuevo.email),e.xp6(17),e.Q6J("ngModel",i.usuarioNuevo.nombre),e.xp6(4),e.Q6J("ngModel",i.usuarioNuevo.apellido1),e.xp6(4),e.Q6J("ngModel",i.usuarioNuevo.apellido2),e.xp6(4),e.Q6J("ngModel",i.usuarioNuevo.email))},dependencies:[d.O5,r.Fj,r.JJ,r.On,D.nu],styles:[".texto-descripcion[_ngcontent-%COMP%]{font-weight:700;font-family:sans-serif}.tipo-suscripcion[_ngcontent-%COMP%]{border-radius:2%;border-style:solid;border-color:#000;border-width:1px;padding:1%;margin:1%;box-shadow:2px 2px 10px #666}.tipo-suscripcion-1[_ngcontent-%COMP%]{background-color:#f7b334}.tipo-suscripcion-2[_ngcontent-%COMP%]{background-color:orange}.tipo-suscripcion-3[_ngcontent-%COMP%]{background-color:#f79524}.titulo-suscripcion[_ngcontent-%COMP%]{font-weight:700;color:#fff}.texto-titulo[_ngcontent-%COMP%]{font-weight:700;text-shadow:2px 2px 10px #666;padding:1%}.caracteristicas-suscripcion[_ngcontent-%COMP%]{font-family:sans-serif}.precio-suscripcion[_ngcontent-%COMP%]{font-weight:700}li[_ngcontent-%COMP%]{margin-top:4%}"]}),n})()}]}];let Zn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[h.Bz.forChild(vn),h.Bz]}),n})(),Tn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[d.ez,Zn,r.u5,Q.fi,C.dD,D.vj]}),n})()},4327:function(O,N){var p,h;void 0!==(h="function"==typeof(p=function(){"use strict";function T(l,u,f){var r=new XMLHttpRequest;r.open("GET",l),r.responseType="blob",r.onload=function(){P(r.response,u,f)},r.onerror=function(){console.error("could not download file")},r.send()}function e(l){var u=new XMLHttpRequest;u.open("HEAD",l,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function g(l){try{l.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),l.dispatchEvent(u)}}var m="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,v=m.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),P=m.saveAs||("object"!=typeof window||window!==m?function(){}:"download"in HTMLAnchorElement.prototype&&!v?function(l,u,f){var r=m.URL||m.webkitURL,_=document.createElement("a");_.download=u=u||l.name||"download",_.rel="noopener","string"==typeof l?(_.href=l,_.origin===location.origin?g(_):e(_.href)?T(l,u,f):g(_,_.target="_blank")):(_.href=r.createObjectURL(l),setTimeout(function(){r.revokeObjectURL(_.href)},4e4),setTimeout(function(){g(_)},0))}:"msSaveOrOpenBlob"in navigator?function(l,u,f){if(u=u||l.name||"download","string"!=typeof l)navigator.msSaveOrOpenBlob(function Z(l,u){return typeof u>"u"?u={autoBom:!1}:"object"!=typeof u&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(l.type)?new Blob(["\ufeff",l],{type:l.type}):l}(l,f),u);else if(e(l))T(l,u,f);else{var r=document.createElement("a");r.href=l,r.target="_blank",setTimeout(function(){g(r)})}}:function(l,u,f,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof l)return T(l,u,f);var _="application/octet-stream"===l.type,M=/constructor/i.test(m.HTMLElement)||m.safari,E=/CriOS\/[\d]+/.test(navigator.userAgent);if((E||_&&M||v)&&typeof FileReader<"u"){var q=new FileReader;q.onloadend=function(){var w=q.result;w=E?w:w.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=w:location=w,r=null},q.readAsDataURL(l)}else{var x=m.URL||m.webkitURL,S=x.createObjectURL(l);r?r.location=S:location.href=S,r=null,setTimeout(function(){x.revokeObjectURL(S)},4e4)}});m.saveAs=P.saveAs=P,O.exports=P})?p.apply(N,[]):p)&&(O.exports=h)}}]);