(self.webpackChunkWebMagazineFront=self.webpackChunkWebMagazineFront||[]).push([[209],{8209:(N,S,u)=>{"use strict";u.r(S),u.d(S,{NewsletterModule:()=>Xe});var m=u(6895),b=u(3295);class w{constructor(){this.id="",this.posicion="",this.url=""}}class P{constructor(){this.id="",this.htmlPodcast="",this.htmlTwitter="",this.htmlTwitter2="",this.htmlTwitter3=""}}var t=u(4650),g=u(4004),p=u(529),f=u(6362);new p.WM({"Content-Type":"application/json"});let s=(()=>{class a{constructor(e){this.http=e,this.endpoint=f.N.urlAPI}getPublicaciones(){return this.http.get(this.endpoint+"/publicaciones").pipe((0,g.U)(e=>e._embedded.publicaciones))}getPublicacionesRecientes(){return this.http.get(this.endpoint+"/publicaciones/search/publicacionesRecientes").pipe((0,g.U)(e=>e._embedded.publicaciones))}getPublicacionesDestacadas(){return this.http.get(this.endpoint+"/publicaciones/search/publicacionesDestacadas").pipe((0,g.U)(e=>e._embedded.publicaciones))}postPublicacion(e){return this.http.post(this.endpoint+"/publicaciones/search/postPublicacion",e).pipe((0,g.U)(i=>i.publicacion))}getId(e){let o=e._links.self.href.split("/");return o[o.length-1]}getAutorFromPublicacion(e){return this.http.get(e._links.autor.href)}getTagsFromPublicacion(e){return this.http.get(e._links.tags.href).pipe((0,g.U)(i=>i._embedded.tags))}getCategoriaFromPublicacion(e){return this.http.get(e._links.categoria.href)}getLugarFromPublicacion(e){return this.http.get(e._links.lugar.href)}getPublicacion(e){return this.http.get(this.endpoint+"/publicaciones/search/publicacionByTitulo/"+e)}getPublicacionFree(e){return this.http.get(this.endpoint+"/publicaciones/search/publicacionByTituloFree/"+e)}getPublicacionById(e){return this.http.get(this.endpoint+"/publicaciones/"+e)}deletePublicacion(e){return this.http.delete(this.endpoint+"/publicaciones/"+e)}patchPublicacion(e){return this.http.patch(this.endpoint+"/publicaciones/search/patchPublicacion",e)}getPublicacionesCerca(e,i){return this.http.get(this.endpoint+"/publicaciones/search/publicacionesCerca/"+e+"/"+i).pipe((0,g.U)(o=>o._embedded.publicaciones))}getPublicacionesRelacionadas(e){return this.http.get(this.endpoint+"/publicaciones/search/publicacionesRelacionadas/"+e).pipe((0,g.U)(i=>i._embedded.publicaciones))}getPublicacionesByTag(e){return this.http.get(this.endpoint+"/publicaciones/search/publicacionesByTag/"+e).pipe((0,g.U)(i=>i._embedded.publicaciones))}getPublicacionesByLugar(e){return this.http.get(this.endpoint+"/publicaciones/search/publicacionesByLugar/"+e).pipe((0,g.U)(i=>i._embedded.publicaciones))}getPublicacionesByCategoria(e){return this.http.get(this.endpoint+"/publicaciones/search/publicacionesCategoria/"+e).pipe((0,g.U)(i=>i._embedded.publicaciones))}getPublicacionesCarousel(){return this.http.get(this.endpoint+"/publicaciones/search/publicacionesCarousel").pipe((0,g.U)(e=>e._embedded.publicaciones))}getPublicacionesNoCarousel(){return this.http.get(this.endpoint+"/publicaciones/search/publicacionesNoCarousel").pipe((0,g.U)(e=>e._embedded.publicaciones))}getPublicacionesBuscador(e){return this.http.get(this.endpoint+"/publicaciones/search/buscar-publicaciones?palabrasClave="+e[0]+","+e[1]+","+e[2]+","+e[3]+","+e[4]+","+e[5]).pipe((0,g.U)(i=>i._embedded.publicaciones))}}return a.\u0275fac=function(e){return new(e||a)(t.LFG(p.eN))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var d=u(7270);let v=(()=>{class a{constructor(e){this.http=e,this.endpoint=f.N.urlAPI}getLateral(){return this.http.get(this.endpoint+"/laterales/1")}getId(e){let o=e._links.self.href.split("/");return o[o.length-1]}postLateral(e){return this.http.post(this.endpoint+"/laterales",e)}patchLateral(e){return this.http.patch(this.endpoint+"/laterales/1",e)}deleteLateral(){return this.http.delete(this.endpoint+"/laterales/1")}}return a.\u0275fac=function(e){return new(e||a)(t.LFG(p.eN))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var c=u(4006);class _{constructor(){this.id="",this.lugarNombre=""}}class y{constructor(){this.id="",this.titulo="",this.subtitulo="",this.htmlPublicacion="",this.premium=!1,this.destacado=!1,this.carousel=!1,this.bloques=[],this.fechaPublicacion="",this.likesRecibidos=[],this.cafes=[],this.tags=[],this.imagenPreviewUrl="",this.lugar=new _,this.letraOscura=!1}}let Z=(()=>{class a{constructor(){this.publicacion=new y,this.tituloUrl=""}ngOnInit(){this.tituloUrl=this.publicacion.titulo.replaceAll(" ","-")}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-publicacion"]],inputs:{publicacion:"publicacion"},decls:18,vars:8,consts:[[1,"publicacion-preview"],[1,"btn",3,"href"],[1,"card-image","mb-2"],["alt","",1,"img-card","img-fluid","w-100",3,"src"],[1,"categoria-container"],[1,"categoria"],[1,"card-body","p-0"],[2,"display","block"],[1,"card-title","my-2"],[1,"divisor"],[1,"card-text-container"],[1,"card-text","my-3"],[1,"card-text","autor"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"a",1)(2,"div",2),t._UZ(3,"img",3),t.TgZ(4,"div",4)(5,"p",5)(6,"b"),t._uU(7),t.qZA()()()(),t.TgZ(8,"div",6)(9,"div",7)(10,"h5",8),t._uU(11),t.qZA(),t._UZ(12,"hr",9),t.TgZ(13,"div",10)(14,"p",11),t._uU(15),t.qZA(),t.TgZ(16,"p",12),t._uU(17),t.qZA()()()()()()),2&e&&(t.xp6(1),t.MGl("href","publicaciones/",i.tituloUrl,"",t.LSH),t.xp6(2),t.s9C("src",i.publicacion.imagenPreviewUrl,t.LSH),t.xp6(4),t.Oqu(i.publicacion.categoria.categoriaNombre),t.xp6(4),t.Oqu(i.publicacion.titulo),t.xp6(4),t.Oqu(i.publicacion.subtitulo),t.xp6(2),t.lnq("Por ",i.publicacion.autor.nombre," ",i.publicacion.autor.apellido1," ",i.publicacion.autor.apellido2,""))},styles:[".card-image[_ngcontent-%COMP%]{box-shadow:2px 2px 10px #666;background-color:#ff6d00;border-radius:0}.img-card[_ngcontent-%COMP%]{transform:rotate(-3deg)}.publicacion-preview[_ngcontent-%COMP%]{border-radius:0;height:-moz-fit-content;height:fit-content}.card-title[_ngcontent-%COMP%]{height:-moz-fit-content!important;height:fit-content!important;text-align:left}.card-text[_ngcontent-%COMP%]{text-align:left;font-size:small}.card-title[_ngcontent-%COMP%]:hover{opacity:.5;color:#f7a203}hr[_ngcontent-%COMP%]{color:#ff6d00;border-width:1.5px}.categoria[_ngcontent-%COMP%]{transform:rotate(-3deg);position:absolute;top:4%;font-size:x-small;background-color:orange;border-radius:15px;height:1rem;width:-moz-fit-content;width:fit-content;cursor:pointer;cursor:hand;padding-left:8px;padding-right:8px;margin:auto}.autor[_ngcontent-%COMP%]{font-size:small;font-style:italic}"]}),a})();function M(a,n){if(1&a&&t._UZ(0,"img",63),2&a){const e=t.oxw();t.s9C("src",e.imagenInicioIzquierda.url,t.LSH)}}function E(a,n){1&a&&t._UZ(0,"button",64)}function I(a,n){1&a&&t._UZ(0,"button",65)}function T(a,n){1&a&&t._UZ(0,"button",66)}function H(a,n){1&a&&t._UZ(0,"button",67)}function z(a,n){1&a&&t._UZ(0,"button",68)}function j(a,n){1&a&&t._UZ(0,"button",69)}function B(a,n){if(1&a&&(t.TgZ(0,"h5",77)(1,"b"),t._uU(2),t.qZA()()),2&a){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.titulo)}}function G(a,n){if(1&a&&(t.TgZ(0,"p",78)(1,"b"),t._uU(2),t.qZA()()),2&a){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.subtitulo)}}function V(a,n){if(1&a&&(t.TgZ(0,"h5",79)(1,"b"),t._uU(2),t.qZA()()),2&a){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.titulo)}}function K(a,n){if(1&a&&(t.TgZ(0,"p",80)(1,"b"),t._uU(2),t.qZA()()),2&a){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.subtitulo)}}function X(a,n){if(1&a){const e=t.EpF();t.TgZ(0,"div",70)(1,"img",71),t.NdJ("click",function(){const r=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.getPublicacionUrl(r.titulo))}),t.qZA(),t.TgZ(2,"div",72),t.NdJ("click",function(){const r=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.getPublicacionUrl(r.titulo))}),t.YNc(3,B,3,1,"h5",73),t.YNc(4,G,3,1,"p",74),t.YNc(5,V,3,1,"h5",75),t.YNc(6,K,3,1,"p",76),t.qZA()()}if(2&a){const e=n.$implicit;t.xp6(1),t.s9C("src",e.imagenPreviewUrl,t.LSH),t.xp6(2),t.Q6J("ngIf",!e.letraOscura),t.xp6(1),t.Q6J("ngIf",!e.letraOscura),t.xp6(1),t.Q6J("ngIf",e.letraOscura),t.xp6(1),t.Q6J("ngIf",e.letraOscura)}}function W(a,n){if(1&a&&t._UZ(0,"img",81),2&a){const e=t.oxw();t.s9C("src",e.imagenInicioDerecha.url,t.LSH)}}function tt(a,n){if(1&a&&(t.TgZ(0,"div",82),t._UZ(1,"app-publicacion",83),t.qZA()),2&a){const e=n.$implicit;t.xp6(1),t.Q6J("publicacion",e)}}function et(a,n){if(1&a&&(t.TgZ(0,"div",82),t._UZ(1,"app-publicacion",83),t.qZA()),2&a){const e=n.$implicit;t.xp6(1),t.Q6J("publicacion",e)}}let it=(()=>{class a{constructor(e,i,o,r){this.publicacionesService=e,this.imagenesService=i,this.router=o,this.lateralService=r,this.publicaciones=[],this.publicacionesDestacadas=[],this.publicacionesCarousel=[],this.urlImagenLateralDerecha="",this.imagenInicioDerecha=new w,this.imagenInicioIzquierda=new w,this.imagenInicioCentral=new w,this.tituloUrl="",this.lateral=new P,this.palabrasClave=""}ngOnInit(){this.getImagenesInicio(),this.getLateral(),this.getPublicacionesRecientes(),this.getPublicacionesDestacadas(),this.getPublicacionesCarousel()}getPublicacionesRecientes(){this.publicaciones=[],this.publicacionesService.getPublicacionesRecientes().subscribe(e=>{this.publicaciones=e,this.publicaciones.forEach(i=>{i.id=this.publicacionesService.getId(i),this.publicacionesService.getCategoriaFromPublicacion(i).subscribe(o=>{i.categoria=o,this.publicacionesService.getAutorFromPublicacion(i).subscribe(r=>{i.autor=r})})})})}getPublicacionesDestacadas(){this.publicacionesDestacadas=[],this.publicacionesService.getPublicacionesDestacadas().subscribe(e=>{this.publicacionesDestacadas=e,this.publicacionesDestacadas.forEach(i=>{i.id=this.publicacionesService.getId(i),this.publicacionesService.getCategoriaFromPublicacion(i).subscribe(o=>{i.categoria=o,this.publicacionesService.getAutorFromPublicacion(i).subscribe(r=>{i.autor=r})})})})}getPublicacionesCarousel(){this.publicacionesService.getPublicacionesCarousel().subscribe(e=>{this.publicacionesCarousel=e,this.publicacionesCarousel.forEach(i=>{i.id=this.publicacionesService.getId(i),i.subtitulo=i.subtitulo.substring(0,160)+"..."})})}getImagenesInicio(){this.imagenesService.getImagenesInicio().subscribe(e=>{e.forEach(i=>{"derecha"==i.posicion&&(this.imagenInicioDerecha=i),"izquierda"==i.posicion&&(this.imagenInicioIzquierda=i),"centro"==i.posicion&&(this.imagenInicioCentral=i)})})}getPublicacionUrl(e){let i="/publicaciones/"+e.replaceAll(" ","-");this.router.navigate([i])}getLateral(){this.lateralService.getLateral().subscribe(e=>{this.lateral=e,this.showHtmlPodcast(),this.showHtmlPodcastSM(),this.showHtmlTwitter(),this.showHtmlTwitter2(),this.showHtmlTwitter3()})}showHtmlTwitter(){var e=document.querySelector("#twitter"),i=document.createElement("div");i.classList.add("twitter-tweet"),i.innerHTML=this.lateral.htmlTwitter,e?.appendChild(i),twttr.widgets.load()}showHtmlTwitter2(){var e=document.querySelector("#twitter2"),i=document.createElement("div");i.classList.add("twitter-tweet"),i.innerHTML=this.lateral.htmlTwitter2,e?.appendChild(i),twttr.widgets.load()}showHtmlTwitter3(){var e=document.querySelector("#twitter3"),i=document.createElement("div");i.classList.add("twitter-tweet"),i.innerHTML=this.lateral.htmlTwitter3,e?.appendChild(i),twttr.widgets.load()}showHtmlPodcast(){var e=document.querySelector("#podcast"),i=document.createElement("div");i.innerHTML=this.lateral.htmlPodcast,e?.appendChild(i),console.log(i.innerHTML)}showHtmlPodcastSM(){var e=document.querySelector("#podcastSM"),i=document.createElement("div");i.innerHTML=this.lateral.htmlPodcast,e?.appendChild(i),console.log(i.innerHTML)}buscarPublicacionesPorPalabras(){console.log(this.palabrasClave);let e=this.palabrasClave.split(" ");const i=`/publicaciones-buscador/?palabrasClave=${encodeURIComponent(JSON.stringify(e))}`;this.router.navigateByUrl(i)}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(s),t.Y36(d.j),t.Y36(b.F0),t.Y36(v))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-publicaciones"]],decls:84,vars:13,consts:[[1,"inicio-container"],[1,"inicio","row","p-0","m-0"],[1,"promo","d-none","d-sm-block","col-sm-3","p-0","m-0"],["href","/ecommerce"],["alt","","class","w-100 p-0 m-0",3,"src",4,"ngIf"],[1,"carrusel","col-12","col-sm-6","p-0","m-0"],["id","carouselExampleCaptions","data-bs-ride","carousel",1,"carousel","slide"],[1,"carousel-indicators"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","0","aria-current","true","aria-label","Slide 1",1,"active"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","1","aria-label","Slide 2"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","2","aria-label","Slide 3"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","3","aria-label","Slide 4",4,"ngIf"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","4","aria-label","Slide 5",4,"ngIf"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","5","aria-label","Slide 6",4,"ngIf"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","6","aria-label","Slide 7",4,"ngIf"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","7","aria-label","Slide 8",4,"ngIf"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","8","aria-label","Slide 9",4,"ngIf"],[1,"carousel-inner"],["data-bs-interval","3500",1,"carousel-item","active"],["alt","...",1,"d-block","w-100","p-0","m-0",3,"src"],[1,"carousel-caption","rrss"],[1,"row","align-items-center","mt-1"],[1,"col-1"],[1,"col-2","col-sm-1","my-1","mx-2"],["href","https://www.facebook.com/elisabethgiborra"],["src","../../../../assets/facebookIcon.png","alt","",1,"icono-rrss"],["href","https://www.instagram.com/vermu.torero/"],["src","../../../../assets/instagramIcon.png","alt","",1,"icono-rrss"],["href","http://es.linkedin.com/in/elisabethgiborra"],["src","../../../../assets/linkedinIcon.png","alt","",1,"icono-rrss"],["href","https://twitter.com/elisabethiborra"],["src","../../../../assets/twitterIcon.png","alt","",1,"icono-rrss"],["class","carousel-item","data-bs-interval","3500",4,"ngFor","ngForOf"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],["alt","","class","img-fluid p-0 m-0",3,"src",4,"ngIf"],["id","podcastSM",1,"col-12","d-md-none","row","podcastSM","m-1","mt-3"],[1,"row","titulo-podcast"],[1,"zona-articulos","row"],[1,"col-12","col-md-8","col-lg-9"],[1,"py-1","mx-4"],[1,"row","mx-2","my-2"],[1,"recientes","row","align-items-start"],["class","card col-12 col-sm-6 col-lg-3 col-xxl-3",4,"ngFor","ngForOf"],["id","editor","hidden",""],[1,"my-1","py-4","mx-4"],[1,"row","mx-2","my-1"],[1,"destacados","row","align-items-start"],[1,"d-none","d-md-block","col-md-4","col-lg-3","mb-3"],["id","podcast",1,"row","podcast"],[1,"row","buscador"],[1,"row","titulo-buscador"],["role","search",1,"d-flex"],["placeholder","Buscar","aria-label","Buscar","id","palabrasClave","name","palabrasClave",1,"form-control","me-2","input-buscador",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-outline-success","btn-sm",3,"click"],[1,"row","twitter"],[1,"row","titulo-twitter"],["id","twitter",1,"col-12"],["id","twitter2",1,"col-12"],["id","twitter3",1,"col-12"],["alt","",1,"w-100","p-0","m-0",3,"src"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","3","aria-label","Slide 4"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","4","aria-label","Slide 5"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","5","aria-label","Slide 6"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","6","aria-label","Slide 7"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","7","aria-label","Slide 8"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","8","aria-label","Slide 9"],["data-bs-interval","3500",1,"carousel-item"],["alt","...",1,"d-block","w-100",3,"src","click"],[1,"carousel-caption",3,"click"],["class","letra-blanca texto-titulo",4,"ngIf"],["class","letra-blanca texto-carousel d-none d-md-block",4,"ngIf"],["class","letra-negra texto-titulo",4,"ngIf"],["class","letra-negra texto-carousel d-none d-md-block",4,"ngIf"],[1,"letra-blanca","texto-titulo"],[1,"letra-blanca","texto-carousel","d-none","d-md-block"],[1,"letra-negra","texto-titulo"],[1,"letra-negra","texto-carousel","d-none","d-md-block"],["alt","",1,"img-fluid","p-0","m-0",3,"src"],[1,"card","col-12","col-sm-6","col-lg-3","col-xxl-3"],[3,"publicacion"]],template:function(e,i){1&e&&(t.TgZ(0,"section",0)(1,"section",1)(2,"section",2)(3,"a",3),t.YNc(4,M,1,1,"img",4),t.qZA()(),t.TgZ(5,"section",5)(6,"div",6)(7,"div",7),t._UZ(8,"button",8)(9,"button",9)(10,"button",10),t.YNc(11,E,1,0,"button",11),t.YNc(12,I,1,0,"button",12),t.YNc(13,T,1,0,"button",13),t.YNc(14,H,1,0,"button",14),t.YNc(15,z,1,0,"button",15),t.YNc(16,j,1,0,"button",16),t.qZA(),t.TgZ(17,"div",17)(18,"div",18),t._UZ(19,"img",19),t.TgZ(20,"section",20)(21,"div",21),t._UZ(22,"div",22),t.TgZ(23,"div",23)(24,"a",24),t._UZ(25,"img",25),t.qZA()(),t.TgZ(26,"div",23)(27,"a",26),t._UZ(28,"img",27),t.qZA()(),t.TgZ(29,"div",23)(30,"a",28),t._UZ(31,"img",29),t.qZA()(),t.TgZ(32,"div",23)(33,"a",30),t._UZ(34,"img",31),t.qZA()()()()(),t.YNc(35,X,7,5,"div",32),t.qZA(),t.TgZ(36,"button",33),t._UZ(37,"span",34),t.TgZ(38,"span",35),t._uU(39,"Previous"),t.qZA()(),t.TgZ(40,"button",36),t._UZ(41,"span",37),t.TgZ(42,"span",35),t._uU(43,"Next"),t.qZA()()()(),t.TgZ(44,"section",2)(45,"a",3),t.YNc(46,W,1,1,"img",38),t.qZA()()()(),t.TgZ(47,"div",39)(48,"h5",40),t._uU(49,"Podcast"),t.qZA()(),t.TgZ(50,"section",41)(51,"div",42)(52,"section",43)(53,"h3",44)(54,"b"),t._uU(55,"Ultimos art\xedculos"),t.qZA()(),t._UZ(56,"hr"),t.TgZ(57,"div",45),t.YNc(58,tt,2,1,"div",46),t._UZ(59,"div",47),t.qZA()(),t.TgZ(60,"section",48)(61,"h3",49)(62,"b"),t._uU(63,"Destacados"),t.qZA()(),t._UZ(64,"hr"),t.TgZ(65,"div",50),t.YNc(66,et,2,1,"div",46),t.qZA()()(),t.TgZ(67,"div",51)(68,"div",52)(69,"h5",40),t._uU(70,"Podcast"),t.qZA()(),t.TgZ(71,"div",53)(72,"h5",54),t._uU(73,"Buscador de art\xedculos"),t.qZA(),t.TgZ(74,"form",55)(75,"input",56),t.NdJ("ngModelChange",function(r){return i.palabrasClave=r}),t.qZA(),t.TgZ(76,"button",57),t.NdJ("click",function(){return i.buscarPublicacionesPorPalabras()}),t._uU(77,"Buscar"),t.qZA()()(),t.TgZ(78,"div",58)(79,"h5",59),t._uU(80,"Twitter"),t.qZA(),t._UZ(81,"div",60)(82,"div",61)(83,"div",62),t.qZA()()()),2&e&&(t.xp6(4),t.Q6J("ngIf",i.imagenInicioIzquierda.url),t.xp6(7),t.Q6J("ngIf",i.publicacionesCarousel[2]),t.xp6(1),t.Q6J("ngIf",i.publicacionesCarousel[3]),t.xp6(1),t.Q6J("ngIf",i.publicacionesCarousel[3]),t.xp6(1),t.Q6J("ngIf",i.publicacionesCarousel[5]),t.xp6(1),t.Q6J("ngIf",i.publicacionesCarousel[6]),t.xp6(1),t.Q6J("ngIf",i.publicacionesCarousel[7]),t.xp6(3),t.s9C("src",i.imagenInicioCentral.url,t.LSH),t.xp6(16),t.Q6J("ngForOf",i.publicacionesCarousel),t.xp6(11),t.Q6J("ngIf",i.imagenInicioDerecha.url),t.xp6(12),t.Q6J("ngForOf",i.publicaciones),t.xp6(8),t.Q6J("ngForOf",i.publicacionesDestacadas),t.xp6(9),t.Q6J("ngModel",i.palabrasClave))},dependencies:[m.sg,m.O5,c._Y,c.Fj,c.JJ,c.JL,c.On,c.F,Z],styles:[".inicio[_ngcontent-%COMP%]{background-color:#000}.card[_ngcontent-%COMP%]{margin:0 auto;border-radius:0;border-style:none;display:inline-flex}.inicio-container[_ngcontent-%COMP%]{margin-top:2%}.letra-blanca[_ngcontent-%COMP%]{color:#fff}.letra-blanca[_ngcontent-%COMP%]:hover{opacity:1;color:#f7c15d}.letra-negra[_ngcontent-%COMP%]{color:#000}.letra-negra[_ngcontent-%COMP%]:hover{opacity:1;color:#7a5003}.rrss[_ngcontent-%COMP%]{position:absolute;top:70%;left:5%}.icono-rrss[_ngcontent-%COMP%]{width:200%}.naranja[_ngcontent-%COMP%]{background-color:#000;height:20px}.promo[_ngcontent-%COMP%]{box-shadow:2px 2px 10px #666}hr[_ngcontent-%COMP%]{color:#ff6d00;border-width:2px}.carrusel[_ngcontent-%COMP%]{box-shadow:2px 2px 10px #666}.recientes[_ngcontent-%COMP%], .destacados[_ngcontent-%COMP%]{height:auto;display:inline-block}.publicacion[_ngcontent-%COMP%]{height:auto;display:flex}app-publicacion[_ngcontent-%COMP%]{display:inline-flex}.podcast[_ngcontent-%COMP%]{margin-top:15%;margin-right:10%;background-color:#fff;padding:3%;border-style:ridge;border-color:#000;border-width:1px;box-shadow:2px 2px 10px #666;height:-moz-fit-content;height:fit-content}.buscador[_ngcontent-%COMP%]{margin-top:5%;margin-right:10%;background-color:#ff6d00;padding:3%;border-style:ridge;border-color:#000;border-width:1px;box-shadow:2px 2px 10px #666}.twitter[_ngcontent-%COMP%]{margin-top:5%;margin-right:10%;padding:3%;border-style:ridge;border-color:#000;border-width:1px;box-shadow:2px 2px 10px #666;height:-moz-fit-content;height:fit-content}.recomendaciones[_ngcontent-%COMP%]{margin-top:5%;margin-right:10%;padding:5%;border-style:ridge;border-color:#000;border-width:1px;box-shadow:2px 2px 10px #666;height:40%}.boton-login[_ngcontent-%COMP%]{justify-self:right}.titulo-podcast[_ngcontent-%COMP%], .titulo-twitter[_ngcontent-%COMP%], .titulo-publicaciones-lateral[_ngcontent-%COMP%]{color:#ff6d00}.input-buscador[_ngcontent-%COMP%]{width:80%}.carousel-caption[_ngcontent-%COMP%]{opacity:0;transform:translateY(100%)}.carousel-item.active[_ngcontent-%COMP%]   .carousel-caption[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slide-up .8s 1s forwards}.carousel-item[_ngcontent-%COMP%]   .carousel-caption[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slide-down 0s forwards}@keyframes _ngcontent-%COMP%_slide-up{0%{opacity:0;transform:translateY(100%)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slide-down{0%{opacity:1;transform:translateY(0)}50%{opacity:0;transform:translateY(-50%)}to{opacity:0;transform:translateY(100%)}}@keyframes _ngcontent-%COMP%_slidein{0%{transform:translateY(100%)}to{transform:translateY(0)}}@media (max-width: 40em){.letra-blanca[_ngcontent-%COMP%], .letra-negra[_ngcontent-%COMP%]{font-size:1em}.rrss[_ngcontent-%COMP%]{position:absolute;top:70%;left:5%}.icono-rrss[_ngcontent-%COMP%]{width:80%}.titulo-buscador[_ngcontent-%COMP%]{font-size:2vw}.boton-buscador[_ngcontent-%COMP%]{width:20%}}@media (min-width: 41em){.texto-carousel[_ngcontent-%COMP%]{font-size:small}.texto-titulo[_ngcontent-%COMP%]{font-size:medium}.boton-buscador[_ngcontent-%COMP%]{width:20%}.inicio-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.inicio[_ngcontent-%COMP%]{width:80%;margin:auto}}@media (min-width: 80em){.inicio[_ngcontent-%COMP%]{width:80%;margin:auto}.inicio-container[_ngcontent-%COMP%]{display:flex;justify-content:center}}"]}),a})(),O=(()=>{class a{constructor(e){this.http=e,this.endpoint=f.N.urlAPI}getLugares(){return this.http.get(this.endpoint+"/lugares").pipe((0,g.U)(e=>e._embedded.lugares))}getId(e){let o=e._links.self.href.split("/");return o[o.length-1]}postLugar(e){return this.http.post(this.endpoint+"/lugares",e)}patchLugar(e){return this.http.patch(this.endpoint+"/lugares/"+e.id,e)}deleteLugar(e){return this.http.delete(this.endpoint+"/lugares/"+e.id)}}return a.\u0275fac=function(e){return new(e||a)(t.LFG(p.eN))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),L=(()=>{class a{constructor(e){this.http=e,this.endpoint=f.N.urlAPI}getTags(){return this.http.get(this.endpoint+"/tags").pipe((0,g.U)(e=>e._embedded.tags))}getId(e){let o=e._links.self.href.split("/");return o[o.length-1]}postTag(e){return this.http.post(this.endpoint+"/tags",e)}patchTag(e){return this.http.patch(this.endpoint+"/tags/"+e.id,e)}deleteTag(e){return this.http.delete(this.endpoint+"/tags/"+e.id)}}return a.\u0275fac=function(e){return new(e||a)(t.LFG(p.eN))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),x=(()=>{class a{constructor(e){this.http=e,this.endpoint=f.N.urlAPI}getCategorias(){return this.http.get(this.endpoint+"/categorias").pipe((0,g.U)(e=>e._embedded.categorias))}getCategoria(e){return this.http.get(this.endpoint+"/categorias/"+e)}getCategoriaByCategoriaNombre(e){return this.http.get(this.endpoint+"/categorias/search/categoriaByCategoriaNombre/"+e)}getId(e){let o=e._links.self.href.split("/");return o[o.length-1]}postCategoria(e){return this.http.post(this.endpoint+"/categorias",e)}patchCategoria(e){return this.http.patch(this.endpoint+"/categorias/"+e.id,e)}deleteCategoria(e){return this.http.delete(this.endpoint+"/categorias/"+e.id)}}return a.\u0275fac=function(e){return new(e||a)(t.LFG(p.eN))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function at(a,n){if(1&a&&(t.TgZ(0,"p",63),t._uU(1),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.lnq("",e.publicacion.autor.nombre," ",e.publicacion.autor.apellido1," ",e.publicacion.autor.apellido2,"")}}const ot=function(a){return[a]};function nt(a,n){if(1&a&&(t.TgZ(0,"div",64)(1,"p",65),t._uU(2),t.qZA()()),2&a){const e=n.$implicit;t.Q6J("routerLink",t.VKq(2,ot,"/publicaciones-tag/"+e.tagNombre)),t.xp6(2),t.Oqu(e.tagNombre)}}function rt(a,n){if(1&a&&(t.TgZ(0,"div",66)(1,"a",67)(2,"div",68)(3,"p",69),t._uU(4),t.qZA()()()()),2&a){const e=t.oxw();t.xp6(1),t.MGl("href","publicaciones-provincia/",e.publicacion.lugar.lugarNombre,"",t.LSH),t.xp6(3),t.hij(" \xa0\xa0",e.publicacion.lugar.lugarNombre,"\xa0\xa0")}}function ct(a,n){if(1&a&&(t.TgZ(0,"a",70),t._uU(1,"Modificar publicaci\xf3n"),t.qZA()),2&a){const e=t.oxw();t.MGl("href","formulario/",e.publicacion.id,"",t.LSH)}}function lt(a,n){if(1&a){const e=t.EpF();t.TgZ(0,"a",71),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.eliminarPublicacion())}),t._uU(1,"Eliminar publicaci\xf3n"),t.qZA()}}function st(a,n){if(1&a&&(t.TgZ(0,"div",77),t._UZ(1,"app-publicacion",78),t.qZA()),2&a){const e=n.$implicit;t.xp6(1),t.Q6J("publicacion",e)}}function dt(a,n){if(1&a&&(t.TgZ(0,"section",72)(1,"div",73)(2,"h5",74),t._uU(3,"Cerca de aqu\xed"),t.qZA()(),t.TgZ(4,"div",75),t.YNc(5,st,2,1,"div",76),t.qZA()()),2&a){const e=t.oxw();t.xp6(5),t.Q6J("ngForOf",e.publicacionesCerca)}}function gt(a,n){if(1&a&&(t.TgZ(0,"div",77),t._UZ(1,"app-publicacion",78),t.qZA()),2&a){const e=n.$implicit;t.xp6(1),t.Q6J("publicacion",e)}}function ut(a,n){if(1&a&&(t.TgZ(0,"section",79)(1,"div",80)(2,"h5",74),t._uU(3,"Relacionadas"),t.qZA()(),t.TgZ(4,"div",75),t.YNc(5,gt,2,1,"div",76),t.qZA()()),2&a){const e=t.oxw();t.xp6(5),t.Q6J("ngForOf",e.publicacionesRelacionadas)}}let pt=(()=>{class a{constructor(e,i,o,r,l,h,U){this.activatedRoute=e,this.publicacionesService=i,this.lugarService=o,this.tagService=r,this.categoriaService=l,this.router=h,this.lateralService=U,this.publicacion=new y,this.titulo="",this.id="",this.publicacionesCerca=[],this.publicacionesRelacionadas=[],this.fechaFormateada="",this.lateral=new P,this.palabrasClave="",this.rol=""}ngOnInit(){this.getTitulo(),this.rol=sessionStorage.getItem("rol"),"ROLE_ADMIN"==this.rol||"ROLE_USER_SUSCRIBED"==this.rol||"ROLE_USER_MEMBER"==this.rol?this.getPublicacion():this.getPublicacionFree(),this.getLateral()}getTitulo(){this.activatedRoute.params.subscribe(e=>{this.titulo=e.titulo.replaceAll("-"," ")})}getPublicacion(){this.publicacionesService.getPublicacion(this.titulo).subscribe(e=>{this.publicacion=e,this.getFechaPublicacion(),this.publicacion.id=this.publicacionesService.getId(e),this.publicacionesService.getAutorFromPublicacion(e).subscribe(i=>{this.publicacion.autor=i}),this.publicacionesService.getTagsFromPublicacion(e).subscribe(i=>{this.publicacion.tags=i,this.publicacion.tags.forEach(o=>{o.id=this.tagService.getId(o)}),this.getPublicacionesRelacionadas()}),this.publicacionesService.getLugarFromPublicacion(e).subscribe(i=>{this.publicacion.lugar=i,this.publicacion.lugar.id=this.lugarService.getId(i),this.getPublicacionesCerca()}),this.publicacionesService.getCategoriaFromPublicacion(e).subscribe(i=>{this.publicacion.categoria=i,this.publicacion.categoria.id=this.categoriaService.getId(i)}),this.publicacion.htmlPublicacion=this.publicacion.htmlPublicacion.replaceAll('<iframe class="ql-video ql-align-center" frameborder="0" allowfullscreen="true" src="https://www.youtube.com','<div class="iframe-container d-flex justify-content-center"><iframe class="ql-video"allowfullscreen="true" tipo="youtube" src="https://www.youtube.com'),this.publicacion.htmlPublicacion=this.publicacion.htmlPublicacion.replaceAll('<iframe class="ql-video ql-align-center" allowfullscreen="true" src="https://www.youtube.com','<div class="iframe-container d-flex justify-content-center"><iframe class="ql-video" allowfullscreen="true" tipo="youtube" src="https://www.youtube.com'),this.publicacion.htmlPublicacion=this.publicacion.htmlPublicacion.replaceAll('<iframe style="border-radius:12px" src="https://open.spotify.com','<div class="iframe-container d-flex justify-content-center"><iframe class="ql-video ql-align-center" allowfullscreen="true" tipo="podcast" src="https://open.spotify.com'),this.publicacion.htmlPublicacion=this.publicacion.htmlPublicacion.replaceAll('<iframe class="ql-video ql-align-center" src="https://open.spotify.com','<div class="iframe-container d-flex justify-content-center"><iframe class="ql-video ql-align-center" allowfullscreen="true" tipo="podcast" src="https://open.spotify.com'),this.publicacion.htmlPublicacion=this.publicacion.htmlPublicacion.replaceAll('<iframe class="ql-video ql-align-center" allowfullscreen="true" src="https://open.spotify.com','<div class="iframe-container d-flex justify-content-center"><iframe class="ql-video ql-align-center" allowfullscreen="true" tipo="podcast" src="https://open.spotify.com'),this.publicacion.htmlPublicacion=this.publicacion.htmlPublicacion.replaceAll('<iframe class="ql-video" src="https://open.spotify.com','<div class="iframe-container d-flex justify-content-center"><iframe class="ql-video ql-align-center" allowfullscreen="true" tipo="podcast" src="https://open.spotify.com'),this.publicacion.htmlPublicacion=this.publicacion.htmlPublicacion.replaceAll('<iframe class="ql-video" allowfullscreen="true" src="https://open.spotify.com','<div class="iframe-container d-flex justify-content-center"><iframe class="ql-video ql-align-center" allowfullscreen="true" tipo="podcast" src="https://open.spotify.com'),this.publicacion.htmlPublicacion=this.publicacion.htmlPublicacion.replaceAll("</iframe>","</iframe></div>"),this.publicacion.htmlPublicacion=this.publicacion.htmlPublicacion.replaceAll('<p class="ql-align-center"><img src="','<p class="ql-align-center imagen-container text-center"><img src="'),this.publicacion.htmlPublicacion=this.publicacion.htmlPublicacion.replaceAll('alt="imagenAlt100">','alt="imagenAlt100"></p>'),this.publicacion.htmlPublicacion=this.publicacion.htmlPublicacion.replaceAll('alt="imagenAlt75">','alt="imagenAlt75"></p>'),this.publicacion.htmlPublicacion=this.publicacion.htmlPublicacion.replaceAll('alt="imagenAlt50">','alt="imagenAlt50"></p>'),this.publicacion.htmlPublicacion=this.publicacion.htmlPublicacion.replaceAll('alt="imagenAlt35">','alt="imagenAlt35"></p>'),this.publicacion.htmlPublicacion=this.publicacion.htmlPublicacion.replaceAll('alt="imagenAlt20">','alt="imagenAlt20"></p>'),this.showPublicacion()})}getPublicacionFree(){this.publicacionesService.getPublicacionFree(this.titulo).subscribe(e=>{this.publicacion=e,this.getFechaPublicacion(),this.publicacion.id=this.publicacionesService.getId(e),this.publicacionesService.getAutorFromPublicacion(e).subscribe(i=>{this.publicacion.autor=i}),this.publicacionesService.getTagsFromPublicacion(e).subscribe(i=>{this.publicacion.tags=i,this.publicacion.tags.forEach(o=>{o.id=this.tagService.getId(o)}),this.getPublicacionesRelacionadas()}),this.publicacionesService.getLugarFromPublicacion(e).subscribe(i=>{this.publicacion.lugar=i,this.publicacion.lugar.id=this.lugarService.getId(i),this.getPublicacionesCerca()}),this.publicacionesService.getCategoriaFromPublicacion(e).subscribe(i=>{this.publicacion.categoria=i,this.publicacion.categoria.id=this.categoriaService.getId(i)}),this.showPublicacion()})}getPublicacionesCerca(){this.publicacionesService.getPublicacionesCerca(this.publicacion.lugar.lugarNombre,this.publicacion.id).subscribe(e=>{this.publicacionesCerca=e,this.publicacionesCerca.forEach(i=>{i.id=this.publicacionesService.getId(i),i.subtitulo=i.subtitulo.substring(0,120)+"...",this.publicacionesService.getCategoriaFromPublicacion(i).subscribe(o=>{i.categoria=o,this.publicacionesService.getAutorFromPublicacion(i).subscribe(r=>{i.autor=r})})})})}getPublicacionesRelacionadas(){this.publicacionesService.getPublicacionesRelacionadas(this.publicacion.id).subscribe(e=>{this.publicacionesRelacionadas=e,this.publicacionesRelacionadas.forEach(i=>{i.id=this.publicacionesService.getId(i),i.subtitulo=i.subtitulo.substring(0,120)+"...",this.publicacionesService.getCategoriaFromPublicacion(i).subscribe(o=>{i.categoria=o,this.publicacionesService.getAutorFromPublicacion(i).subscribe(r=>{i.autor=r})})})})}showPublicacion(){var e=document.querySelector("#body"),i=document.createElement("div");i.innerHTML=this.publicacion.htmlPublicacion,e?.appendChild(i)}eliminarPublicacion(){this.publicacionesService.deletePublicacion(this.publicacion.id).subscribe(e=>{this.router.navigate(["#"])})}getFechaPublicacion(){this.fechaFormateada=this.publicacion.fechaPublicacion.split("T")[0]}getLateral(){this.lateralService.getLateral().subscribe(e=>{this.lateral=e,this.showHtmlTwitter(),this.showHtmlTwitter2(),this.showHtmlTwitter3(),this.showHtmlPodcast(),this.showHtmlPodcastSM()})}showHtmlTwitter(){var e=document.querySelector("#twitter"),i=document.createElement("div");i.classList.add("twitter-tweet"),i.innerHTML=this.lateral.htmlTwitter,e?.appendChild(i),twttr.widgets.load()}showHtmlTwitter2(){var e=document.querySelector("#twitter2"),i=document.createElement("div");i.classList.add("twitter-tweet"),i.innerHTML=this.lateral.htmlTwitter2,e?.appendChild(i),twttr.widgets.load()}showHtmlTwitter3(){var e=document.querySelector("#twitter3"),i=document.createElement("div");i.classList.add("twitter-tweet"),i.innerHTML=this.lateral.htmlTwitter3,e?.appendChild(i),twttr.widgets.load()}showHtmlPodcast(){var e=document.querySelector("#podcast"),i=document.createElement("div");i.innerHTML=this.lateral.htmlPodcast,e?.appendChild(i),console.log(i.innerHTML)}showHtmlPodcastSM(){var e=document.querySelector("#podcastSM"),i=document.createElement("div");i.innerHTML=this.lateral.htmlPodcast,e?.appendChild(i),console.log(i.innerHTML)}buscarPublicacionesPorPalabras(){console.log(this.palabrasClave);let e=this.palabrasClave.split(" ");const i=`/publicaciones-buscador/?palabrasClave=${encodeURIComponent(JSON.stringify(e))}`;this.router.navigateByUrl(i)}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(b.gz),t.Y36(s),t.Y36(O),t.Y36(L),t.Y36(x),t.Y36(b.F0),t.Y36(v))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-publicacion-completa"]],decls:86,vars:10,consts:[[1,"fondo","row","py-3"],[1,"col-12","col-sm-9"],[1,"hoja"],[1,"text-center"],[1,"datos"],[1,"col-12","col-sm-4","columna-autor"],[1,"row","d-flex","align-items-center","autor"],[1,"d-none","d-sm-block","col-sm-3","justify-content-center","align-items-center"],["src","../../../../assets/eli.jpeg","alt","",1,"foto-autor"],["class","autor",4,"ngIf"],[1,"likes-vinos","row","d-flex"],[1,"col-3"],["data-bs-toggle","modal","data-bs-target","#likeModal",1,"likes","col-3","d-flex"],["src","../../../../assets/like.png","alt","like",1,"icono-like"],[1,"numero"],[1,"vinos","col-3","d-flex"],["src","../../../../assets/wine.png","alt","vino",1,"icono-vino"],[1,"col-12","col-sm-5","text-center"],[1,"row","justify-content-center"],["class","tag m-2",3,"routerLink",4,"ngFor","ngForOf"],["class","row d-flex justify-content-center lugar",4,"ngIf"],[1,"col-12","col-sm-3","rrss"],[1,"row","align-items-center","mt-1"],[1,"col-3","col-sm-3","my-1"],["href","https://www.facebook.com/elisabethgiborra"],["src","../../../../assets/facebookIcon.png","alt","",1,"icono-rrss"],["href","https://www.instagram.com/vermu.torero/"],["src","../../../../assets/instagramIcon.png","alt","",1,"icono-rrss"],["href","http://es.linkedin.com/in/elisabethgiborra"],["src","../../../../assets/linkedinIcon.png","alt","",1,"icono-rrss"],["href","https://twitter.com/elisabethiborra"],["src","../../../../assets/twitterIcon.png","alt","",1,"icono-rrss"],["id","body",1,"body"],["class","btn btn-warning m-2","style","width: fit-content;",3,"href",4,"ngIf"],["class","btn btn-danger m-2","style","width: fit-content;",3,"click",4,"ngIf"],[1,"d-none","d-sm-block","col-sm-3"],["id","podcast",1,"row","podcast","lateral","mb-4"],[1,"row","titulo-podcast"],[1,"row","buscador","lateral","mb-4"],[1,"row","titulo-buscador"],["role","search",1,"d-flex"],["placeholder","Buscar","aria-label","Buscar","id","palabrasClave","name","palabrasClave",1,"form-control","me-2","input-buscador",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-outline-success","btn-sm",3,"click"],[1,"row","twitter","lateral","mb-4"],[1,"row","titulo-twitter"],["id","twitter",1,"col-12"],["id","twitter2",1,"col-12"],["id","twitter3",1,"col-12"],["class","row lateral mb-4",4,"ngIf"],["class","row lateral mb-3",4,"ngIf"],["id","likeModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row","text-center","m-3"],["href","invitar-vino"],["src","../../../../assets/invitar-vino.png","alt","",1,"invitar-vino","img-fluid"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["data-bs-dismiss","modal",1,"btn","btn-primary"],[1,"autor"],[1,"tag","m-2",3,"routerLink"],[1,"tagNombre"],[1,"row","d-flex","justify-content-center","lugar"],[1,"link",3,"href"],[1,"lugar"],[1,"lugarNombre","text-center"],[1,"btn","btn-warning","m-2",2,"width","fit-content",3,"href"],[1,"btn","btn-danger","m-2",2,"width","fit-content",3,"click"],[1,"row","lateral","mb-4"],[1,"col-12","pt-4"],[1,"titulo-publicaciones-lateral"],[1,"col-12","preview"],["style","display:inline-block;","class","card",4,"ngFor","ngForOf"],[1,"card",2,"display","inline-block"],[3,"publicacion"],[1,"row","lateral","mb-3"],[1,"col-12","mt-4"]],template:function(e,i){1&e&&(t.TgZ(0,"main",0)(1,"section",1)(2,"section",2)(3,"h2",3)(4,"b"),t._uU(5),t.qZA()(),t.TgZ(6,"section",4)(7,"section",5)(8,"div",6)(9,"div",7),t._UZ(10,"img",8),t.qZA(),t.TgZ(11,"div",1),t.YNc(12,at,2,3,"p",9),t.qZA()(),t.TgZ(13,"div",10),t._UZ(14,"div",11),t.TgZ(15,"div",12),t._UZ(16,"img",13),t.TgZ(17,"p",14)(18,"b"),t._uU(19,"121"),t.qZA()()(),t.TgZ(20,"div",15),t._UZ(21,"img",16),t.TgZ(22,"p",14)(23,"b"),t._uU(24,"23"),t.qZA()()()()(),t.TgZ(25,"section",17)(26,"div",18),t.YNc(27,nt,3,4,"div",19),t.qZA(),t.YNc(28,rt,5,2,"div",20),t.qZA(),t.TgZ(29,"section",21)(30,"div",22)(31,"div",23)(32,"a",24),t._UZ(33,"img",25),t.qZA()(),t.TgZ(34,"div",23)(35,"a",26),t._UZ(36,"img",27),t.qZA()(),t.TgZ(37,"div",23)(38,"a",28),t._UZ(39,"img",29),t.qZA()(),t.TgZ(40,"div",23)(41,"a",30),t._UZ(42,"img",31),t.qZA()()()()(),t._UZ(43,"hr")(44,"section",32),t.TgZ(45,"div",3)(46,"p"),t._uU(47),t.qZA()(),t.TgZ(48,"div",18),t.YNc(49,ct,2,1,"a",33),t.YNc(50,lt,2,0,"a",34),t.qZA()()(),t.TgZ(51,"section",35)(52,"section",36)(53,"h5",37),t._uU(54,"Podcast"),t.qZA()(),t.TgZ(55,"section",38)(56,"h5",39),t._uU(57,"Buscador de art\xedculos"),t.qZA(),t.TgZ(58,"form",40)(59,"input",41),t.NdJ("ngModelChange",function(r){return i.palabrasClave=r}),t.qZA(),t.TgZ(60,"button",42),t.NdJ("click",function(){return i.buscarPublicacionesPorPalabras()}),t._uU(61,"Buscar"),t.qZA()()(),t.TgZ(62,"section",43)(63,"h5",44),t._uU(64,"Twitter"),t.qZA(),t._UZ(65,"div",45)(66,"div",46)(67,"div",47),t.qZA(),t.YNc(68,dt,6,1,"section",48),t.YNc(69,ut,6,1,"section",49),t.qZA()(),t.TgZ(70,"div",50)(71,"div",51)(72,"div",52)(73,"div",53)(74,"h1",54),t._uU(75,"\xa1Gracias por darle a Like!"),t.qZA(),t._UZ(76,"button",55),t.qZA(),t.TgZ(77,"div",56)(78,"div",57)(79,"a",58),t._UZ(80,"img",59),t.qZA()()(),t.TgZ(81,"div",60)(82,"button",61),t._uU(83,"Cerrar"),t.qZA(),t.TgZ(84,"button",62),t._uU(85,"Invitar"),t.qZA()()()()()),2&e&&(t.xp6(5),t.Oqu(i.publicacion.titulo),t.xp6(7),t.Q6J("ngIf",i.publicacion.autor),t.xp6(15),t.Q6J("ngForOf",i.publicacion.tags),t.xp6(1),t.Q6J("ngIf",i.publicacion.lugar),t.xp6(19),t.hij("Publicado el ",i.fechaFormateada,""),t.xp6(2),t.Q6J("ngIf","ROLE_ADMIN"==i.rol),t.xp6(1),t.Q6J("ngIf","ROLE_ADMIN"==i.rol),t.xp6(9),t.Q6J("ngModel",i.palabrasClave),t.xp6(9),t.Q6J("ngIf",i.publicacionesCerca[0]),t.xp6(1),t.Q6J("ngIf",i.publicacionesRelacionadas[0]))},dependencies:[m.sg,m.O5,b.rH,c._Y,c.Fj,c.JJ,c.JL,c.On,c.F,Z],styles:[".hoja[_ngcontent-%COMP%]{background-color:#fff;margin:0% 11% 0% 14%;padding:8%;box-shadow:2px 2px 10px #666}.lateral[_ngcontent-%COMP%]{background-color:#fff;box-shadow:2px 2px 10px #666;margin-right:0%;display:flex}.publicaciones-cerca[_ngcontent-%COMP%]{align-content:start}.card[_ngcontent-%COMP%]{margin-top:2%;margin-bottom:4%;padding-top:0%;display:flex;border-width:1;background-color:#f0f0f0;height:-moz-fit-content!important;height:fit-content!important}.fondo[_ngcontent-%COMP%]{background-color:#cdcdcd;margin-top:0%;margin-bottom:0%;padding-bottom:0%;padding-right:3%}.tag[_ngcontent-%COMP%]{background-color:orange;border-radius:15px;height:1.3rem;width:auto;cursor:pointer;cursor:hand}.tag[_ngcontent-%COMP%]:hover{opacity:.5}.tagNombre[_ngcontent-%COMP%]{font-size:small}.lugar[_ngcontent-%COMP%]{background-color:#a2ebde;border-radius:15px;height:1.3rem;width:-moz-fit-content;width:fit-content;margin:0 auto}.lugar[_ngcontent-%COMP%]:hover{opacity:.5}.lugarNombre[_ngcontent-%COMP%]{font-size:small}.foto-autor[_ngcontent-%COMP%]{width:45px;border-radius:50%}.foto-autor[_ngcontent-%COMP%]:hover, .icono-rrss[_ngcontent-%COMP%]:hover{opacity:.5}.invitar-vino[_ngcontent-%COMP%]{width:15em}.icono-like[_ngcontent-%COMP%]{width:2em;cursor:pointer;cursor:hand}.icono-like[_ngcontent-%COMP%]:hover{opacity:.5}.icono-vino[_ngcontent-%COMP%]{width:2em;cursor:pointer;cursor:hand}.icono-vino[_ngcontent-%COMP%]:hover{opacity:.5}.likes[_ngcontent-%COMP%]{display:flex;align-items:center}.numero[_ngcontent-%COMP%]{vertical-align:middle;font-size:x-small}.modal-header[_ngcontent-%COMP%]{background-color:#ff6d00;color:#fff}.podcast[_ngcontent-%COMP%]{margin-top:3%;background-color:#fff;padding:3%;border-style:ridge;border-color:#000;border-width:1px;box-shadow:2px 2px 10px #666;height:-moz-fit-content;height:fit-content}.buscador[_ngcontent-%COMP%]{margin-top:5%;background-color:#ff6d00;padding:3%;border-style:ridge;border-color:#000;border-width:1px;box-shadow:2px 2px 10px #666}.twitter[_ngcontent-%COMP%]{margin-top:5%;padding:3%;border-style:ridge;border-color:#000;border-width:1px;box-shadow:2px 2px 10px #666;height:-moz-fit-content;height:fit-content}.titulo-podcast[_ngcontent-%COMP%], .titulo-twitter[_ngcontent-%COMP%]{color:#ff6d00}.input-buscador[_ngcontent-%COMP%]{width:80%}.titulo-publicaciones-lateral[_ngcontent-%COMP%]{color:#ff6d00}@media (max-width: 40em){  img[alt=imagenAlt100]{width:100%!important}  img[alt=imagenAlt75]{width:90%!important}  img[alt=imagenAlt50]{width:70%!important}  img[alt=imagenAlt35]{width:60%!important}  img[alt=imagenAlt20]{width:50%!important}  .iframe-container{width:100%!important;height:-moz-fit-content!important;height:fit-content!important}  iframe[tipo=podcast]{width:100%!important;height:25vw!important}  iframe[tipo=youtube]{width:100%!important;height:48vw!important}.icono-rrss[_ngcontent-%COMP%]{width:8vw}.autor[_ngcontent-%COMP%]{margin-top:3%;font-size:small}.hoja[_ngcontent-%COMP%]{background-color:#fff;margin:0% 1% 0% 3%;padding:4%;box-shadow:2px 2px 10px #666}}@media (min-width: 41em){  img[alt=imagenAlt100]{width:100%!important}  img[alt=imagenAlt75]{width:75%!important}  img[alt=imagenAlt50]{width:50%!important}  img[alt=imagenAlt35]{width:35%!important}  img[alt=imagenAlt20]{width:20%!important}  iframe[tipo=podcast]{width:75%!important;height:220px!important}  iframe[tipo=youtube]{width:75%!important;height:28vw!important}.icono-rrss[_ngcontent-%COMP%]{width:2.2vw}.autor[_ngcontent-%COMP%]{margin-top:3%;font-size:medium}.datos[_ngcontent-%COMP%]{display:flex}.hoja[_ngcontent-%COMP%]{background-color:#fff;margin:0% 2% 0% 4%;padding:8%;box-shadow:2px 2px 10px #666}}@media (min-width: 81em){.lateral[_ngcontent-%COMP%]{padding-left:5%;padding-right:5%;padding-bottom:10%}.hoja[_ngcontent-%COMP%]{background-color:#fff;margin:0% 11% 0% 14%;padding:8%;box-shadow:2px 2px 10px #666}}a[_ngcontent-%COMP%]:link, a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:active{text-decoration:none;color:#000}  a{color:#d17103}"]}),a})();var mt=u(9971),ht=u.n(mt);class q{constructor(){this.id="",this.tagNombre=""}}var F=u(4327),C=u(907);class k{constructor(){this.id="",this.categoriaNombre="",this.categoriaDescripcion="",this.urlImagen=""}}var bt=u(7345);let _t=(()=>{class a{constructor(e){this.http=e,this.endpoint=f.N.urlBack}getAutores(){return this.http.get(this.endpoint+"/usuarios/search/autores").pipe((0,g.U)(e=>e._embedded.usuarios))}getAutor(e){return this.http.get(this.endpoint+"/usuarios/search/autores/"+e)}getId(e){let o=e._links.self.href.split("/");return o[o.length-1]}}return a.\u0275fac=function(e){return new(e||a)(t.LFG(p.eN))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var J=u(5950);const ft=["angularCropper"],vt=["angularCropper2"];function Ct(a,n){if(1&a){const e=t.EpF();t.TgZ(0,"textarea",93),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.publicacion.titulo=o)}),t.qZA()}if(2&a){const e=t.oxw();t.Q6J("ngModel",e.publicacion.titulo)}}function wt(a,n){if(1&a&&(t.TgZ(0,"option",96),t._uU(1),t.qZA()),2&a){const e=n.$implicit;t.s9C("value",e.id),t.xp6(1),t.lnq(" ",e.nombre," ",e.apellido1," ",e.apellido2,"")}}function Pt(a,n){if(1&a){const e=t.EpF();t.TgZ(0,"div",94)(1,"select",95),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.publicacion.autor.id=o)}),t.YNc(2,wt,2,4,"option",84),t.qZA()()}if(2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngModel",e.publicacion.autor.id),t.xp6(1),t.Q6J("ngForOf",e.autores)}}function Zt(a,n){if(1&a&&(t.TgZ(0,"option",96),t._uU(1),t.qZA()),2&a){const e=n.$implicit;t.s9C("value",e.id),t.xp6(1),t.hij(" ",e.lugarNombre,"")}}function Tt(a,n){if(1&a){const e=t.EpF();t.TgZ(0,"div",94)(1,"select",97),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.publicacion.lugar.id=o)}),t.YNc(2,Zt,2,2,"option",84),t.qZA()()}if(2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngModel",e.publicacion.lugar.id),t.xp6(1),t.Q6J("ngForOf",e.lugares)}}function xt(a,n){if(1&a&&(t.TgZ(0,"option",96),t._uU(1),t.qZA()),2&a){const e=n.$implicit;t.s9C("value",e.id),t.xp6(1),t.hij(" ",e.categoriaNombre,"")}}function At(a,n){if(1&a){const e=t.EpF();t.TgZ(0,"div",94)(1,"select",98),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.publicacion.categoria.id=o)}),t.YNc(2,xt,2,2,"option",84),t.qZA()()}if(2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngModel",e.publicacion.categoria.id),t.xp6(1),t.Q6J("ngForOf",e.categorias)}}function yt(a,n){if(1&a){const e=t.EpF();t.TgZ(0,"div",99)(1,"p",100),t._uU(2),t.qZA(),t.TgZ(3,"div",101),t.NdJ("click",function(){const r=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.eliminarTag(r.id))}),t._UZ(4,"img",102),t.qZA()()}if(2&a){const e=n.$implicit;t.xp6(2),t.Oqu(e.tagNombre)}}function Mt(a,n){if(1&a&&(t.TgZ(0,"div",103),t._UZ(1,"img",104),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.s9C("src",e.imagePreviewUrl,t.LSH)}}function It(a,n){1&a&&(t.TgZ(0,"div",103),t._UZ(1,"img",105),t.qZA())}function qt(a,n){if(1&a){const e=t.EpF();t.TgZ(0,"button",106),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.patchPublicacion())}),t._uU(1," Modificar "),t.qZA()}}function Ut(a,n){if(1&a){const e=t.EpF();t.TgZ(0,"button",106),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.postPublicacion())}),t._uU(1," Publicar "),t.qZA()}}function St(a,n){if(1&a&&(t.TgZ(0,"section"),t._UZ(1,"angular-cropper",107,108),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("imageUrl",e.imageUrl)}}function Et(a,n){1&a&&t._UZ(0,"section")}const Nt=function(a){return{aspectRatio:a}};function Ot(a,n){if(1&a&&(t.TgZ(0,"section"),t._UZ(1,"angular-cropper",109,110),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("cropperOptions",t.VKq(2,Nt,1.5))("imageUrl",e.imagePreviewUrl)}}function Lt(a,n){if(1&a&&(t.TgZ(0,"option",96),t._uU(1),t.qZA()),2&a){const e=n.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.tagNombre)}}new(ht())("#editor",{theme:"snow",scrollingContainer:"#scrolling-container"});let R=(()=>{class a{constructor(e,i,o,r,l,h,U,We){this.router=e,this.activatedRoute=i,this.publicacionesService=o,this.tagsService=r,this.usuariosService=l,this.imagenesService=h,this.categoriasService=U,this.lugaresService=We,this.angularCropper=new C.V2,this.angularCropper2=new C.V2,this.id="",this.publicacion=new y,this.texto="",this.urlImagen="",this.urlVideo="",this.htmlPodcast="",this.htmlVideo="",this.fechaPublicacion="",this.endpointTags=f.N.urlAPI+"/tags/",this.endpointAutores=f.N.urlAPI+"/autores/",this.endpointCategorias=f.N.urlAPI+"/categorias/",this.imageUrl="",this.imagePreviewUrl="",this.imageName="",this.croppedresult="",this.anchoImagen="100",this.lugares=[],this.categorias=[],this.tags=[],this.tagNueva=new q,this.autores=[],this.tagsSeleccionadas=[],this.tagSeleccionada=new q,this.lugarSeleccionado=new _,this.categoriaSeleccionada=new k}ngOnInit(){this.publicacion.autor=new bt.b,this.publicacion.categoria=new k,this.getTags(),this.getAutores(),this.getCategorias(),this.getLugares(),this.activatedRoute.params.subscribe(e=>{this.id=e.id,this.id&&this.getPublicacion(),this.ajustarEditor()})}ajustarEditor(){setTimeout(()=>{document.getElementsByClassName("ql-editor")[0].setAttribute("style","height: 700px")},500)}getId(){this.activatedRoute.params.subscribe(e=>{this.id=e.id})}getPublicacion(){this.publicacionesService.getPublicacionById(this.id).subscribe(e=>{this.publicacion=e,this.publicacion.id=this.id,this.imagePreviewUrl=this.publicacion.imagenPreviewUrl,this.getAutorPublicacion(),this.getLugarPublicacion(),this.getCategoriaPublicacion(),this.getTagsPublicacion(),this.getFechaPublicacion(),console.log("PUBLICACION CARGADA:",this.publicacion),this.publicacion.htmlPublicacion=this.publicacion.htmlPublicacion.replaceAll('width="100%" height="352"','width="80%" height="200"'),this.texto=this.publicacion.htmlPublicacion})}agregarPodcast(){this.htmlPodcast=this.htmlPodcast.replace("></iframe>",'tipo ="podcast"></iframe>'),this.texto=this.texto+this.htmlPodcast}agregarVideo(){this.htmlPodcast=this.htmlPodcast.replace("></iframe>",'tipo ="youtube"></iframe>'),this.texto=this.texto+this.htmlVideo,this.htmlVideo=""}postPublicacion(){""==this.publicacion.titulo||""==this.publicacion.autor.id||""==this.publicacion.lugar.id||""==this.publicacion.categoria.id?$("#errorModal").modal("show"):(this.publicacion.htmlPublicacion=this.texto,this.publicacion.tags=[],this.tagsSeleccionadas.forEach(e=>{this.publicacion.tags.push(e)}),this.descargarTxt(),this.publicacionesService.postPublicacion(this.publicacion).subscribe(e=>{this.getPublicacion(),this.descargarTxt(),$("#enviadoModal").modal("show");let i="/../publicaciones/"+e.titulo.replaceAll(" ","-");console.log("navegando a: "+i),this.router.navigate([i])}))}patchPublicacion(){this.publicacion.htmlPublicacion=this.texto,this.publicacion.tags=[],this.publicacion.tags=this.tagsSeleccionadas,this.publicacionesService.patchPublicacion(this.publicacion).subscribe(e=>{this.getPublicacion(),this.descargarTxt();let i="/../../publicaciones/"+e.titulo.replaceAll(" ","-");console.log("navegando a: "+i),this.router.navigate([i])})}descargarTxt(){let e=JSON.stringify(this.autores),i=JSON.stringify(this.tags),o=JSON.stringify(this.publicacion);var r=new Blob([o],{type:"text/plain;charset=utf-8"}),l=new Blob([i],{type:"text/plain;charset=utf-8"}),h=new Blob([e],{type:"text/plain;charset=utf-8"});(0,F.saveAs)(r,this.publicacion.titulo+".txt"),(0,F.saveAs)(l,"tags.txt"),(0,F.saveAs)(h,"autores.txt")}getTags(){this.tagsService.getTags().subscribe(e=>{this.tags=e,this.tags.forEach(i=>{i.id=this.tagsService.getId(i)}),console.log("TAGS CON ID:",this.tags)})}agregarTag(){this.tags.forEach(e=>{e.id==this.tagSeleccionada.id&&(this.tagSeleccionada.tagNombre=e.tagNombre)}),this.tagsSeleccionadas.push(this.tagSeleccionada),console.log("TAGS SELECCIONADAS",this.tagsSeleccionadas),this.tagSeleccionada=new q}eliminarTag(e){for(let i=0;i<this.tagsSeleccionadas.length;i++)this.tagsSeleccionadas[i].id==e&&this.tagsSeleccionadas.splice(i,1);console.log("TAGS SEL DESP BORRAR",this.tagsSeleccionadas)}nuevaTag(){this.tagsService.postTag(this.tagNueva).subscribe(e=>{e.id=this.tagsService.getId(e),this.getTags(),this.tagSeleccionada.id=e.id,this.tagSeleccionada.tagNombre=e.tagNombre,this.agregarTag()})}getTagsPublicacion(){this.publicacionesService.getTagsFromPublicacion(this.publicacion).subscribe(e=>{e.forEach(i=>{i.id=this.tagsService.getId(i)}),this.publicacion.tags=e,console.log("TAGS PUBLICACION:",this.publicacion.tags),this.tagsSeleccionadas=e})}getAutores(){this.usuariosService.getAutores().subscribe(e=>{console.log(e),this.autores=e,this.autores.forEach(i=>{i.id=this.usuariosService.getId(i)}),console.log("AUTORES CON ID:",this.autores)})}getAutorPublicacion(){this.publicacionesService.getAutorFromPublicacion(this.publicacion).subscribe(e=>{e.id=this.usuariosService.getId(e),console.log("AUTOR PUBLICACION:",e),this.publicacion.autor=e})}getCategorias(){this.categoriasService.getCategorias().subscribe(e=>{this.categorias=e,this.categorias.forEach(i=>{i.id=this.categoriasService.getId(i)}),console.log("CATEGORIAS RECIBIDAS: ",this.categorias)})}getCategoriaPublicacion(){this.publicacionesService.getCategoriaFromPublicacion(this.publicacion).subscribe(e=>{e.id=this.categoriasService.getId(e),console.log("CATEG: ",e),this.publicacion.categoria=e,this.categoriaSeleccionada=e})}getFechaPublicacion(){this.publicacion.fechaPublicacion&&(this.fechaPublicacion=this.publicacion.fechaPublicacion.split("T")[0])}getLugares(){this.lugaresService.getLugares().subscribe(e=>{this.lugares=e,this.lugares.forEach(i=>{i.id=this.lugaresService.getId(i)})})}getLugarPublicacion(){this.publicacionesService.getLugarFromPublicacion(this.publicacion).subscribe(e=>{e.id=this.lugaresService.getId(e),this.publicacion.lugar=e,this.lugarSeleccionado=e})}onSelectFile(e){if(e.target.files&&e.target.files[0]){const i=new FileReader;i.readAsDataURL(e.target.files[0]),i.onload=()=>{this.imageUrl=i.result},console.log("EVENT",e.target.files[0]),this.imageName=e.target.files[0].name}console.log("IMAGEN SELECCIONADA EN PC: ",this.imageUrl)}onSelectFilePreview(e){if(e.target.files&&e.target.files[0]){const i=new FileReader;i.readAsDataURL(e.target.files[0]),i.onload=()=>{this.imagePreviewUrl=i.result},console.log("EVENT",e.target.files[0]),this.imageName=e.target.files[0].name}console.log("IMAGEN SELECCIONADA EN PC: ",this.imagePreviewUrl)}getCroppedImage(){this.angularCropper.cropper.getCroppedCanvas().toBlob(e=>{const i=new FileReader;i.readAsDataURL(e),i.onload=()=>{this.croppedresult=i.result;let r=new File([e],this.imageName,{type:"image/jpeg"});this.imagenesService.subirImagen(r,this.publicacion.titulo,"publicacion").subscribe(l=>{console.log("URL IMAGEN SUBIDA: ",l),this.insertarImagenUrl(l)})}},"image/jpeg",.7)}getCroppedImagePreview(){this.angularCropper2.cropper.getCroppedCanvas().toBlob(e=>{const i=new FileReader;i.readAsDataURL(e),i.onload=()=>{this.croppedresult=i.result;let r=new File([e],this.imageName,{type:"image/jpeg"});this.imagenesService.subirImagen(r,this.publicacion.id,"publicacion").subscribe(l=>{this.setImagePreview(l)})}},"image/jpeg",.7)}insertarImagenUrl(e){this.texto=this.texto+'<img src="'+e+'" alt="imagenAlt'+this.anchoImagen+'">',e="",this.imageUrl="",this.imageName=""}setImagePreview(e){this.publicacion.imagenPreviewUrl=e,this.imagePreviewUrl=e}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(b.F0),t.Y36(b.gz),t.Y36(s),t.Y36(L),t.Y36(_t),t.Y36(d.j),t.Y36(x),t.Y36(O))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-publicacion-ficha"]],viewQuery:function(e,i){if(1&e&&(t.Gf(ft,5),t.Gf(vt,5)),2&e){let o;t.iGM(o=t.CRH())&&(i.angularCropper=o.first),t.iGM(o=t.CRH())&&(i.angularCropper2=o.first)}},decls:243,vars:26,consts:[["id","publicacion"],["action","",1,"m-2"],[1,"row","m-3","titulo","justify-content-center"],["class","row text-titulo","type","text","name","titulo","placeholder","Titulo (*Obligatorio)","maxlength","100",3,"ngModel","ngModelChange",4,"ngIf"],[1,"row"],[1,"col-1"],[1,"col-11","col-sm-5","mt-4"],[1,"text-center"],[1,"m-4","row","row-autor"],[1,"col-3","m-1"],["class","col-6 m-2",4,"ngIf"],[1,"col-2","texto-obligatorio"],[1,"m-4","row"],[1,"tags-container"],[1,"m-4","row","justify-content-center"],["data-bs-toggle","modal","data-bs-target","#agregarTagModal",1,"btn","btn-success","boton-agregar-tag"],[1,"row","justify-content-center","row-tags"],["class","tag m-2 col-2",4,"ngFor","ngForOf"],[1,"col-4"],["for","premium"],["type","checkbox","name","premium",1,"m-1",3,"ngModel","ngModelChange"],["for","destacado"],["type","checkbox","name","destacado",1,"m-1",3,"ngModel","ngModelChange"],["type","checkbox","name","carousel",1,"m-1",3,"ngModel","ngModelChange"],[1,"col-11","col-sm-6","mt-4"],[1,"row","align-items-center","justify-content-center","my-4"],[1,"col-12","col-lg-6","publicacion-preview"],["class","card-image",4,"ngIf"],[1,"card-body"],[2,"display","block"],[1,"card-title","text-center","m-1",2,"height","5vh"],[1,"card-text","text-center"],["type","text","name","subtitulo","rows","3","maxlength","210","placeholder","Descripci\xf3n de la publicaci\xf3n (para preview)",1,"row","text-descripcion","mt-4","mb-2","mx-1",3,"ngModel","ngModelChange"],[1,"color-letra","m-2"],["for","colorLetra",1,"mx-2"],["type","checkbox","name","colorLetra",3,"ngModel","ngModelChange"],[1,"mx-3"],[1,"m-1","agregar-bloque-texto","row","form-group","text-center"],["type","button","data-bs-toggle","modal","data-bs-target","#imagenModal",1,"btn"],["src","../../../../assets/icono-foto.png","alt","",1,"icono-youtube"],["type","button","data-bs-toggle","modal","data-bs-target","#videoModal",1,"btn"],["src","../../../../assets/icono-youtube.jpg","alt","",1,"icono-youtube"],["type","button","data-bs-toggle","modal","data-bs-target","#podcastModal",1,"btn"],["src","../../../../assets/icono-spotify.png","alt","",1,"icono-spotify"],["id","editor",1,"col-11","editor-container"],["name","editor","id","editor",1,"quill-editor","my-2","py-4",3,"ngModel","ngModelChange"],[1,"row","text-center","m-4"],[1,"col-5"],["type","button","class","btn btn-warning col-2",3,"click",4,"ngIf"],["id","podcastModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["type","text","name","","placeholder","Url del podcast Spotify","rows","1",2,"width","95%",3,"ngModel","ngModelChange"],["src","../../../../assets/copiar_codigo_spotify.png","alt","",1,"img-fluid","my-4"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["data-bs-dismiss","modal",1,"btn","btn-primary",3,"click"],["id","videoModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["type","text","name","","placeholder","Url del video de Youtube","rows","1",2,"width","95%",3,"ngModel","ngModelChange"],["src","../../../../assets/copiar_codigo_youtube.png","alt","",1,"img-fluid","my-4"],["id","imagenModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"my-2"],["type","file","accept","images/",3,"change"],[4,"ngIf"],[1,"my-4"],["for","",1,"mx-2"],["type","text",3,"ngModel","ngModelChange"],["value","100"],["value","75"],["value","50"],["value","35"],["value","20"],["id","imagenAutorModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["data-bs-dismiss","modal",1,"btn","btn-primary"],["id","imagenPreviewModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],["id","agregarTagModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"row","tag-existente-container"],["for","",1,"mx-2","col-3"],["name","tag4","id","tg4",1,"col-6",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["data-bs-dismiss","modal",1,"col-2","btn","btn-primary","m-1",3,"click"],[1,"row","nueva-tag-container"],["for","titulo",1,"col-3","mx-2"],["type","text","name","tagNueva",1,"col-6",3,"ngModel","ngModelChange"],["id","errorModal","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],["id","staticBackdropLabel",1,"modal-title","fs-5"],["id","enviadoModal","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary"],["type","text","name","titulo","placeholder","Titulo (*Obligatorio)","maxlength","100",1,"row","text-titulo",3,"ngModel","ngModelChange"],[1,"col-6","m-2"],["name","autorSeleccionado","id","autorSeleccionado",3,"ngModel","ngModelChange"],[3,"value"],["name","lugar","id","lugar",3,"ngModel","ngModelChange"],["name","autor","id","categoria",3,"ngModel","ngModelChange"],[1,"tag","m-2","col-2"],[1,"tag-nombre","px-2"],[1,"boton-eliminar",3,"click"],["src","../../../../assets/x-eliminar.png","alt","",2,"height","1rem","width","1rem"],[1,"card-image"],["alt","","data-bs-toggle","modal","data-bs-target","#imagenPreviewModal",1,"img-card","img-fluid","w-100","my-2",3,"src"],["src","../../../../assets/no-imagen.png","alt","","data-bs-toggle","modal","data-bs-target","#imagenPreviewModal",1,"img-card","img-fluid","w-100","my-2"],["type","button",1,"btn","btn-warning","col-2",3,"click"],[3,"imageUrl"],["angularCropper",""],[3,"cropperOptions","imageUrl"],["angularCropper2",""]],template:function(e,i){1&e&&(t.TgZ(0,"body",0)(1,"form",1)(2,"div",2),t.YNc(3,Ct,1,1,"textarea",3),t.qZA(),t.TgZ(4,"div",4),t._UZ(5,"div",5),t.TgZ(6,"div",6)(7,"h3",7),t._uU(8,"Datos"),t.qZA(),t.TgZ(9,"div",8)(10,"p",9),t._uU(11,"Autor:"),t.qZA(),t.YNc(12,Pt,3,2,"div",10),t.TgZ(13,"div",11)(14,"p"),t._uU(15,"*Obligatorio"),t.qZA()()(),t.TgZ(16,"div",12)(17,"p",9),t._uU(18,"Lugar:"),t.qZA(),t.YNc(19,Tt,3,2,"div",10),t.TgZ(20,"div",11)(21,"p"),t._uU(22,"*Obligatorio"),t.qZA()()(),t.TgZ(23,"div",12)(24,"p",9),t._uU(25,"Categoria:"),t.qZA(),t.YNc(26,At,3,2,"div",10),t.TgZ(27,"div",11)(28,"p"),t._uU(29,"*Obligatorio"),t.qZA()()(),t.TgZ(30,"div",12)(31,"div",13)(32,"div",14)(33,"button",15),t._uU(34," Agregar tag "),t.qZA()(),t.TgZ(35,"div",16),t.YNc(36,yt,5,1,"div",17),t.qZA()()(),t.TgZ(37,"div",12)(38,"div",18)(39,"label",19),t._uU(40,"Premium"),t.qZA(),t.TgZ(41,"input",20),t.NdJ("ngModelChange",function(r){return i.publicacion.premium=r}),t.qZA()(),t.TgZ(42,"div",18)(43,"label",21),t._uU(44,"Destacado"),t.qZA(),t.TgZ(45,"input",22),t.NdJ("ngModelChange",function(r){return i.publicacion.destacado=r}),t.qZA()(),t.TgZ(46,"div",18)(47,"label",21),t._uU(48,"Carousel"),t.qZA(),t.TgZ(49,"input",23),t.NdJ("ngModelChange",function(r){return i.publicacion.carousel=r}),t.qZA()()()(),t.TgZ(50,"div",24)(51,"h3",7),t._uU(52,"Preview"),t.qZA(),t.TgZ(53,"div",25)(54,"div",26),t.YNc(55,Mt,2,1,"div",27),t.YNc(56,It,2,0,"div",27),t.TgZ(57,"div",28)(58,"div",29)(59,"h5",30)(60,"b"),t._uU(61),t.qZA()(),t.TgZ(62,"div",31)(63,"textarea",32),t.NdJ("ngModelChange",function(r){return i.publicacion.subtitulo=r}),t.qZA()(),t.TgZ(64,"div",33)(65,"label",34),t._uU(66,"Letra oscura sobre la imagen"),t.qZA(),t.TgZ(67,"input",35),t.NdJ("ngModelChange",function(r){return i.publicacion.letraOscura=r}),t.qZA()()()()()()()()(),t.TgZ(68,"h3",7),t._uU(69,"Contenido de la publicaci\xf3n"),t.qZA(),t.TgZ(70,"div",36)(71,"form",37)(72,"div",5)(73,"div",4)(74,"button",38),t._UZ(75,"img",39),t.qZA()(),t.TgZ(76,"div",4)(77,"button",40),t._UZ(78,"img",41),t.qZA()(),t.TgZ(79,"div",4)(80,"button",42),t._UZ(81,"img",43),t.qZA()()(),t.TgZ(82,"div",44)(83,"quill-editor",45),t.NdJ("ngModelChange",function(r){return i.texto=r}),t.qZA()()()(),t.TgZ(84,"div",46),t._UZ(85,"div",47),t.YNc(86,qt,2,0,"button",48),t.YNc(87,Ut,2,0,"button",48),t.qZA()(),t.TgZ(88,"div",49)(89,"div",50)(90,"div",51)(91,"div",52)(92,"h1",53),t._uU(93,"Insertar Podcast"),t.qZA(),t._UZ(94,"button",54),t.qZA(),t.TgZ(95,"div",55)(96,"input",56),t.NdJ("ngModelChange",function(r){return i.htmlPodcast=r}),t.qZA(),t._UZ(97,"img",57),t.qZA(),t.TgZ(98,"div",58)(99,"button",59),t._uU(100,"Cerrar"),t.qZA(),t.TgZ(101,"button",60),t.NdJ("click",function(){return i.agregarPodcast()}),t._uU(102,"A\xf1adir podcast"),t.qZA()()()()(),t.TgZ(103,"div",61)(104,"div",50)(105,"div",51)(106,"div",52)(107,"h1",53),t._uU(108,"Insertar Video"),t.qZA(),t._UZ(109,"button",54),t.qZA(),t.TgZ(110,"div",55)(111,"input",62),t.NdJ("ngModelChange",function(r){return i.htmlVideo=r}),t.qZA(),t._UZ(112,"img",63),t.qZA(),t.TgZ(113,"div",58)(114,"button",59),t._uU(115,"Cerrar"),t.qZA(),t.TgZ(116,"button",60),t.NdJ("click",function(){return i.agregarVideo()}),t._uU(117,"A\xf1adir video"),t.qZA()()()()(),t.TgZ(118,"div",64)(119,"div",50)(120,"div",51)(121,"div",52)(122,"h1",53),t._uU(123,"Insertar Imagen"),t.qZA(),t._UZ(124,"button",54),t.qZA(),t.TgZ(125,"div",55)(126,"section",65)(127,"input",66),t.NdJ("change",function(r){return i.onSelectFile(r)}),t.qZA()(),t.YNc(128,St,3,1,"section",67),t.TgZ(129,"section",68)(130,"label",69),t._uU(131,"Tama\xf1o"),t.qZA(),t.TgZ(132,"select",70),t.NdJ("ngModelChange",function(r){return i.anchoImagen=r}),t.TgZ(133,"option",71),t._uU(134,"Ancho 100%"),t.qZA(),t.TgZ(135,"option",72),t._uU(136,"Ancho 75%"),t.qZA(),t.TgZ(137,"option",73),t._uU(138,"Ancho 50%"),t.qZA(),t.TgZ(139,"option",74),t._uU(140,"Ancho 35%"),t.qZA(),t.TgZ(141,"option",75),t._uU(142,"Ancho 20%"),t.qZA()()()(),t.TgZ(143,"div",58)(144,"button",59),t._uU(145,"Cerrar"),t.qZA(),t.TgZ(146,"button",60),t.NdJ("click",function(){return i.getCroppedImage()}),t._uU(147,"Aceptar"),t.qZA()()()()(),t.TgZ(148,"div",76)(149,"div",50)(150,"div",51)(151,"div",52)(152,"h1",53),t._uU(153,"Insertar Imagen"),t.qZA(),t._UZ(154,"button",54),t.qZA(),t.TgZ(155,"div",55)(156,"section")(157,"input",66),t.NdJ("change",function(r){return i.onSelectFile(r)}),t.qZA()(),t.YNc(158,Et,1,0,"section",67),t.TgZ(159,"section",68)(160,"label",69),t._uU(161,"Tama\xf1o"),t.qZA(),t.TgZ(162,"select",70),t.NdJ("ngModelChange",function(r){return i.anchoImagen=r}),t.TgZ(163,"option",71),t._uU(164,"Ancho 100%"),t.qZA(),t.TgZ(165,"option",72),t._uU(166,"Ancho 75%"),t.qZA(),t.TgZ(167,"option",73),t._uU(168,"Ancho 50%"),t.qZA(),t.TgZ(169,"option",74),t._uU(170,"Ancho 35%"),t.qZA()()()(),t.TgZ(171,"div",58)(172,"button",59),t._uU(173,"Cerrar"),t.qZA(),t.TgZ(174,"button",77),t._uU(175,"Aceptar"),t.qZA()()()()(),t.TgZ(176,"div",78)(177,"div",79)(178,"div",51)(179,"div",52)(180,"h1",53),t._uU(181,"Insertar Imagen"),t.qZA(),t._UZ(182,"button",54),t.qZA(),t.TgZ(183,"div",55)(184,"section",65)(185,"input",66),t.NdJ("change",function(r){return i.onSelectFilePreview(r)}),t.qZA()(),t.YNc(186,Ot,3,4,"section",67),t.qZA(),t.TgZ(187,"div",58)(188,"button",59),t._uU(189,"Cerrar"),t.qZA(),t.TgZ(190,"button",60),t.NdJ("click",function(){return i.getCroppedImagePreview()}),t._uU(191,"Aceptar"),t.qZA()()()()(),t.TgZ(192,"div",80)(193,"div",79)(194,"div",51)(195,"div",52)(196,"h1",53),t._uU(197,"Insertar tag"),t.qZA(),t._UZ(198,"button",54),t.qZA(),t.TgZ(199,"div",55)(200,"div",81)(201,"label",82),t._uU(202,"Seleccionar tag existente"),t.qZA(),t.TgZ(203,"select",83),t.NdJ("ngModelChange",function(r){return i.tagSeleccionada.id=r}),t.YNc(204,Lt,2,2,"option",84),t.qZA(),t.TgZ(205,"button",85),t.NdJ("click",function(){return i.agregarTag()}),t._uU(206,"Agregar"),t.qZA()(),t._UZ(207,"hr"),t.TgZ(208,"div",86)(209,"label",87),t._uU(210,"Escribir nueva "),t.qZA(),t.TgZ(211,"input",88),t.NdJ("ngModelChange",function(r){return i.tagNueva.tagNombre=r}),t.qZA(),t.TgZ(212,"button",85),t.NdJ("click",function(){return i.nuevaTag()}),t._uU(213,"Crear"),t.qZA()()(),t.TgZ(214,"div",58)(215,"button",59),t._uU(216,"Cerrar"),t.qZA()()()()(),t.TgZ(217,"div",89)(218,"div",79)(219,"div",51)(220,"div",52)(221,"h1",90),t._uU(222,"Error al enviar"),t.qZA(),t._UZ(223,"button",54),t.qZA(),t.TgZ(224,"div",55)(225,"p"),t._uU(226,"Error. Hay campos obligatorios sin rellenar"),t.qZA()(),t.TgZ(227,"div",58)(228,"button",59),t._uU(229,"Cerrar"),t.qZA()()()()(),t.TgZ(230,"div",91)(231,"div",79)(232,"div",51)(233,"div",52)(234,"h1",90),t._uU(235,"Publicaci\xf3n enviada"),t.qZA(),t._UZ(236,"button",54),t.qZA(),t.TgZ(237,"div",55)(238,"p"),t._uU(239,"Publicaci\xf3n enviada."),t.qZA()(),t.TgZ(240,"div",58)(241,"button",92),t._uU(242,"Aceptar"),t.qZA()()()()()),2&e&&(t.xp6(3),t.Q6J("ngIf",i.publicacion),t.xp6(9),t.Q6J("ngIf",i.publicacion.autor),t.xp6(7),t.Q6J("ngIf",i.publicacion.lugar),t.xp6(7),t.Q6J("ngIf",i.publicacion.categoria),t.xp6(10),t.Q6J("ngForOf",i.tagsSeleccionadas),t.xp6(5),t.Q6J("ngModel",i.publicacion.premium),t.xp6(4),t.Q6J("ngModel",i.publicacion.destacado),t.xp6(4),t.Q6J("ngModel",i.publicacion.carousel),t.xp6(6),t.Q6J("ngIf",i.imagePreviewUrl),t.xp6(1),t.Q6J("ngIf",!i.imagePreviewUrl),t.xp6(5),t.Oqu(i.publicacion.titulo),t.xp6(2),t.Q6J("ngModel",i.publicacion.subtitulo),t.xp6(4),t.Q6J("ngModel",i.publicacion.letraOscura),t.xp6(16),t.Q6J("ngModel",i.texto),t.xp6(3),t.Q6J("ngIf",i.id),t.xp6(1),t.Q6J("ngIf",!i.id),t.xp6(9),t.Q6J("ngModel",i.htmlPodcast),t.xp6(15),t.Q6J("ngModel",i.htmlVideo),t.xp6(17),t.Q6J("ngIf",i.imageUrl),t.xp6(4),t.Q6J("ngModel",i.anchoImagen),t.xp6(26),t.Q6J("ngIf",i.imageUrl),t.xp6(4),t.Q6J("ngModel",i.anchoImagen),t.xp6(24),t.Q6J("ngIf",i.imagePreviewUrl),t.xp6(17),t.Q6J("ngModel",i.tagSeleccionada.id),t.xp6(1),t.Q6J("ngForOf",i.tags),t.xp6(7),t.Q6J("ngModel",i.tagNueva.tagNombre))},dependencies:[m.sg,m.O5,c._Y,c.YN,c.Kr,c.Fj,c.Wl,c.EJ,c.JJ,c.JL,c.nD,c.On,c.F,J.g6,C.V2],styles:[".bloque[_ngcontent-%COMP%]{border-style:dotted;border-width:1px}.agregar-bloque-texto[_ngcontent-%COMP%]{border-style:solid;background-color:#fafaf9;border-width:1px}.agregar-bloque-imagen[_ngcontent-%COMP%]{border-style:solid;background-color:#c3dde1;border-width:1px}.agregar-bloque-video[_ngcontent-%COMP%]{border-style:solid;background-color:#dbab9f;border-width:1px}.agregar-bloque-podcast[_ngcontent-%COMP%]{border-style:solid;background-color:#cfeccf;border-width:1px}.preview-publicacion[_ngcontent-%COMP%]{border-style:solid;background-color:#d0d2d0;border-width:1px}.imagen-publicacion[_ngcontent-%COMP%]{width:50%}.cuadro-texto[_ngcontent-%COMP%]{width:100%}.quill-editor[_ngcontent-%COMP%]{background-color:#fff;width:90%;box-shadow:2px 2px 10px #666}.icono-spotify[_ngcontent-%COMP%], .icono-youtube[_ngcontent-%COMP%]{width:9vw;border-style:solid;border-width:1px;border-radius:5px}.ql-video[_ngcontent-%COMP%]{width:50px}.iframe-container[_ngcontent-%COMP%]{width:100px}.tags[_ngcontent-%COMP%], .tag[_ngcontent-%COMP%], .row-tags[_ngcontent-%COMP%], .lugar[_ngcontent-%COMP%], .row-lugar[_ngcontent-%COMP%]{display:inline}.tag-nombre[_ngcontent-%COMP%]{background-color:orange;border-radius:15px;height:1.6rem;width:auto;display:inline;font-size:small}.tags-container[_ngcontent-%COMP%]{margin:4%;border-style:ridge;border-color:#000;padding-bottom:5%}.boton-eliminar[_ngcontent-%COMP%]{border-radius:50%;height:1.5rem;display:inline}.agregar-tag[_ngcontent-%COMP%]{display:inline;height:1.6rem}.boton-agregar-tag[_ngcontent-%COMP%]{height:1.6rem;width:auto;padding-top:0}.nueva-tag-container[_ngcontent-%COMP%]{display:inline}.autor-nombre[_ngcontent-%COMP%]{border-radius:15px;height:1.6rem;width:auto;display:inline}.text-titulo[_ngcontent-%COMP%]{font-size:xx-large;width:80%;box-shadow:2px 2px 10px #666}.text-titulo-card[_ngcontent-%COMP%]{font-size:xx-large;width:80%}.text-descripcion[_ngcontent-%COMP%]{font-size:large;width:100%}.boton-img-preview[_ngcontent-%COMP%]{width:auto;height:-moz-fit-content;height:fit-content}.descripcion-container[_ngcontent-%COMP%]{background-color:#dcdcdc;width:auto;border-color:#000;border-width:1px;border-style:ridge}.img-redimensionada[_ngcontent-%COMP%]{display:block;max-width:100%}.foto-autor[_ngcontent-%COMP%]{width:70px}.publicacion-preview[_ngcontent-%COMP%]{border-style:solid;border-width:1px;border-color:#000;box-shadow:2px 2px 10px #666}.text-descripcion[_ngcontent-%COMP%]{height:200px}.card-title[_ngcontent-%COMP%]{height:-moz-fit-content!important;height:fit-content!important}.card-image[_ngcontent-%COMP%]:hover{opacity:.5}.modal-header[_ngcontent-%COMP%]{background-color:#ff6d00;color:#fff}.texto-obligatorio[_ngcontent-%COMP%]{color:red}@media (max-width: 40em){  .imagen{width:100%!important}  img[alt=imagenAlt35]{width:60%!important}  img[alt=imagenAlt20]{width:50%!important}  .iframe-container{width:100%!important;height:-moz-fit-content!important;height:fit-content!important}  iframe[tipo=podcast]{width:100%!important;height:28vw!important}  iframe[tipo=youtube]{width:100%!important;height:45vw!important}}@media (min-width: 41em){  img[alt=imagenAlt100]{width:100%!important}  img[alt=imagenAlt75]{width:75%!important}  img[alt=imagenAlt50]{width:50%!important}  img[alt=imagenAlt35]{width:35%!important}  img[alt=imagenAlt20]{width:20%!important}  iframe[tipo=podcast]{width:75%!important;height:250px!important}  iframe[tipo=youtube]{width:75%!important;height:35vw!important}}"]}),a})();function Ft(a,n){if(1&a&&(t.TgZ(0,"div",3),t._UZ(1,"app-publicacion",4),t.qZA()),2&a){const e=n.$implicit;t.xp6(1),t.Q6J("publicacion",e)}}let kt=(()=>{class a{constructor(e,i,o){this.publicacionesService=e,this.activatedRoute=i,this.categoriaService=o,this.tagNombre="",this.id="",this.publicaciones=[]}ngOnInit(){this.activatedRoute.params.subscribe(e=>{this.tagNombre=e.tagNombre,console.log("TAG RECIBIDA:",this.tagNombre)}),this.getPublicacionesByTag()}getPublicacionesByTag(){this.publicacionesService.getPublicacionesByTag(this.tagNombre).subscribe(e=>{this.publicaciones=e,this.publicaciones.forEach(i=>{i.id=this.publicacionesService.getId(i),this.publicacionesService.getCategoriaFromPublicacion(i).subscribe(o=>{i.categoria=o,i.categoria.id=this.categoriaService.getId(o)}),this.publicacionesService.getAutorFromPublicacion(i).subscribe(o=>{i.autor=o})})})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(s),t.Y36(b.gz),t.Y36(x))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-publicaciones-tag"]],decls:6,vars:2,consts:[[1,"my-4","py-2","mx-4"],[1,"row","mx-2","my-4"],["style","display:inline-block;","class","card col-12 col-md-3 col-xxl-2",4,"ngFor","ngForOf"],[1,"card","col-12","col-md-3","col-xxl-2",2,"display","inline-block"],[3,"publicacion"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"h3",1)(2,"b"),t._uU(3),t.qZA()(),t._UZ(4,"hr"),t.YNc(5,Ft,2,1,"div",2),t.qZA()),2&e&&(t.xp6(3),t.hij('Relacionados con "',i.tagNombre,'"'),t.xp6(2),t.Q6J("ngForOf",i.publicaciones))},dependencies:[m.sg,Z],styles:[".card[_ngcontent-%COMP%]{margin:0;border-radius:0;border-style:none}"]}),a})();const Jt=["angularCropper"];function Yt(a,n){if(1&a&&t._UZ(0,"img",21),2&a){const e=t.oxw(2);t.s9C("src",e.categoria.urlImagen,t.LSH)}}function Rt(a,n){1&a&&t._UZ(0,"img",22)}function Qt(a,n){if(1&a&&(t.TgZ(0,"div",18),t.YNc(1,Yt,1,1,"img",19),t.YNc(2,Rt,1,0,"img",20),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.categoria.urlImagen),t.xp6(1),t.Q6J("ngIf",!e.categoria.urlImagen||""==e.categoria.urlImagen)}}function Dt(a,n){if(1&a&&t._UZ(0,"img",25),2&a){const e=t.oxw(2);t.s9C("src",e.categoria.urlImagen,t.LSH)}}function Ht(a,n){if(1&a&&(t.TgZ(0,"div",23),t.YNc(1,Dt,1,1,"img",24),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.categoria.urlImagen)}}function zt(a,n){if(1&a){const e=t.EpF();t.TgZ(0,"div",23)(1,"h3",26)(2,"b"),t._uU(3),t.qZA()(),t.TgZ(4,"h4",26)(5,"p"),t._uU(6),t.qZA()(),t.TgZ(7,"div",27)(8,"button",28),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.abrirEdicion())}),t._uU(9,"MODIFICAR"),t.qZA()()()}if(2&a){const e=t.oxw();t.xp6(3),t.Oqu(e.categoria.categoriaNombre),t.xp6(3),t.Oqu(e.categoria.categoriaDescripcion)}}function jt(a,n){if(1&a){const e=t.EpF();t.TgZ(0,"div",23)(1,"h2",26)(2,"b"),t._uU(3),t.qZA()(),t.TgZ(4,"textarea",29),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.categoria.categoriaDescripcion=o)}),t.qZA(),t.TgZ(5,"div",27)(6,"button",30),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.cerrarEdicion())}),t._uU(7,"GUARDAR"),t.qZA(),t.TgZ(8,"button",31),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.cancelarEdicion())}),t._uU(9,"CANCELAR"),t.qZA()()()}if(2&a){const e=t.oxw();t.xp6(3),t.Oqu(e.categoria.categoriaNombre),t.xp6(1),t.Q6J("ngModel",e.categoria.categoriaDescripcion)}}function Bt(a,n){if(1&a&&(t.TgZ(0,"div",32),t._UZ(1,"app-publicacion",33),t.qZA()),2&a){const e=n.$implicit;t.xp6(1),t.Q6J("publicacion",e)}}const Gt=function(a){return{aspectRatio:a}};function Vt(a,n){if(1&a&&(t.TgZ(0,"section"),t._UZ(1,"angular-cropper",34,35),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("cropperOptions",t.VKq(2,Gt,1.5))("imageUrl",e.imageUrl)}}let $t=(()=>{class a{constructor(e,i,o,r){this.publicacionesService=e,this.categoriaService=i,this.activatedRoute=o,this.imagenesService=r,this.angularCropper=new C.V2,this.categoria=new k,this.id="",this.publicaciones=[],this.edicion=!1,this.imageUrl="",this.imageName="",this.croppedresult="",this.subiendo=!1}ngOnInit(){this.activatedRoute.params.subscribe(e=>{this.categoria.categoriaNombre=e.categoria,this.getCategoria(),console.log("PROVINCIA RECIBIDA:",this.categoria)}),this.getPublicacionesByCategoria()}getCategoria(){this.categoria.categoriaNombre=this.categoria.categoriaNombre.replaceAll("-"," "),this.categoriaService.getCategoriaByCategoriaNombre(this.categoria.categoriaNombre).subscribe(e=>{this.categoria=e,this.categoria.id=this.categoriaService.getId(this.categoria),this.imageUrl=this.categoria.urlImagen,this.imageName=this.categoria.categoriaNombre})}getPublicacionesByCategoria(){this.publicacionesService.getPublicacionesByCategoria(this.categoria.categoriaNombre).subscribe(e=>{this.publicaciones=e,this.publicaciones.forEach(i=>{i.id=this.publicacionesService.getId(i),this.publicacionesService.getCategoriaFromPublicacion(i).subscribe(o=>{i.categoria=o,this.publicacionesService.getAutorFromPublicacion(i).subscribe(r=>{i.autor=r})})})})}abrirEdicion(){this.edicion=!0}cerrarEdicion(){this.subiendo=!0,console.log("URL en categoria: ",this.imageUrl),this.categoria.urlImagen=this.imageUrl,this.categoriaService.patchCategoria(this.categoria).subscribe(e=>{this.categoria=e,this.categoria.id=this.categoriaService.getId(this.categoria),this.getCategoria()}),this.edicion=!1,this.subiendo=!1}cancelarEdicion(){this.edicion=!1}onSelectFile(e){if(this.subiendo=!0,e.target.files&&e.target.files[0]){const i=new FileReader;i.readAsDataURL(e.target.files[0]),i.onload=()=>{this.imageUrl=i.result},console.log("EVENT",e.target.files[0]),this.imageName=e.target.files[0].name}console.log("IMAGEN SELECCIONADA EN PC: ",this.imageUrl)}getCroppedImage(){this.angularCropper.cropper.getCroppedCanvas().toBlob(e=>{const i=new FileReader;i.readAsDataURL(e),i.onload=()=>{this.croppedresult=i.result;let r=new File([e],this.imageName,{type:"image/jpeg"});this.imagenesService.subirImagen(r,this.categoria.id,"publicacion").subscribe(l=>{console.log("URL IMAGEN SUBIDA: ",l),this.imageUrl=l,this.categoria.urlImagen=l,this.subiendo=!1})}},"image/jpeg",.7)}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(s),t.Y36(x),t.Y36(b.gz),t.Y36(d.j))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-publicaciones-categoria"]],viewQuery:function(e,i){if(1&e&&t.Gf(Jt,5),2&e){let o;t.iGM(o=t.CRH())&&(i.angularCropper=o.first)}},decls:23,vars:6,consts:[[1,"row","my-1","py-1","mx-2"],["class","col-12 col-lg-6",4,"ngIf"],["class","col-12 col-lg-6 p-3",4,"ngIf"],[1,"mt-2"],["class","card row col-12 col-md-3 col-xxl-2 card",4,"ngFor","ngForOf"],["id","imagenModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"my-2"],["type","file","accept","images/",3,"change"],[4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["data-bs-dismiss","modal",1,"btn","btn-primary",3,"click"],[1,"col-12","col-lg-6"],["class","imagen-edicion img-fluid mt-4 pt-4 w-100","alt","","data-bs-toggle","modal","data-bs-target","#imagenModal",3,"src",4,"ngIf"],["class","img-fluid mt-4 pt-4","src","../../../../assets/no-imagen.png","alt","","data-bs-toggle","modal","data-bs-target","#imagenModal",4,"ngIf"],["alt","","data-bs-toggle","modal","data-bs-target","#imagenModal",1,"imagen-edicion","img-fluid","mt-4","pt-4","w-100",3,"src"],["src","../../../../assets/no-imagen.png","alt","","data-bs-toggle","modal","data-bs-target","#imagenModal",1,"img-fluid","mt-4","pt-4"],[1,"col-12","col-lg-6","p-3"],["class","img-fluid mt-4 w-100","alt","",3,"src",4,"ngIf"],["alt","",1,"img-fluid","mt-4","w-100",3,"src"],[1,"row","mx-2","my-4","text-center"],[1,"text-center"],[1,"btn","btn-warning","mb-2",3,"click"],["rows","8","maxlength","1000",1,"descripcion","row","mx-2","my-4","text-center","w-100",3,"ngModel","ngModelChange"],[1,"btn","btn-warning","mb-2","mx-2",3,"click"],[1,"btn","btn-secondary","mb-2","mx-2",3,"click"],[1,"card","row","col-12","col-md-3","col-xxl-2","card"],[3,"publicacion"],[3,"cropperOptions","imageUrl"],["angularCropper",""]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.YNc(1,Qt,3,2,"div",1),t.YNc(2,Ht,2,1,"div",2),t.YNc(3,zt,10,2,"div",2),t.YNc(4,jt,10,2,"div",2),t._UZ(5,"hr",3),t.YNc(6,Bt,2,1,"div",4),t.qZA(),t.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"h1",9),t._uU(12,"Insertar Imagen"),t.qZA(),t._UZ(13,"button",10),t.qZA(),t.TgZ(14,"div",11)(15,"section",12)(16,"input",13),t.NdJ("change",function(r){return i.onSelectFile(r)}),t.qZA()(),t.YNc(17,Vt,3,4,"section",14),t.qZA(),t.TgZ(18,"div",15)(19,"button",16),t._uU(20,"Cerrar"),t.qZA(),t.TgZ(21,"button",17),t.NdJ("click",function(){return i.getCroppedImage()}),t._uU(22,"Aceptar"),t.qZA()()()()()),2&e&&(t.xp6(1),t.Q6J("ngIf",i.edicion),t.xp6(1),t.Q6J("ngIf",!i.edicion),t.xp6(1),t.Q6J("ngIf",!i.edicion),t.xp6(1),t.Q6J("ngIf",i.edicion),t.xp6(2),t.Q6J("ngForOf",i.publicaciones),t.xp6(11),t.Q6J("ngIf",i.imageUrl))},dependencies:[m.sg,m.O5,c.Fj,c.JJ,c.nD,c.On,C.V2,Z],styles:[".card[_ngcontent-%COMP%]{margin:0;border-radius:0;border-style:none}.descripcion[_ngcontent-%COMP%]{font-size:x-large}.imagen-edicion[_ngcontent-%COMP%]:hover{opacity:.5}.modal-header[_ngcontent-%COMP%]{background-color:#ff6d00;color:#fff}"]}),a})(),Kt=(()=>{class a{constructor(){this.tag=new q,this.eliminarTagEvent=new t.vpe,this.modificarTagEvent=new t.vpe}ngOnInit(){}eliminarTag(){this.eliminarTagEvent.emit(this.tag)}modificarTag(){this.modificarTagEvent.emit(this.tag)}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-tag"]],inputs:{tag:"tag"},outputs:{eliminarTagEvent:"eliminarTagEvent",modificarTagEvent:"modificarTagEvent"},decls:9,vars:1,consts:[[1,"row","d-flex"],[1,"col-5","col-sm-5","mx-1","my-2"],["type","text","size","12",3,"ngModel","ngModelChange"],[1,"col-3","col-sm-3","mx-1","my-2"],[1,"btn","btn-warning","btn-sm",3,"click"],[1,"btn","btn-danger","btn-sm",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"input",2),t.NdJ("ngModelChange",function(r){return i.tag.tagNombre=r}),t.qZA()(),t.TgZ(3,"div",3)(4,"button",4),t.NdJ("click",function(){return i.modificarTag()}),t._uU(5,"MODIFICAR"),t.qZA()(),t.TgZ(6,"div",3)(7,"button",5),t.NdJ("click",function(){return i.eliminarTag()}),t._uU(8,"ELIMINAR"),t.qZA()()()),2&e&&(t.xp6(2),t.Q6J("ngModel",i.tag.tagNombre))},dependencies:[c.Fj,c.JJ,c.On]}),a})(),Xt=(()=>{class a{constructor(){this.lugar=new _,this.eliminarLugarEvent=new t.vpe,this.modificarLugarEvent=new t.vpe}ngOnInit(){}eliminarLugar(){this.eliminarLugarEvent.emit(this.lugar)}modificarLugar(){this.modificarLugarEvent.emit(this.lugar)}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-lugar"]],inputs:{lugar:"lugar"},outputs:{eliminarLugarEvent:"eliminarLugarEvent",modificarLugarEvent:"modificarLugarEvent"},decls:9,vars:1,consts:[[1,"row","d-flex"],[1,"col-5","col-sm-5","mx-1","my-2"],["type","text","size","12",3,"ngModel","ngModelChange"],[1,"col-3","col-sm-3","mx-1","my-2"],[1,"btn","btn-warning","btn-sm",3,"click"],[1,"btn","btn-danger","btn-sm",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"input",2),t.NdJ("ngModelChange",function(r){return i.lugar.lugarNombre=r}),t.qZA()(),t.TgZ(3,"div",3)(4,"button",4),t.NdJ("click",function(){return i.modificarLugar()}),t._uU(5,"MODIFICAR"),t.qZA()(),t.TgZ(6,"div",3)(7,"button",5),t.NdJ("click",function(){return i.eliminarLugar()}),t._uU(8,"ELIMINAR"),t.qZA()()()),2&e&&(t.xp6(2),t.Q6J("ngModel",i.lugar.lugarNombre))},dependencies:[c.Fj,c.JJ,c.On]}),a})();function Wt(a,n){if(1&a){const e=t.EpF();t.TgZ(0,"div",9)(1,"app-tag",10),t.NdJ("eliminarTagEvent",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.eliminarTag(o))})("modificarTagEvent",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.modificarTag(o))}),t.qZA()()}if(2&a){const e=n.$implicit;t.xp6(1),t.Q6J("tag",e)}}function te(a,n){if(1&a){const e=t.EpF();t.TgZ(0,"div",11)(1,"app-lugar",12),t.NdJ("eliminarLugarEvent",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.eliminarLugar(o))})("modificarLugarEvent",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.modificarLugar(o))}),t.qZA()()}if(2&a){const e=n.$implicit;t.xp6(1),t.Q6J("lugar",e)}}let ee=(()=>{class a{constructor(e,i){this.tagsService=e,this.lugaresService=i,this.tags=[],this.tagNueva=new q,this.lugares=[],this.lugarNuevo=new _}ngOnInit(){this.getTags(),this.getLugares()}getTags(){this.tagsService.getTags().subscribe(e=>{this.tags=e,this.tags.forEach(i=>{i.id=this.tagsService.getId(i)})})}modificarTag(e){this.tagsService.patchTag(e).subscribe(i=>{this.getTags()})}eliminarTag(e){this.tagsService.deleteTag(e).subscribe(i=>{this.getTags()})}nuevaTag(){this.tagsService.postTag(this.tagNueva).subscribe(e=>{this.getTags(),this.tagNueva.tagNombre=""})}getLugares(){this.lugaresService.getLugares().subscribe(e=>{this.lugares=e,this.lugares.forEach(i=>{i.id=this.lugaresService.getId(i)})})}modificarLugar(e){this.lugaresService.patchLugar(e).subscribe(i=>{this.getLugares()})}eliminarLugar(e){this.lugaresService.deleteLugar(e).subscribe(i=>{this.getLugares()})}nuevoLugar(){this.lugaresService.postLugar(this.lugarNuevo).subscribe(e=>{this.getLugares(),this.lugarNuevo.lugarNombre=""})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(L),t.Y36(O))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-tags"]],decls:17,vars:4,consts:[[1,"row"],[1,"tags","col-12","col-lg-4","p-4","text-center"],[1,"nueva-tag-container","mb-4"],["type","text",3,"ngModel","ngModelChange"],[1,"btn","btn-success","btn-sm","mx-3","my-2",3,"click"],["style","display:block;","class","gestionar-tags-container",4,"ngFor","ngForOf"],[1,"lugares","col-12","col-lg-4","p-4","text-center"],[1,"nuevo-lugar-container","mb-4"],["style","display:block;","class","gestionar-lugares-container",4,"ngFor","ngForOf"],[1,"gestionar-tags-container",2,"display","block"],[3,"tag","eliminarTagEvent","modificarTagEvent"],[1,"gestionar-lugares-container",2,"display","block"],[3,"lugar","eliminarLugarEvent","modificarLugarEvent"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),t._uU(4,"Tags"),t.qZA(),t.TgZ(5,"input",3),t.NdJ("ngModelChange",function(r){return i.tagNueva.tagNombre=r}),t.qZA(),t.TgZ(6,"button",4),t.NdJ("click",function(){return i.nuevaTag()}),t._uU(7,"Crear nueva Tag"),t.qZA()(),t.YNc(8,Wt,2,1,"div",5),t.qZA(),t.TgZ(9,"div",6)(10,"div",7)(11,"h3"),t._uU(12,"Lugares"),t.qZA(),t.TgZ(13,"input",3),t.NdJ("ngModelChange",function(r){return i.lugarNuevo.lugarNombre=r}),t.qZA(),t.TgZ(14,"button",4),t.NdJ("click",function(){return i.nuevoLugar()}),t._uU(15,"Crear nuevo Lugar"),t.qZA()(),t.YNc(16,te,2,1,"div",8),t.qZA()()),2&e&&(t.xp6(5),t.Q6J("ngModel",i.tagNueva.tagNombre),t.xp6(3),t.Q6J("ngForOf",i.tags),t.xp6(5),t.Q6J("ngModel",i.lugarNuevo.lugarNombre),t.xp6(3),t.Q6J("ngForOf",i.lugares))},dependencies:[m.sg,c.Fj,c.JJ,c.On,Kt,Xt],styles:[".lugares[_ngcontent-%COMP%], .tags[_ngcontent-%COMP%]{height:550px;overflow:scroll}"]}),a})();function ie(a,n){if(1&a&&(t.TgZ(0,"div",3),t._UZ(1,"app-publicacion",4),t.qZA()),2&a){const e=n.$implicit;t.xp6(1),t.Q6J("publicacion",e)}}let ae=(()=>{class a{constructor(e,i,o){this.publicacionesService=e,this.activatedRoute=i,this.categoriaService=o,this.provincia="",this.id="",this.publicaciones=[]}ngOnInit(){this.activatedRoute.params.subscribe(e=>{this.provincia=e.provincia,console.log("PROVINCIA RECIBIDA:",this.provincia)}),this.getPublicacionesByLugar()}getPublicacionesByLugar(){this.publicacionesService.getPublicacionesByLugar(this.provincia).subscribe(e=>{this.publicaciones=e,this.publicaciones.forEach(i=>{i.id=this.publicacionesService.getId(i),this.publicacionesService.getCategoriaFromPublicacion(i).subscribe(o=>{i.categoria=o,i.categoria.id=this.categoriaService.getId(o)}),this.publicacionesService.getAutorFromPublicacion(i).subscribe(o=>{i.autor=o})})})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(s),t.Y36(b.gz),t.Y36(x))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-publicaciones-provincia"]],decls:6,vars:2,consts:[[1,"my-4","py-2","mx-4"],[1,"row","mx-2","my-4"],["style","display:inline-block;","class","card col-12 col-md-3 col-xxl-2",4,"ngFor","ngForOf"],[1,"card","col-12","col-md-3","col-xxl-2",2,"display","inline-block"],[3,"publicacion"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"h3",1)(2,"b"),t._uU(3),t.qZA()(),t._UZ(4,"hr"),t.YNc(5,ie,2,1,"div",2),t.qZA()),2&e&&(t.xp6(3),t.hij('Relacionados con "',i.provincia,'"'),t.xp6(2),t.Q6J("ngForOf",i.publicaciones))},dependencies:[m.sg,Z],styles:[".card[_ngcontent-%COMP%]{margin:0;border-radius:0;border-style:none}"]}),a})();class oe{constructor(){this.id="",this.titulo="",this.descripcion="",this.urlImagen=""}}let ne=(()=>{class a{constructor(e){this.http=e,this.endpoint=f.N.urlAPI}getLandingPage(){return this.http.get(this.endpoint+"/landingpages/1")}getId(e){let o=e._links.self.href.split("/");return o[o.length-1]}postLandingPage(e){return this.http.post(this.endpoint+"/landingpages",e)}patchLandingPage(e){return this.http.patch(this.endpoint+"/landingpages/"+e.id,e)}deleteLandingPage(e){return this.http.delete(this.endpoint+"/landingpages/"+e.id)}}return a.\u0275fac=function(e){return new(e||a)(t.LFG(p.eN))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const re=["angularCropper"];function ce(a,n){if(1&a){const e=t.EpF();t.TgZ(0,"button",38),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.abrirEdicion())}),t._uU(1,"Editar"),t.qZA()}}function le(a,n){if(1&a){const e=t.EpF();t.TgZ(0,"button",39),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.guardarCambios())}),t._uU(1,"Guardar edici\xf3n"),t.qZA()}}function se(a,n){if(1&a){const e=t.EpF();t.TgZ(0,"button",40),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.cerrarEdicion())}),t._uU(1,"Cancelar"),t.qZA()}}function de(a,n){if(1&a&&(t.TgZ(0,"div",41)(1,"h2")(2,"b"),t._uU(3),t.qZA()()()),2&a){const e=t.oxw();t.xp6(3),t.Oqu(e.landingPage.titulo)}}function ge(a,n){if(1&a){const e=t.EpF();t.TgZ(0,"div",41)(1,"textarea",42),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.landingPage.titulo=o)}),t._uU(2),t.qZA()()}if(2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngModel",e.landingPage.titulo),t.xp6(1),t.Oqu(e.landingPage.titulo)}}function ue(a,n){if(1&a&&(t.TgZ(0,"div",41)(1,"h4"),t._uU(2),t.qZA()()),2&a){const e=t.oxw();t.xp6(2),t.Oqu(e.landingPage.descripcion)}}function pe(a,n){if(1&a){const e=t.EpF();t.TgZ(0,"div",43)(1,"textarea",44),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.landingPage.descripcion=o)}),t._uU(2),t.qZA()()}if(2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngModel",e.landingPage.descripcion),t.xp6(1),t.Oqu(e.landingPage.descripcion)}}function me(a,n){if(1&a&&t._UZ(0,"img",48),2&a){const e=t.oxw(2);t.s9C("src",e.landingPage.urlImagen,t.LSH)}}function he(a,n){1&a&&t._UZ(0,"img",49)}function be(a,n){if(1&a&&(t.TgZ(0,"section",45),t.YNc(1,me,1,1,"img",46),t.YNc(2,he,1,0,"img",47),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.landingPage.urlImagen),t.xp6(1),t.Q6J("ngIf",!e.landingPage.urlImagen)}}function _e(a,n){if(1&a&&t._UZ(0,"img",52),2&a){const e=t.oxw(2);t.s9C("src",e.landingPage.urlImagen,t.LSH)}}function fe(a,n){1&a&&t._UZ(0,"img",53)}function ve(a,n){if(1&a&&(t.TgZ(0,"section",45),t.YNc(1,_e,1,1,"img",50),t.YNc(2,fe,1,0,"img",51),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.landingPage.urlImagen),t.xp6(1),t.Q6J("ngIf",!e.landingPage.urlImagen)}}function Ce(a,n){if(1&a&&(t.TgZ(0,"section"),t._UZ(1,"angular-cropper",54,55),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("imageUrl",e.imageUrl)}}let we=(()=>{class a{constructor(e,i){this.landingPagesService=e,this.imagenesService=i,this.angularCropper=new C.V2,this.landingPage=new oe,this.edicion=!1,this.imageUrl="",this.imageName="",this.croppedresult="",this.subiendo=!1}ngOnInit(){this.getLandingPage()}getLandingPage(){this.landingPagesService.getLandingPage().subscribe(e=>{this.landingPage=e,e.id=this.landingPagesService.getId(e)})}postLandingPage(){this.landingPagesService.patchLandingPage(this.landingPage).subscribe(e=>{this.landingPage=e,this.landingPage.id=this.landingPagesService.getId(this.landingPage)})}patchLandingPage(){this.landingPage.id||(this.landingPage.id="1",this.landingPagesService.postLandingPage(this.landingPage).subscribe(e=>{this.landingPage=e,this.landingPage.id=this.landingPagesService.getId(this.landingPage)})),this.landingPage.id&&this.landingPagesService.patchLandingPage(this.landingPage).subscribe(e=>{this.landingPage=e,this.landingPage.id=this.landingPagesService.getId(this.landingPage)})}abrirEdicion(){this.edicion=!0}guardarCambios(){this.patchLandingPage(),this.edicion=!1}cerrarEdicion(){this.edicion=!1}onSelectFile(e){if(this.subiendo=!0,e.target.files&&e.target.files[0]){const i=new FileReader;i.readAsDataURL(e.target.files[0]),i.onload=()=>{this.imageUrl=i.result},console.log("EVENT",e.target.files[0]),this.imageName=e.target.files[0].name}console.log("IMAGEN SELECCIONADA EN PC: ",this.imageUrl)}getCroppedImage(){this.angularCropper.cropper.getCroppedCanvas().toBlob(e=>{const i=new FileReader;i.readAsDataURL(e),i.onload=()=>{this.croppedresult=i.result;let r=new File([e],this.imageName,{type:"image/jpeg"});this.imagenesService.subirImagen(r,this.landingPage.id,"publicacion").subscribe(l=>{console.log("URL IMAGEN SUBIDA: ",l),this.imageUrl=l,this.landingPage.urlImagen=l,this.subiendo=!1})}},"image/jpeg",.7)}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(ne),t.Y36(d.j))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-landing-page"]],viewQuery:function(e,i){if(1&e&&t.Gf(re,5),2&e){let o;t.iGM(o=t.CRH())&&(i.angularCropper=o.first)}},decls:50,vars:10,consts:[[1,"row","landing"],[1,"col-12","botones","text-center"],["class","btn btn-warning m-2",3,"click",4,"ngIf"],["class","btn btn-success m-2",3,"click",4,"ngIf"],["class","btn btn-secondary m-2",3,"click",4,"ngIf"],[1,"col-1"],[1,"col-12","col-md-5","cuerpo"],[1,"row","titulo","ml-4"],["class","text-center",4,"ngIf"],[1,"row","descripcion","ml-4","m-4"],["class","text-descripcion text-center",4,"ngIf"],[1,"text-center","m-4"],["href","../",1,"btn","btn-primary"],[1,"rrss"],[1,"row","mt-4"],[1,"col-2","col-sm-2"],[1,"col-2","col-sm-2","my-1","text-center"],["href","https://www.facebook.com/elisabethgiborra"],["src","../../../../assets/facebookIcon.png","alt","",1,"icono-rrss"],["href","https://www.instagram.com/vermu.torero/"],["src","../../../../assets/instagramIcon.png","alt","",1,"icono-rrss"],["href","http://es.linkedin.com/in/elisabethgiborra"],["src","../../../../assets/linkedinIcon.png","alt","",1,"icono-rrss"],["href","https://twitter.com/elisabethiborra"],["src","../../../../assets/twitterIcon.png","alt","",1,"icono-rrss"],["class","col-12 col-md-6 text-center mt-4",4,"ngIf"],["id","imagenModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["type","file","accept","images/",3,"change"],[4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["data-bs-dismiss","modal",1,"btn","btn-primary",3,"click"],[1,"btn","btn-warning","m-2",3,"click"],[1,"btn","btn-success","m-2",3,"click"],[1,"btn","btn-secondary","m-2",3,"click"],[1,"text-center"],["rows","3","cols","32",1,"text-titulo",3,"ngModel","ngModelChange"],[1,"text-descripcion","text-center"],["rows","10","cols","45",3,"ngModel","ngModelChange"],[1,"col-12","col-md-6","text-center","mt-4"],["class","img-fluid imagen","alt","",3,"src",4,"ngIf"],["class","img-fluid imagen","src","","alt","Sin Imagen",4,"ngIf"],["alt","",1,"img-fluid","imagen",3,"src"],["src","","alt","Sin Imagen",1,"img-fluid","imagen"],["class","imagen-edicion img-fluid imagen","alt","","data-bs-toggle","modal","data-bs-target","#imagenModal",3,"src",4,"ngIf"],["class","imagen-edicion img-fluid imagen","src","../../../assets/no-imagen.png","alt","","data-bs-toggle","modal","data-bs-target","#imagenModal",4,"ngIf"],["alt","","data-bs-toggle","modal","data-bs-target","#imagenModal",1,"imagen-edicion","img-fluid","imagen",3,"src"],["src","../../../assets/no-imagen.png","alt","","data-bs-toggle","modal","data-bs-target","#imagenModal",1,"imagen-edicion","img-fluid","imagen"],[3,"imageUrl"],["angularCropper",""]],template:function(e,i){1&e&&(t.TgZ(0,"body")(1,"div",0)(2,"section",1),t.YNc(3,ce,2,0,"button",2),t.YNc(4,le,2,0,"button",3),t.YNc(5,se,2,0,"button",4),t.qZA(),t._UZ(6,"section",5),t.TgZ(7,"section",6)(8,"section",7),t.YNc(9,de,4,1,"div",8),t.YNc(10,ge,3,2,"div",8),t.qZA(),t.TgZ(11,"section",9),t.YNc(12,ue,3,1,"div",8),t.YNc(13,pe,3,2,"div",10),t.qZA(),t.TgZ(14,"section",11)(15,"a",12),t._uU(16,"VIS\xcdTANOS"),t.qZA()(),t.TgZ(17,"section",13)(18,"div",14),t._UZ(19,"div",15),t.TgZ(20,"div",16)(21,"a",17),t._UZ(22,"img",18),t.qZA()(),t.TgZ(23,"div",16)(24,"a",19),t._UZ(25,"img",20),t.qZA()(),t.TgZ(26,"div",16)(27,"a",21),t._UZ(28,"img",22),t.qZA()(),t.TgZ(29,"div",16)(30,"a",23),t._UZ(31,"img",24),t.qZA()()()()(),t.YNc(32,be,3,2,"section",25),t.YNc(33,ve,3,2,"section",25),t.qZA()(),t.TgZ(34,"div",26)(35,"div",27)(36,"div",28)(37,"div",29)(38,"h1",30),t._uU(39,"Insertar Imagen"),t.qZA(),t._UZ(40,"button",31),t.qZA(),t.TgZ(41,"div",32)(42,"section")(43,"input",33),t.NdJ("change",function(r){return i.onSelectFile(r)}),t.qZA()(),t.YNc(44,Ce,3,1,"section",34),t.qZA(),t.TgZ(45,"div",35)(46,"button",36),t._uU(47,"Cerrar"),t.qZA(),t.TgZ(48,"button",37),t.NdJ("click",function(){return i.getCroppedImage()}),t._uU(49,"Aceptar"),t.qZA()()()()()),2&e&&(t.xp6(3),t.Q6J("ngIf",!i.edicion),t.xp6(1),t.Q6J("ngIf",i.edicion),t.xp6(1),t.Q6J("ngIf",i.edicion),t.xp6(4),t.Q6J("ngIf",!i.edicion),t.xp6(1),t.Q6J("ngIf",i.edicion),t.xp6(2),t.Q6J("ngIf",!i.edicion),t.xp6(1),t.Q6J("ngIf",i.edicion),t.xp6(19),t.Q6J("ngIf",!i.edicion),t.xp6(1),t.Q6J("ngIf",i.edicion),t.xp6(11),t.Q6J("ngIf",i.imageUrl))},dependencies:[m.O5,c.Fj,c.JJ,c.On,C.V2],styles:["body[_ngcontent-%COMP%]{background-image:url(fondo-landing-page.53aac525181e87fc.png);background-repeat:no-repeat;background-attachment:fixed;background-size:cover;padding-top:2%}.imagen-edicion[_ngcontent-%COMP%]:hover{opacity:.5}@media (max-width: 40em){.icono-rrss[_ngcontent-%COMP%]{width:8vw}.imagen[_ngcontent-%COMP%]{height:80%}h4[_ngcontent-%COMP%]{text-align:center;font-size:4vw}h2[_ngcontent-%COMP%]{text-align:center;color:#fff;text-shadow:2px 2px 1px black;font-size:7vw;padding-left:2%;padding-right:2%}}@media (min-width: 41em){.icono-rrss[_ngcontent-%COMP%]{width:3vw}.imagen[_ngcontent-%COMP%]{height:60%}h4[_ngcontent-%COMP%]{text-align:center;text-shadow:1px 1px 1px black;font-size:2vw}h2[_ngcontent-%COMP%]{text-align:center;color:#fff;text-shadow:4px 4px 3px black;font-size:4vw}.text-titulo[_ngcontent-%COMP%]{font-size:x-large;font-weight:700}}"]}),a})();const Pe=["angularCropper"],Ze=["angularCropper2"],Te=["angularCropper3"];function xe(a,n){1&a&&t._UZ(0,"button",49)}function Ae(a,n){1&a&&t._UZ(0,"button",50)}function ye(a,n){1&a&&t._UZ(0,"button",51)}function Me(a,n){1&a&&t._UZ(0,"button",52)}function Ie(a,n){1&a&&t._UZ(0,"button",53)}function qe(a,n){1&a&&t._UZ(0,"button",54)}function Ue(a,n){1&a&&t._UZ(0,"button",55)}function Se(a,n){1&a&&t._UZ(0,"button",56)}function Ee(a,n){if(1&a&&(t.TgZ(0,"h5",65)(1,"b"),t._uU(2),t.qZA()()),2&a){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.titulo)}}function Ne(a,n){if(1&a&&(t.TgZ(0,"p",66)(1,"b"),t._uU(2),t.qZA()()),2&a){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.subtitulo)}}function Oe(a,n){if(1&a&&(t.TgZ(0,"h5",67)(1,"b"),t._uU(2),t.qZA()()),2&a){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.titulo)}}function Le(a,n){if(1&a&&(t.TgZ(0,"p",68)(1,"b"),t._uU(2),t.qZA()()),2&a){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.subtitulo)}}function Fe(a,n){if(1&a){const e=t.EpF();t.TgZ(0,"div",57)(1,"button",58),t.NdJ("click",function(){const r=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.quitarDelCarousel(r.id))}),t._uU(2,"QUITAR DEL CARRUSEL"),t.qZA(),t._UZ(3,"img",59),t.TgZ(4,"div",60),t.YNc(5,Ee,3,1,"h5",61),t.YNc(6,Ne,3,1,"p",62),t.YNc(7,Oe,3,1,"h5",63),t.YNc(8,Le,3,1,"p",64),t.qZA()()}if(2&a){const e=n.$implicit;t.xp6(3),t.s9C("src",e.imagenPreviewUrl,t.LSH),t.xp6(2),t.Q6J("ngIf",!e.letraOscura),t.xp6(1),t.Q6J("ngIf",!e.letraOscura),t.xp6(1),t.Q6J("ngIf",e.letraOscura),t.xp6(1),t.Q6J("ngIf",e.letraOscura)}}function ke(a,n){if(1&a){const e=t.EpF();t.TgZ(0,"div",69)(1,"div",31),t._UZ(2,"div",32),t.TgZ(3,"div",70)(4,"h4"),t._uU(5),t.qZA()(),t.TgZ(6,"button",71),t.NdJ("click",function(){const r=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.agregarAlCarousel(r.id))}),t._uU(7,"AGREGAR AL CAROUSEL"),t.qZA()()()}if(2&a){const e=n.$implicit;t.xp6(5),t.Oqu(e.titulo)}}const Y=function(a){return{aspectRatio:a}};function Je(a,n){if(1&a&&(t.TgZ(0,"section"),t._UZ(1,"angular-cropper",72,73),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("cropperOptions",t.VKq(2,Y,3/4))("imageUrl",e.imagenInicioDerecha.url)}}function Ye(a,n){if(1&a&&(t.TgZ(0,"section"),t._UZ(1,"angular-cropper",72,74),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("cropperOptions",t.VKq(2,Y,3/4))("imageUrl",e.imagenInicioIzquierda.url)}}function Re(a,n){if(1&a&&(t.TgZ(0,"section"),t._UZ(1,"angular-cropper",72,75),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("cropperOptions",t.VKq(2,Y,1.5))("imageUrl",e.imagenInicioCentral.url)}}let Qe=(()=>{class a{constructor(e,i){this.publicacionesService=e,this.imagenesService=i,this.angularCropper=new C.V2,this.angularCropper2=new C.V2,this.angularCropper3=new C.V2,this.publicaciones=[],this.publicacionesCarousel=[],this.publicacionesNoCarousel=[],this.imageUrl="",this.imagePreviewUrl="",this.imageName="",this.croppedresult="",this.anchoImagen="100",this.imagenInicioDerecha=new w,this.imagenInicioIzquierda=new w,this.imagenInicioCentral=new w}ngOnInit(){this.getPublicaciones(),this.getImagenesInicio(),this.imagenInicioDerecha.id="1",this.imagenInicioDerecha.posicion="derecha",this.imagenInicioIzquierda.id="2",this.imagenInicioIzquierda.posicion="izquierda",this.imagenInicioCentral.id="3",this.imagenInicioCentral.posicion="centro"}getPublicaciones(){this.publicacionesCarousel=[],this.publicacionesNoCarousel=[],this.publicacionesService.getPublicacionesCarousel().subscribe(e=>{this.publicacionesCarousel=e,this.publicacionesCarousel.forEach(i=>{i.id=this.publicacionesService.getId(i),i.subtitulo=i.subtitulo.substring(0,160)+"...",this.publicacionesService.getPublicacionesNoCarousel().subscribe(o=>{this.publicacionesNoCarousel=o,this.publicacionesNoCarousel.forEach(r=>{r.id=this.publicacionesService.getId(r),r.subtitulo=r.subtitulo.substring(0,160)+"..."})})})})}quitarDelCarousel(e){this.publicacionesService.getPublicacionById(e).subscribe(i=>{i.id=e,i.carousel=!1,this.publicacionesService.getAutorFromPublicacion(i).subscribe(o=>{o.id=this.publicacionesService.getId(o),i.autor=o,this.publicacionesService.getCategoriaFromPublicacion(i).subscribe(r=>{r.id=this.publicacionesService.getId(r),i.categoria=r,this.publicacionesService.getTagsFromPublicacion(i).subscribe(l=>{l.forEach(h=>{h.id=this.publicacionesService.getId(h)}),i.tags=l,this.publicacionesService.getLugarFromPublicacion(i).subscribe(h=>{h.id=this.publicacionesService.getId(h),i.lugar=h,this.publicacionesService.patchPublicacion(i).subscribe(U=>{this.getPublicaciones(),this.getImagenesInicio()})})})})})})}agregarAlCarousel(e){this.publicacionesService.getPublicacionById(e).subscribe(i=>{i.id=e,i.carousel=!0,this.publicacionesService.getAutorFromPublicacion(i).subscribe(o=>{o.id=this.publicacionesService.getId(o),i.autor=o,this.publicacionesService.getCategoriaFromPublicacion(i).subscribe(r=>{r.id=this.publicacionesService.getId(r),i.categoria=r,this.publicacionesService.getTagsFromPublicacion(i).subscribe(l=>{l.forEach(h=>{h.id=this.publicacionesService.getId(h)}),i.tags=l,this.publicacionesService.getLugarFromPublicacion(i).subscribe(h=>{h.id=this.publicacionesService.getId(h),i.lugar=h,this.publicacionesService.patchPublicacion(i).subscribe(U=>{this.getPublicaciones(),this.getImagenesInicio()})})})})})})}onSelectFileDerecha(e){if(e.target.files&&e.target.files[0]){const i=new FileReader;i.readAsDataURL(e.target.files[0]),i.onload=()=>{this.imagePreviewUrl=i.result,this.imagenInicioDerecha.url=this.imagePreviewUrl},this.imageName=e.target.files[0].name}}onSelectFileIzquierda(e){if(e.target.files&&e.target.files[0]){const i=new FileReader;i.readAsDataURL(e.target.files[0]),i.onload=()=>{this.imagePreviewUrl=i.result,this.imagenInicioIzquierda.url=this.imagePreviewUrl},this.imageName=e.target.files[0].name}}onSelectFileCentral(e){if(e.target.files&&e.target.files[0]){const i=new FileReader;i.readAsDataURL(e.target.files[0]),i.onload=()=>{this.imagePreviewUrl=i.result,this.imagenInicioCentral.url=this.imagePreviewUrl},this.imageName=e.target.files[0].name}}getCroppedImageDerecha(){this.angularCropper.cropper.getCroppedCanvas().toBlob(e=>{const i=new FileReader;i.readAsDataURL(e),i.onload=()=>{this.croppedresult=i.result;let r=new File([e],this.imageName,{type:"image/jpeg"});this.imagenesService.subirImagen(r,"imagenLateralDerecha","lateral").subscribe(l=>{this.imagenInicioDerecha.url=l,this.setImagenInicioDerecha()})}},"image/jpeg",.7)}getCroppedImageIzquierda(){this.angularCropper2.cropper.getCroppedCanvas().toBlob(e=>{const i=new FileReader;i.readAsDataURL(e),i.onload=()=>{this.croppedresult=i.result;let r=new File([e],this.imageName,{type:"image/jpeg"});this.imagenesService.subirImagen(r,"imagenLateralIzquierda","inicio").subscribe(l=>{console.log("URL IMAGEN SUBIDA: ",l),this.imagenInicioIzquierda.url=l,this.setImagenInicioIzquierda()})}},"image/jpeg",.7)}getCroppedImageCentral(){this.angularCropper3.cropper.getCroppedCanvas().toBlob(e=>{const i=new FileReader;i.readAsDataURL(e),i.onload=()=>{this.croppedresult=i.result;let r=new File([e],this.imageName,{type:"image/jpeg"});this.imagenesService.subirImagen(r,"imagenCentral","inicio").subscribe(l=>{console.log("URL IMAGEN SUBIDA: ",l),this.imagenInicioCentral.url=l,this.setImagenInicioCentral()})}},"image/jpeg",.7)}getImagenesInicio(){this.imagenesService.getImagenesInicio().subscribe(e=>{e.forEach(i=>{"derecha"==i.posicion&&(this.imagenInicioDerecha=i),"izquierda"==i.posicion&&(this.imagenInicioIzquierda=i),"centro"==i.posicion&&(this.imagenInicioCentral=i)})})}setImagenInicioDerecha(){this.imagenesService.setImagenInicioDerecha(this.imagenInicioDerecha).subscribe(e=>{this.imagenInicioDerecha=e})}setImagenInicioIzquierda(){this.imagenesService.setImagenInicioIzquierda(this.imagenInicioIzquierda).subscribe(e=>{this.imagenInicioIzquierda=e})}setImagenInicioCentral(){this.imagenesService.setImagenInicioCentral(this.imagenInicioCentral).subscribe(e=>{this.imagenInicioCentral=e})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(s),t.Y36(d.j))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-editor-inicio"]],viewQuery:function(e,i){if(1&e&&(t.Gf(Pe,5),t.Gf(Ze,5),t.Gf(Te,5)),2&e){let o;t.iGM(o=t.CRH())&&(i.angularCropper=o.first),t.iGM(o=t.CRH())&&(i.angularCropper2=o.first),t.iGM(o=t.CRH())&&(i.angularCropper3=o.first)}},decls:97,vars:16,consts:[[1,"titulo","row","p-0","m-0","text-center"],[1,"inicio","row","p-0","m-0"],[1,"promo","col-3","p-0","m-0"],["data-bs-toggle","modal","data-bs-target","#imagenLateralIzquierdaModal",1,"boton","btn","btn-warning","btn-sm","m-3"],["alt","","data-bs-toggle","modal","data-bs-target","#imagenLateralIzquierdaModal",1,"img-fluid","p-0","m-0",3,"src"],[1,"carrusel","col-6","p-0","m-0"],["id","carouselExampleCaptions","data-bs-ride","carousel","data-bs-wrap","true",1,"carousel","slide","carousel-fade"],[1,"carousel-indicators"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","0","aria-current","true","aria-label","Slide 1",1,"active"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","1","aria-label","Slide 2",4,"ngIf"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","2","aria-label","Slide 3",4,"ngIf"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","3","aria-label","Slide 4",4,"ngIf"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","4","aria-label","Slide 5",4,"ngIf"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","5","aria-label","Slide 6",4,"ngIf"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","6","aria-label","Slide 7",4,"ngIf"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","7","aria-label","Slide 8",4,"ngIf"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","8","aria-label","Slide 9",4,"ngIf"],[1,"carousel-inner"],["data-bs-interval","4000",1,"carousel-item","active"],["data-bs-toggle","modal","data-bs-target","#imagenCentralModal",1,"boton-central","btn","btn-warning","btn-sm","m-3"],["alt","...",1,"d-block","w-100",2,"margin","0","padding","0",3,"src"],["class","carousel-item","data-bs-interval","3500",4,"ngFor","ngForOf"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],["data-bs-toggle","modal","data-bs-target","#imagenLateralDerechaModal",1,"boton","btn","btn-warning","btn-sm","m-3"],["alt","","data-bs-toggle","modal","data-bs-target","#imagenLateralDerechaModal",1,"img-fluid","p-0","m-0",3,"src"],[1,"row","m-4"],[1,"my-4"],[1,"row","my-2"],[1,"col-1"],[1,"col-6","text-center"],["style","display:block;","class","row",4,"ngFor","ngForOf"],["id","imagenLateralDerechaModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["type","file","accept","images/",3,"change"],[4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["data-bs-dismiss","modal",1,"btn","btn-primary",3,"click"],["id","imagenLateralIzquierdaModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","imagenCentralModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","1","aria-label","Slide 2"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","2","aria-label","Slide 3"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","3","aria-label","Slide 4"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","4","aria-label","Slide 5"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","5","aria-label","Slide 6"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","6","aria-label","Slide 7"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","7","aria-label","Slide 8"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","8","aria-label","Slide 9"],["data-bs-interval","3500",1,"carousel-item"],["data-bs-target","#carouselExampleCaptions","data-bs-slide-to","0",1,"boton-central","btn","btn-danger","btn-sm","m-3",3,"click"],["alt","...",1,"d-block","w-100",3,"src"],[1,"carousel-caption"],["class","letra-blanca",4,"ngIf"],["class","letra-blanca d-none d-md-block",4,"ngIf"],["class","letra-negra",4,"ngIf"],["class","letra-negra d-none d-md-block",4,"ngIf"],[1,"letra-blanca"],[1,"letra-blanca","d-none","d-md-block"],[1,"letra-negra"],[1,"letra-negra","d-none","d-md-block"],[1,"row",2,"display","block"],[1,"col-6"],[1,"btn","btn-success","btn-sm","col-3",3,"click"],[3,"cropperOptions","imageUrl"],["angularCropper",""],["angularCropper2",""],["angularCropper3",""]],template:function(e,i){1&e&&(t.TgZ(0,"section",0)(1,"h3"),t._uU(2,"EDICI\xd3N DE LA P\xc1GINA DE INICIO"),t.qZA()(),t.TgZ(3,"section",1)(4,"section",2)(5,"button",3),t._uU(6,"CAMBIAR"),t.qZA(),t._UZ(7,"img",4),t.qZA(),t.TgZ(8,"section",5)(9,"div",6)(10,"div",7),t._UZ(11,"button",8),t.YNc(12,xe,1,0,"button",9),t.YNc(13,Ae,1,0,"button",10),t.YNc(14,ye,1,0,"button",11),t.YNc(15,Me,1,0,"button",12),t.YNc(16,Ie,1,0,"button",13),t.YNc(17,qe,1,0,"button",14),t.YNc(18,Ue,1,0,"button",15),t.YNc(19,Se,1,0,"button",16),t.qZA(),t.TgZ(20,"div",17)(21,"div",18)(22,"button",19),t._uU(23,"CAMBIAR IMAGEN DE INICIO"),t.qZA(),t._UZ(24,"img",20),t.qZA(),t.YNc(25,Fe,9,5,"div",21),t.qZA(),t.TgZ(26,"button",22),t._UZ(27,"span",23),t.TgZ(28,"span",24),t._uU(29,"Previous"),t.qZA()(),t.TgZ(30,"button",25),t._UZ(31,"span",26),t.TgZ(32,"span",24),t._uU(33,"Next"),t.qZA()()()(),t.TgZ(34,"section",2)(35,"button",27),t._uU(36,"CAMBIAR"),t.qZA(),t._UZ(37,"img",28),t.qZA()(),t.TgZ(38,"div",29)(39,"h3",30)(40,"b"),t._uU(41,"Publicaciones que puedes a\xf1adir al Carrulsel"),t.qZA()(),t.TgZ(42,"div",31),t._UZ(43,"div",32),t.TgZ(44,"div",33)(45,"h4")(46,"b"),t._uU(47,"Titulo de la publicaci\xf3n"),t.qZA()()()(),t.YNc(48,ke,8,1,"div",34),t.qZA(),t.TgZ(49,"div",35)(50,"div",36)(51,"div",37)(52,"div",38)(53,"h1",39),t._uU(54,"Insertar Imagen"),t.qZA(),t._UZ(55,"button",40),t.qZA(),t.TgZ(56,"div",41)(57,"section")(58,"input",42),t.NdJ("change",function(r){return i.onSelectFileDerecha(r)}),t.qZA()(),t.YNc(59,Je,3,4,"section",43),t.qZA(),t.TgZ(60,"div",44)(61,"button",45),t._uU(62,"Cerrar"),t.qZA(),t.TgZ(63,"button",46),t.NdJ("click",function(){return i.getCroppedImageDerecha()}),t._uU(64,"Aceptar"),t.qZA()()()()(),t.TgZ(65,"div",47)(66,"div",36)(67,"div",37)(68,"div",38)(69,"h1",39),t._uU(70,"Insertar Imagen"),t.qZA(),t._UZ(71,"button",40),t.qZA(),t.TgZ(72,"div",41)(73,"section")(74,"input",42),t.NdJ("change",function(r){return i.onSelectFileIzquierda(r)}),t.qZA()(),t.YNc(75,Ye,3,4,"section",43),t.qZA(),t.TgZ(76,"div",44)(77,"button",45),t._uU(78,"Cerrar"),t.qZA(),t.TgZ(79,"button",46),t.NdJ("click",function(){return i.getCroppedImageIzquierda()}),t._uU(80,"Aceptar"),t.qZA()()()()(),t.TgZ(81,"div",48)(82,"div",36)(83,"div",37)(84,"div",38)(85,"h1",39),t._uU(86,"Insertar Imagen"),t.qZA(),t._UZ(87,"button",40),t.qZA(),t.TgZ(88,"div",41)(89,"section")(90,"input",42),t.NdJ("change",function(r){return i.onSelectFileCentral(r)}),t.qZA()(),t.YNc(91,Re,3,4,"section",43),t.qZA(),t.TgZ(92,"div",44)(93,"button",45),t._uU(94,"Cerrar"),t.qZA(),t.TgZ(95,"button",46),t.NdJ("click",function(){return i.getCroppedImageCentral()}),t._uU(96,"Aceptar"),t.qZA()()()()()),2&e&&(t.xp6(7),t.s9C("src",i.imagenInicioIzquierda.url,t.LSH),t.xp6(5),t.Q6J("ngIf",i.publicacionesCarousel[0]),t.xp6(1),t.Q6J("ngIf",i.publicacionesCarousel[1]),t.xp6(1),t.Q6J("ngIf",i.publicacionesCarousel[2]),t.xp6(1),t.Q6J("ngIf",i.publicacionesCarousel[3]),t.xp6(1),t.Q6J("ngIf",i.publicacionesCarousel[3]),t.xp6(1),t.Q6J("ngIf",i.publicacionesCarousel[5]),t.xp6(1),t.Q6J("ngIf",i.publicacionesCarousel[6]),t.xp6(1),t.Q6J("ngIf",i.publicacionesCarousel[7]),t.xp6(5),t.s9C("src",i.imagenInicioCentral.url,t.LSH),t.xp6(1),t.Q6J("ngForOf",i.publicacionesCarousel),t.xp6(12),t.s9C("src",i.imagenInicioDerecha.url,t.LSH),t.xp6(11),t.Q6J("ngForOf",i.publicacionesNoCarousel),t.xp6(11),t.Q6J("ngIf",i.imagePreviewUrl),t.xp6(16),t.Q6J("ngIf",i.imagePreviewUrl),t.xp6(16),t.Q6J("ngIf",i.imagePreviewUrl))},dependencies:[m.sg,m.O5,C.V2],styles:[".card[_ngcontent-%COMP%]{margin:0;border-radius:0;border-style:none}.boton[_ngcontent-%COMP%]{position:absolute;margin-left:3%!important}.boton-central[_ngcontent-%COMP%]{position:absolute;margin-left:13%!important}.letra-blanca[_ngcontent-%COMP%]{color:#fff}.letra-blanca[_ngcontent-%COMP%]:hover{opacity:1;color:#f7c15d}.letra-negra[_ngcontent-%COMP%]{color:#000}.letra-negra[_ngcontent-%COMP%]:hover{opacity:1;color:#7a5003}.modal-header[_ngcontent-%COMP%]{background-color:#ff6d00;color:#fff}.carousel-caption[_ngcontent-%COMP%]{opacity:0;transform:translateY(100%)}.carousel-item.active[_ngcontent-%COMP%]   .carousel-caption[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slide-up .8s 1s forwards}.carousel-item[_ngcontent-%COMP%]   .carousel-caption[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slide-down .8s forwards}@keyframes _ngcontent-%COMP%_slide-up{0%{opacity:0;transform:translateY(100%)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slide-down{0%{opacity:1;transform:translateY(0)}50%{opacity:0;transform:translateY(-50%)}to{opacity:0;transform:translateY(100%)}}@keyframes _ngcontent-%COMP%_slidein{0%{transform:translateY(100%)}to{transform:translateY(0)}}"]}),a})();class Q{constructor(){this.id="",this.html="",this.nombrePagina=""}}let D=(()=>{class a{constructor(e){this.http=e,this.endpoint=f.N.urlAPI}getPaginaEditable(e){return this.http.get(this.endpoint+"/paginaEditables/search/paginaEditableByNombrePagina/"+e)}getId(e){let o=e._links.self.href.split("/");return o[o.length-1]}postPaginaEditable(e){return this.http.post(this.endpoint+"/paginaEditables",e)}patchPaginaEditable(e){return this.http.patch(this.endpoint+"/paginaEditables/"+e.id,e)}deletePaginaEditable(e){return this.http.delete(this.endpoint+"/paginaEditables/"+e.id)}}return a.\u0275fac=function(e){return new(e||a)(t.LFG(p.eN))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),De=(()=>{class a{constructor(e,i){this.paginaEditableService=e,this.activatedRoute=i,this.nombrePagina="",this.paginaEditable=new Q}ngOnInit(){this.getNombrePagina(),this.getPaginaEditable()}getNombrePagina(){this.activatedRoute.params.subscribe(e=>{console.log(e),this.nombrePagina=e.paginaNombre.replaceAll("-"," "),console.log("NOMBRE PAGINA: "+this.nombrePagina)})}getPaginaEditable(){this.paginaEditableService.getPaginaEditable(this.nombrePagina).subscribe(e=>{e.id=this.paginaEditableService.getId(e),this.paginaEditable=e,this.paginaEditable.html=this.paginaEditable.html.replaceAll('<iframe class="ql-video ql-align-center" frameborder="0" allowfullscreen="true" src="https://www.youtube.com','<div class="iframe-container d-flex justify-content-center"><iframe class="ql-video"allowfullscreen="true" tipo="youtube" src="https://www.youtube.com'),this.paginaEditable.html=this.paginaEditable.html.replaceAll('<iframe class="ql-video ql-align-center" allowfullscreen="true" src="https://www.youtube.com','<div class="iframe-container d-flex justify-content-center"><iframe class="ql-video" allowfullscreen="true" tipo="youtube" src="https://www.youtube.com'),this.paginaEditable.html=this.paginaEditable.html.replaceAll('<iframe style="border-radius:12px" src="https://open.spotify.com','<div class="iframe-container d-flex justify-content-center"><iframe class="ql-video ql-align-center" allowfullscreen="true" tipo="podcast" src="https://open.spotify.com'),this.paginaEditable.html=this.paginaEditable.html.replaceAll('<iframe class="ql-video ql-align-center" src="https://open.spotify.com','<div class="iframe-container d-flex justify-content-center"><iframe class="ql-video ql-align-center" allowfullscreen="true" tipo="podcast" src="https://open.spotify.com'),this.paginaEditable.html=this.paginaEditable.html.replaceAll('<iframe class="ql-video ql-align-center" allowfullscreen="true" src="https://open.spotify.com','<div class="iframe-container d-flex justify-content-center"><iframe class="ql-video ql-align-center" allowfullscreen="true" tipo="podcast" src="https://open.spotify.com'),this.paginaEditable.html=this.paginaEditable.html.replaceAll("</iframe>","</iframe></div>"),this.paginaEditable.html=this.paginaEditable.html.replaceAll('<p class="ql-align-center"><img src="','<p class="ql-align-center imagen-container text-center"><img src="'),this.paginaEditable.html=this.paginaEditable.html.replaceAll('alt="imagenAlt100">','alt="imagenAlt100"></p>'),this.paginaEditable.html=this.paginaEditable.html.replaceAll('alt="imagenAlt75">','alt="imagenAlt75"></p>'),this.paginaEditable.html=this.paginaEditable.html.replaceAll('alt="imagenAlt50">','alt="imagenAlt50"></p>'),this.paginaEditable.html=this.paginaEditable.html.replaceAll('alt="imagenAlt35">','alt="imagenAlt35"></p>'),this.paginaEditable.html=this.paginaEditable.html.replaceAll('alt="imagenAlt20">','alt="imagenAlt20"></p>'),this.showPublicacion()})}showPublicacion(){var e=document.querySelector("#body"),i=document.createElement("div");i.innerHTML=this.paginaEditable.html,e?.appendChild(i)}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(D),t.Y36(b.gz))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-pagina-editable"]],decls:1,vars:0,consts:[["id","body",1,"body"]],template:function(e,i){1&e&&t._UZ(0,"body",0)},styles:[".body[_ngcontent-%COMP%]{margin-left:10%;margin-right:10%;margin-top:5%}@media (max-width: 40em){  img[alt=imagenAlt100]{width:100%!important}  img[alt=imagenAlt75]{width:90%!important}  img[alt=imagenAlt50]{width:70%!important}  img[alt=imagenAlt35]{width:60%!important}  img[alt=imagenAlt20]{width:50%!important}  .iframe-container{width:100%!important;height:-moz-fit-content!important;height:fit-content!important}  iframe[tipo=podcast]{width:100%!important;height:25vw!important}  iframe[tipo=youtube]{width:100%!important;height:48vw!important}}@media (min-width: 41em){  img[alt=imagenAlt100]{width:100%!important}  img[alt=imagenAlt75]{width:75%!important}  img[alt=imagenAlt50]{width:50%!important}  img[alt=imagenAlt35]{width:35%!important}  img[alt=imagenAlt20]{width:20%!important}  iframe[tipo=podcast]{width:75%!important;height:220px!important}  iframe[tipo=youtube]{width:75%!important;height:28vw!important}}"]}),a})();const He=["angularCropper"];function ze(a,n){if(1&a&&(t.TgZ(0,"section"),t._UZ(1,"angular-cropper",40,41),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("imageUrl",e.imageUrl)}}let je=(()=>{class a{constructor(e,i,o){this.paginaEditableService=e,this.imagenesService=i,this.activatedRoute=o,this.angularCropper=new C.V2,this.paginaEditable=new Q,this.texto="",this.urlImagen="",this.urlVideo="",this.htmlPodcast="",this.htmlVideo="",this.imageUrl="",this.imagePreviewUrl="",this.imageName="",this.croppedresult="",this.anchoImagen="100",this.nombrePagina=""}ngOnInit(){this.getNombrePagina(),this.getPaginaEditable(),this.ajustarEditor()}getNombrePagina(){this.activatedRoute.params.subscribe(e=>{console.log(e),this.nombrePagina=e.paginaNombre.replaceAll("-"," ")})}getPaginaEditable(){this.paginaEditableService.getPaginaEditable(this.nombrePagina).subscribe(e=>{e.id=this.paginaEditableService.getId(e),this.paginaEditable=e,this.paginaEditable.html=this.paginaEditable.html.replaceAll('width="100%" height="352"','width="80%" height="200"'),this.texto=e.html})}enviar(){this.paginaEditable.id?this.patchPaginaEditable():this.postPaginaEditable()}postPaginaEditable(){this.paginaEditable.html=this.texto,this.paginaEditable.nombrePagina=this.nombrePagina.replaceAll("-"," "),this.paginaEditableService.postPaginaEditable(this.paginaEditable).subscribe(e=>{e.id=this.paginaEditableService.getId(e),this.paginaEditable=e})}patchPaginaEditable(){this.paginaEditable.html=this.texto,this.paginaEditable.nombrePagina=this.nombrePagina.replaceAll("-"," "),this.paginaEditableService.patchPaginaEditable(this.paginaEditable).subscribe(e=>{e.id=this.paginaEditableService.getId(e),this.paginaEditable=e})}agregarPodcast(){this.htmlPodcast=this.htmlPodcast.replace("></iframe>",'tipo ="podcast"></iframe>'),this.htmlPodcast=this.htmlPodcast.replaceAll('width="100%" height="352"','width="80%" height="200"'),this.texto=this.texto+this.htmlPodcast}agregarVideo(){this.htmlVideo=this.htmlVideo.replace("></iframe>",'tipo ="youtube"></iframe>'),this.texto=this.texto+this.htmlVideo,this.htmlVideo=""}onSelectFile(e){if(e.target.files&&e.target.files[0]){const i=new FileReader;i.readAsDataURL(e.target.files[0]),i.onload=()=>{this.imageUrl=i.result},console.log("EVENT",e.target.files[0]),this.imageName=e.target.files[0].name}console.log("IMAGEN SELECCIONADA EN PC: ",this.imageUrl)}getCroppedImage(){this.angularCropper.cropper.getCroppedCanvas().toBlob(e=>{const i=new FileReader;i.readAsDataURL(e),i.onload=()=>{this.croppedresult=i.result;let r=new File([e],this.imageName,{type:"image/jpeg"});this.imagenesService.subirImagen(r,"pagina-editable","pagina-editable").subscribe(l=>{console.log("URL IMAGEN SUBIDA: ",l),this.insertarImagenUrl(l)})}},"image/jpeg",.7)}insertarImagenUrl(e){this.texto=this.texto+'<img src="'+e+'" alt="imagenAlt'+this.anchoImagen+'">',e="",this.imageUrl="",this.imageName=""}ajustarEditor(){setTimeout(()=>{document.getElementsByClassName("ql-editor")[0].setAttribute("style","height: 700px")},500)}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(D),t.Y36(d.j),t.Y36(b.gz))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-editor"]],viewQuery:function(e,i){if(1&e&&t.Gf(He,5),2&e){let o;t.iGM(o=t.CRH())&&(i.angularCropper=o.first)}},decls:79,vars:6,consts:[[1,"text-center"],[1,"mx-3"],[1,"m-1","agregar-bloque-texto","row","form-group","text-center"],[1,"col-1"],[1,"row"],["type","button","data-bs-toggle","modal","data-bs-target","#imagenModal",1,"btn"],["src","../../../../assets/icono-foto.png","alt","",1,"icono-youtube"],["type","button","data-bs-toggle","modal","data-bs-target","#videoModal",1,"btn"],["src","../../../../assets/icono-youtube.jpg","alt","",1,"icono-youtube"],["type","button","data-bs-toggle","modal","data-bs-target","#podcastModal",1,"btn"],["src","../../../../assets/icono-spotify.png","alt","",1,"icono-spotify"],["id","editor",1,"col-11","editor-container"],["name","editor","id","editor",1,"quill-editor","my-2","py-4",3,"ngModel","ngModelChange"],[1,"btn","btn-success","btn-sm","m-3",3,"click"],["id","podcastModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["type","text","name","","placeholder","Url del podcast Spotify","rows","1",2,"width","95%",3,"ngModel","ngModelChange"],["src","../../../../assets/copiar_codigo_spotify.png","alt","",1,"img-fluid","my-4"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["data-bs-dismiss","modal",1,"btn","btn-primary",3,"click"],["id","videoModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["type","text","name","","placeholder","Url del video de Youtube","rows","1",2,"width","95%",3,"ngModel","ngModelChange"],["src","../../../../assets/copiar_codigo_youtube.png","alt","",1,"img-fluid","my-4"],["id","imagenModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["type","file","accept","images/",3,"change"],[4,"ngIf"],[1,"my-4"],["for","",1,"mx-2"],["type","text",3,"ngModel","ngModelChange"],["value","100"],["value","75"],["value","50"],["value","35"],["value","20"],[3,"imageUrl"],["angularCropper",""]],template:function(e,i){1&e&&(t.TgZ(0,"h3",0),t._uU(1),t.qZA(),t.TgZ(2,"div",1)(3,"form",2)(4,"div",3)(5,"div",4)(6,"button",5),t._UZ(7,"img",6),t.qZA()(),t.TgZ(8,"div",4)(9,"button",7),t._UZ(10,"img",8),t.qZA()(),t.TgZ(11,"div",4)(12,"button",9),t._UZ(13,"img",10),t.qZA()()(),t.TgZ(14,"div",11)(15,"quill-editor",12),t.NdJ("ngModelChange",function(r){return i.texto=r}),t.qZA()(),t.TgZ(16,"div",0)(17,"button",13),t.NdJ("click",function(){return i.enviar()}),t._uU(18,"ACEPTAR"),t.qZA()()()(),t.TgZ(19,"div",14)(20,"div",15)(21,"div",16)(22,"div",17)(23,"h1",18),t._uU(24,"Insertar Podcast"),t.qZA(),t._UZ(25,"button",19),t.qZA(),t.TgZ(26,"div",20)(27,"input",21),t.NdJ("ngModelChange",function(r){return i.htmlPodcast=r}),t.qZA(),t._UZ(28,"img",22),t.qZA(),t.TgZ(29,"div",23)(30,"button",24),t._uU(31,"Cerrar"),t.qZA(),t.TgZ(32,"button",25),t.NdJ("click",function(){return i.agregarPodcast()}),t._uU(33,"A\xf1adir podcast"),t.qZA()()()()(),t.TgZ(34,"div",26)(35,"div",15)(36,"div",16)(37,"div",17)(38,"h1",18),t._uU(39,"Insertar Video"),t.qZA(),t._UZ(40,"button",19),t.qZA(),t.TgZ(41,"div",20)(42,"input",27),t.NdJ("ngModelChange",function(r){return i.htmlVideo=r}),t.qZA(),t._UZ(43,"img",28),t.qZA(),t.TgZ(44,"div",23)(45,"button",24),t._uU(46,"Cerrar"),t.qZA(),t.TgZ(47,"button",25),t.NdJ("click",function(){return i.agregarVideo()}),t._uU(48,"A\xf1adir video"),t.qZA()()()()(),t.TgZ(49,"div",29)(50,"div",15)(51,"div",16)(52,"div",17)(53,"h1",18),t._uU(54,"Insertar Imagen"),t.qZA(),t._UZ(55,"button",19),t.qZA(),t.TgZ(56,"div",20)(57,"section")(58,"input",30),t.NdJ("change",function(r){return i.onSelectFile(r)}),t.qZA()(),t.YNc(59,ze,3,1,"section",31),t.TgZ(60,"section",32)(61,"label",33),t._uU(62,"Tama\xf1o"),t.qZA(),t.TgZ(63,"select",34),t.NdJ("ngModelChange",function(r){return i.anchoImagen=r}),t.TgZ(64,"option",35),t._uU(65,"Ancho 100%"),t.qZA(),t.TgZ(66,"option",36),t._uU(67,"Ancho 75%"),t.qZA(),t.TgZ(68,"option",37),t._uU(69,"Ancho 50%"),t.qZA(),t.TgZ(70,"option",38),t._uU(71,"Ancho 35%"),t.qZA(),t.TgZ(72,"option",39),t._uU(73,"Ancho 20%"),t.qZA()()()(),t.TgZ(74,"div",23)(75,"button",24),t._uU(76,"Cerrar"),t.qZA(),t.TgZ(77,"button",25),t.NdJ("click",function(){return i.getCroppedImage()}),t._uU(78,"Aceptar"),t.qZA()()()()()),2&e&&(t.xp6(1),t.hij('Contenido de la pagina "',i.nombrePagina,'"'),t.xp6(14),t.Q6J("ngModel",i.texto),t.xp6(12),t.Q6J("ngModel",i.htmlPodcast),t.xp6(15),t.Q6J("ngModel",i.htmlVideo),t.xp6(17),t.Q6J("ngIf",i.imageUrl),t.xp6(4),t.Q6J("ngModel",i.anchoImagen))},dependencies:[m.O5,c._Y,c.YN,c.Kr,c.Fj,c.EJ,c.JJ,c.JL,c.On,c.F,J.g6,C.V2],styles:[".bloque[_ngcontent-%COMP%]{border-style:dotted;border-width:1px}.agregar-bloque-texto[_ngcontent-%COMP%]{border-style:solid;background-color:#fafaf9;border-width:1px}.agregar-bloque-imagen[_ngcontent-%COMP%]{border-style:solid;background-color:#c3dde1;border-width:1px}.agregar-bloque-video[_ngcontent-%COMP%]{border-style:solid;background-color:#dbab9f;border-width:1px}.agregar-bloque-podcast[_ngcontent-%COMP%]{border-style:solid;background-color:#cfeccf;border-width:1px}.preview-publicacion[_ngcontent-%COMP%]{border-style:solid;background-color:#d0d2d0;border-width:1px}.imagen-publicacion[_ngcontent-%COMP%]{width:50%}.cuadro-texto[_ngcontent-%COMP%]{width:100%}.quill-editor[_ngcontent-%COMP%]{background-color:#fff;width:90%;box-shadow:2px 2px 10px #666}.icono-spotify[_ngcontent-%COMP%], .icono-youtube[_ngcontent-%COMP%]{width:9vw;border-style:solid;border-width:1px;border-radius:5px}.ql-video[_ngcontent-%COMP%]{width:50px}.iframe-container[_ngcontent-%COMP%]{width:100px}.modal-header[_ngcontent-%COMP%]{background-color:#ff6d00;color:#fff}@media (max-width: 40em){  .imagen{width:100%!important}  img[alt=imagenAlt35]{width:60%!important}  img[alt=imagenAlt20]{width:50%!important}  .iframe-container{width:100%!important;height:-moz-fit-content!important;height:fit-content!important}  iframe[tipo=podcast]{width:100%!important;height:28vw!important}  iframe[tipo=youtube]{width:100%!important;height:45vw!important}}@media (min-width: 41em){  img[alt=imagenAlt100]{width:100%!important}  img[alt=imagenAlt75]{width:75%!important}  img[alt=imagenAlt50]{width:50%!important}  img[alt=imagenAlt35]{width:35%!important}  img[alt=imagenAlt20]{width:20%!important}  iframe[tipo=podcast]{width:75%!important;height:250px!important}  iframe[tipo=youtube]{width:75%!important;height:35vw!important}}"]}),a})(),Be=(()=>{class a{constructor(e){this.http=e,this.tweetUrl="https://publish.twitter.com/oembed"}getTweet(e){return this.http.get(`${this.tweetUrl}?url=${e}`)}}return a.\u0275fac=function(e){return new(e||a)(t.LFG(p.eN))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function Ve(a,n){if(1&a&&(t.TgZ(0,"div",3),t._UZ(1,"app-publicacion",4),t.qZA()),2&a){const e=n.$implicit;t.xp6(1),t.Q6J("publicacion",e)}}const $e=[{path:"",component:it},{path:"formulario",component:R},{path:"",children:[{path:"publicaciones/:titulo",component:pt}]},{path:"",children:[{path:"formulario/:id",component:R}]},{path:"",children:[{path:"publicaciones-tag/:tagNombre",component:kt}]},{path:"",children:[{path:"publicaciones-provincia/:provincia",component:ae}]},{path:"",children:[{path:"publicaciones-categoria/:categoria",component:$t}]},{path:"",children:[{path:"tags",component:ee}]},{path:"",children:[{path:"descubriendo-vermutorero",component:we}]},{path:"",children:[{path:"editor-inicio",component:Qe}]},{path:"",children:[{path:"editor-lateral",component:(()=>{class a{constructor(e,i){this.lateralService=e,this.twitterService=i,this.lateral=new P,this.htmlPodcastSeleccionado="",this.htmlTwitterSeleccionado="",this.htmlTwitter2Seleccionado="",this.htmlTwitter3Seleccionado=""}ngOnInit(){this.getLateral()}getLateral(){this.lateralService.getLateral().subscribe(e=>{this.lateral=e,this.lateral.id=this.lateralService.getId(e),this.htmlPodcastSeleccionado=this.lateral.htmlPodcast,this.htmlTwitterSeleccionado=this.lateral.htmlTwitter,this.htmlTwitter2Seleccionado=this.lateral.htmlTwitter2,this.htmlTwitter3Seleccionado=this.lateral.htmlTwitter3,this.showHtmlPodcast(),this.showHtmlTwitter(),this.showHtmlTwitter2(),this.showHtmlTwitter3()}),this.lateral.htmlPodcast=this.lateral.htmlPodcast.replaceAll('<iframe style="border-radius:12px" src="https://open.spotify.com','<div class="iframe-container d-flex justify-content-center"><iframe class="ql-video ql-align-center" allowfullscreen="true" tipo="podcast" src="https://open.spotify.com'),this.lateral.htmlPodcast=this.lateral.htmlPodcast.replaceAll('<iframe class="ql-video ql-align-center" src="https://open.spotify.com','<div class="iframe-container d-flex justify-content-center"><iframe class="ql-video ql-align-center" allowfullscreen="true" tipo="podcast" src="https://open.spotify.com'),this.lateral.htmlPodcast=this.lateral.htmlPodcast.replaceAll('<iframe class="ql-video ql-align-center" allowfullscreen="true" src="https://open.spotify.com','<div class="iframe-container d-flex justify-content-center"><iframe class="ql-video ql-align-center" allowfullscreen="true" tipo="podcast" src="https://open.spotify.com'),this.lateral.htmlPodcast=this.lateral.htmlPodcast.replaceAll('<iframe class="ql-video" src="https://open.spotify.com','<div class="iframe-container d-flex justify-content-center"><iframe class="ql-video ql-align-center" allowfullscreen="true" tipo="podcast" src="https://open.spotify.com'),this.lateral.htmlPodcast=this.lateral.htmlPodcast.replaceAll('<iframe class="ql-video" allowfullscreen="true" src="https://open.spotify.com','<div class="iframe-container d-flex justify-content-center"><iframe class="ql-video ql-align-center" allowfullscreen="true" tipo="podcast" src="https://open.spotify.com'),this.lateral.htmlPodcast=this.lateral.htmlPodcast.replaceAll("</iframe>","</iframe></div>")}postLateral(){this.lateralService.postLateral(this.lateral).subscribe(e=>{this.lateral=e})}patchLateral(){this.lateralService.patchLateral(this.lateral).subscribe(e=>{this.lateral=e})}deleteLateral(){this.lateralService.deleteLateral().subscribe(e=>{})}agregarPodcast(){this.htmlPodcastSeleccionado=this.htmlPodcastSeleccionado.replaceAll('height="352"','height="100"'),this.lateral.htmlPodcast=this.htmlPodcastSeleccionado,this.showHtmlPodcast(),this.guardarCambios()}showHtmlPodcast(){var e=document.querySelector("#podcast"),i=document.createElement("div");i.innerHTML=this.lateral.htmlPodcast,e?.appendChild(i),console.log(i.innerHTML)}showHtmlPodcastSM(){var e=document.querySelector("#podcastSM"),i=document.createElement("div");i.innerHTML=this.lateral.htmlPodcast,e?.appendChild(i),console.log(i.innerHTML)}agregarTwitter(){var e=document.querySelector("#twitter"),i=document.querySelector("tweet");i&&e?.removeChild(i),this.lateral.htmlTwitter=this.htmlTwitterSeleccionado,this.guardarCambios()}agregarTwitter2(){document.querySelector("#twitter2"),this.lateral.htmlTwitter2=this.htmlTwitter2Seleccionado,this.guardarCambios()}agregarTwitter3(){document.querySelector("#twitter3"),this.lateral.htmlTwitter3=this.htmlTwitter3Seleccionado,this.guardarCambios()}showHtmlTwitter(){var e=document.querySelector("#twitter"),i=document.createElement("div");i.innerHTML=this.htmlTwitterSeleccionado,e?.appendChild(i),twttr.widgets.load()}showHtmlTwitter2(){var e=document.querySelector("#twitter2"),i=document.createElement("div");i.innerHTML=this.htmlTwitter2Seleccionado,e?.appendChild(i),twttr.widgets.load()}showHtmlTwitter3(){var e=document.querySelector("#twitter3"),i=document.createElement("div");i.innerHTML=this.htmlTwitter3Seleccionado,e?.appendChild(i),twttr.widgets.load()}guardarCambios(){"1"==this.lateral.id?this.lateralService.patchLateral(this.lateral).subscribe(e=>{this.lateral=e,location.reload()}):this.lateralService.postLateral(this.lateral).subscribe(e=>{this.lateral=e,this.lateral.id=this.lateralService.getId(e)})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(v),t.Y36(Be))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-editor-lateral"]],decls:94,vars:4,consts:[[1,"row","editor-lateral","my-4"],[1,"col-1","col-md-4"],[1,"lateral","col-10","col-md-4","text-center"],[1,"row","podcast-container"],["id","podcast",1,"podcast","mt-2"],[1,"text-center"],["data-bs-toggle","modal","data-bs-target","#podcastModal",1,"btn","btn-warning"],[1,"row","buscador-container"],["id","twitter-container",1,"row","twitter-container"],["id","twitter",1,"twitter","mt-2"],[1,"numero-tweet"],[1,"text-center","my-2"],["data-bs-toggle","modal","data-bs-target","#twitterModal",1,"btn","btn-warning"],["id","twitter-container2",1,"row","twitter-container"],["id","twitter2",1,"twitter2","mt-2"],["data-bs-toggle","modal","data-bs-target","#twitterModal2",1,"btn","btn-warning"],["id","twitter-container3",1,"row","twitter-container"],["id","twitter3",1,"twitter3","mt-2"],["data-bs-toggle","modal","data-bs-target","#twitterModal3",1,"btn","btn-warning"],[1,"row","instagram-container"],[1,"row","linkedin-container"],[1,"row","facebook-container"],["id","podcastModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["type","text","name","","placeholder","Url del podcast Spotify","rows","1",2,"width","95%",3,"ngModel","ngModelChange"],["src","../../../../assets/copiar_codigo_spotify.png","alt","",1,"img-fluid","my-4"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["data-bs-dismiss","modal",1,"btn","btn-primary",3,"click"],["id","twitterModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","twitterModal2","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","twitterModal3","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"]],template:function(e,i){1&e&&(t.TgZ(0,"section",0),t._UZ(1,"section",1),t.TgZ(2,"section",2)(3,"section",3),t._UZ(4,"div",4),t.TgZ(5,"div",5)(6,"button",6),t._uU(7,"Cambiar podcast"),t.qZA()()(),t._UZ(8,"section",7),t.TgZ(9,"section",8)(10,"div",9)(11,"h5",10),t._uU(12,"Tweet 1"),t.qZA()(),t.TgZ(13,"div",11)(14,"button",12),t._uU(15,"Cambiar tweet"),t.qZA()()(),t.TgZ(16,"section",13)(17,"div",14)(18,"h5",10),t._uU(19,"Tweet 2"),t.qZA()(),t.TgZ(20,"div",11)(21,"button",15),t._uU(22,"Cambiar tweet"),t.qZA()()(),t.TgZ(23,"section",16)(24,"div",17)(25,"h5",10),t._uU(26,"Tweet 3"),t.qZA()(),t.TgZ(27,"div",11)(28,"button",18),t._uU(29,"Cambiar tweet"),t.qZA()()(),t._UZ(30,"section",19)(31,"section",20)(32,"section",21),t.qZA(),t._UZ(33,"div",1),t.qZA(),t.TgZ(34,"div",22)(35,"div",23)(36,"div",24)(37,"div",25)(38,"h1",26),t._uU(39,"Insertar Podcast"),t.qZA(),t._UZ(40,"button",27),t.qZA(),t.TgZ(41,"div",28)(42,"input",29),t.NdJ("ngModelChange",function(r){return i.htmlPodcastSeleccionado=r}),t.qZA(),t._UZ(43,"img",30),t.qZA(),t.TgZ(44,"div",31)(45,"button",32),t._uU(46,"Cerrar"),t.qZA(),t.TgZ(47,"button",33),t.NdJ("click",function(){return i.agregarPodcast()}),t._uU(48,"A\xf1adir podcast"),t.qZA()()()()(),t.TgZ(49,"div",34)(50,"div",23)(51,"div",24)(52,"div",25)(53,"h1",26),t._uU(54,"Insertar Twitter"),t.qZA(),t._UZ(55,"button",27),t.qZA(),t.TgZ(56,"div",28)(57,"input",29),t.NdJ("ngModelChange",function(r){return i.htmlTwitterSeleccionado=r}),t.qZA(),t._UZ(58,"img",30),t.qZA(),t.TgZ(59,"div",31)(60,"button",32),t._uU(61,"Cerrar"),t.qZA(),t.TgZ(62,"button",33),t.NdJ("click",function(){return i.agregarTwitter()}),t._uU(63,"A\xf1adir tweet seleccionado"),t.qZA()()()()(),t.TgZ(64,"div",35)(65,"div",23)(66,"div",24)(67,"div",25)(68,"h1",26),t._uU(69,"Insertar Twitter 2"),t.qZA(),t._UZ(70,"button",27),t.qZA(),t.TgZ(71,"div",28)(72,"input",29),t.NdJ("ngModelChange",function(r){return i.htmlTwitter2Seleccionado=r}),t.qZA(),t._UZ(73,"img",30),t.qZA(),t.TgZ(74,"div",31)(75,"button",32),t._uU(76,"Cerrar"),t.qZA(),t.TgZ(77,"button",33),t.NdJ("click",function(){return i.agregarTwitter2()}),t._uU(78,"A\xf1adir tweet seleccionado"),t.qZA()()()()(),t.TgZ(79,"div",36)(80,"div",23)(81,"div",24)(82,"div",25)(83,"h1",26),t._uU(84,"Insertar Twitter 3"),t.qZA(),t._UZ(85,"button",27),t.qZA(),t.TgZ(86,"div",28)(87,"input",29),t.NdJ("ngModelChange",function(r){return i.htmlTwitter3Seleccionado=r}),t.qZA(),t._UZ(88,"img",30),t.qZA(),t.TgZ(89,"div",31)(90,"button",32),t._uU(91,"Cerrar"),t.qZA(),t.TgZ(92,"button",33),t.NdJ("click",function(){return i.agregarTwitter3()}),t._uU(93,"A\xf1adir tweet seleccionado"),t.qZA()()()()()),2&e&&(t.xp6(42),t.Q6J("ngModel",i.htmlPodcastSeleccionado),t.xp6(15),t.Q6J("ngModel",i.htmlTwitterSeleccionado),t.xp6(15),t.Q6J("ngModel",i.htmlTwitter2Seleccionado),t.xp6(15),t.Q6J("ngModel",i.htmlTwitter3Seleccionado))},dependencies:[c.Fj,c.JJ,c.On],styles:[".podcast-container[_ngcontent-%COMP%]{background-color:#000;height:200px;padding:5%}.twitter-container[_ngcontent-%COMP%]{margin-top:5%;padding:5%;background-color:#000;height:-moz-fit-content;height:fit-content}.numero-tweet[_ngcontent-%COMP%]{color:#fff}"]}),a})()}]},{path:"",children:[{path:"acerca-de/:paginaNombre",component:De}]},{path:"",children:[{path:"acerca-de/editor/:paginaNombre",component:je}]},{path:"",children:[{path:"publicaciones-buscador/:palabrasClave",component:(()=>{class a{constructor(e,i,o){this.publicacionesService=e,this.activatedRoute=i,this.categoriaService=o,this.palabrasClave=[],this.id="",this.publicaciones=[]}ngOnInit(){const e=this.activatedRoute.snapshot.queryParamMap.get("palabrasClave");e&&(this.palabrasClave=JSON.parse(decodeURIComponent(e))),this.getPublicacionesByPalabras()}getPublicacionesByPalabras(){this.publicacionesService.getPublicacionesBuscador(this.palabrasClave).subscribe(e=>{this.publicaciones=e,this.publicaciones.forEach(i=>{i.id=this.publicacionesService.getId(i),this.publicacionesService.getCategoriaFromPublicacion(i).subscribe(o=>{i.categoria=o,i.categoria.id=this.categoriaService.getId(o)}),this.publicacionesService.getAutorFromPublicacion(i).subscribe(o=>{i.autor=o})})})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(s),t.Y36(b.gz),t.Y36(x))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-publicaciones-buscador"]],decls:6,vars:2,consts:[[1,"my-4","py-2","mx-4"],[1,"row","mx-2","my-4"],["style","display:inline-block;","class","card col-12 col-md-3 col-xxl-2",4,"ngFor","ngForOf"],[1,"card","col-12","col-md-3","col-xxl-2",2,"display","inline-block"],[3,"publicacion"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"h3",1)(2,"b"),t._uU(3),t.qZA()(),t._UZ(4,"hr"),t.YNc(5,Ve,2,1,"div",2),t.qZA()),2&e&&(t.xp6(3),t.hij('Relacionados con "',i.palabrasClave,'"'),t.xp6(2),t.Q6J("ngForOf",i.publicaciones))},dependencies:[m.sg,Z],styles:[".card[_ngcontent-%COMP%]{margin:0;border-radius:0;border-style:none}"]}),a})()}]}];let Ke=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[b.Bz.forChild($e),b.Bz]}),a})(),Xe=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[m.ez,Ke,c.u5,J.fi,C.dD]}),a})()},4327:function(N,S){var u,b;void 0!==(b="function"==typeof(u=function(){"use strict";function P(s,d,v){var c=new XMLHttpRequest;c.open("GET",s),c.responseType="blob",c.onload=function(){A(c.response,d,v)},c.onerror=function(){console.error("could not download file")},c.send()}function t(s){var d=new XMLHttpRequest;d.open("HEAD",s,!1);try{d.send()}catch{}return 200<=d.status&&299>=d.status}function g(s){try{s.dispatchEvent(new MouseEvent("click"))}catch{var d=document.createEvent("MouseEvents");d.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),s.dispatchEvent(d)}}var p="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,f=p.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),A=p.saveAs||("object"!=typeof window||window!==p?function(){}:"download"in HTMLAnchorElement.prototype&&!f?function(s,d,v){var c=p.URL||p.webkitURL,_=document.createElement("a");_.download=d=d||s.name||"download",_.rel="noopener","string"==typeof s?(_.href=s,_.origin===location.origin?g(_):t(_.href)?P(s,d,v):g(_,_.target="_blank")):(_.href=c.createObjectURL(s),setTimeout(function(){c.revokeObjectURL(_.href)},4e4),setTimeout(function(){g(_)},0))}:"msSaveOrOpenBlob"in navigator?function(s,d,v){if(d=d||s.name||"download","string"!=typeof s)navigator.msSaveOrOpenBlob(function w(s,d){return typeof d>"u"?d={autoBom:!1}:"object"!=typeof d&&(console.warn("Deprecated: Expected third argument to be a object"),d={autoBom:!d}),d.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\ufeff",s],{type:s.type}):s}(s,v),d);else if(t(s))P(s,d,v);else{var c=document.createElement("a");c.href=s,c.target="_blank",setTimeout(function(){g(c)})}}:function(s,d,v,c){if((c=c||open("","_blank"))&&(c.document.title=c.document.body.innerText="downloading..."),"string"==typeof s)return P(s,d,v);var _="application/octet-stream"===s.type,y=/constructor/i.test(p.HTMLElement)||p.safari,Z=/CriOS\/[\d]+/.test(navigator.userAgent);if((Z||_&&y||f)&&typeof FileReader<"u"){var M=new FileReader;M.onloadend=function(){var T=M.result;T=Z?T:T.replace(/^data:[^;]*;/,"data:attachment/file;"),c?c.location.href=T:location=T,c=null},M.readAsDataURL(s)}else{var E=p.URL||p.webkitURL,I=E.createObjectURL(s);c?c.location=I:location.href=I,c=null,setTimeout(function(){E.revokeObjectURL(I)},4e4)}});p.saveAs=A.saveAs=A,N.exports=A})?u.apply(S,[]):u)&&(N.exports=b)}}]);