(self.webpackChunkWebMagazineFront=self.webpackChunkWebMagazineFront||[]).push([[386],{6386:(J,O,d)=>{"use strict";d.r(O),d.d(O,{NewsletterModule:()=>$n});var p=d(6895),b=d(7789);class Z{constructor(){this.id="",this.posicion="",this.url=""}}class T{constructor(){this.id="",this.htmlPodcast="",this.htmlTwitter="",this.htmlTwitter2="",this.htmlTwitter3=""}}var e=d(4650),g=d(4004),m=d(529),C=d(6362);new m.WM({"Content-Type":"application/json"});let l=(()=>{class n{constructor(t){this.http=t,this.endpoint=C.N.urlAPI}getPublicacionesRecientes(){return this.http.get(this.endpoint+"/publicaciones/search/publicacionesRecientes").pipe((0,g.U)(t=>t._embedded.publicaciones))}getPublicacionesRecientesFree(){return this.http.get(this.endpoint+"/publicaciones/search/publicacionesRecientesFree").pipe((0,g.U)(t=>t._embedded.publicaciones))}getPublicacionesDestacadas(){return this.http.get(this.endpoint+"/publicaciones/search/publicacionesDestacadas").pipe((0,g.U)(t=>t._embedded.publicaciones))}postPublicacion(t){return this.http.post(this.endpoint+"/publicaciones/search/postPublicacion",t).pipe((0,g.U)(i=>i.publicacion))}getId(t){let o=t._links.self.href.split("/");return o[o.length-1]}getAutorFromPublicacion(t){return this.http.get(this.endpoint+"/publicaciones/search/getAutorFromPublicacion/"+t.id)}getTagsFromPublicacion(t){return this.http.get(this.endpoint+"/publicaciones/search/getTagsFromPublicacion/"+t.id).pipe((0,g.U)(i=>i._embedded.tags))}getCategoriaFromPublicacion(t){return this.http.get(this.endpoint+"/publicaciones/search/getCategoriaFromPublicacion/"+t.id)}getLugarFromPublicacion(t){return this.http.get(this.endpoint+"/publicaciones/search/getLugarFromPublicacion/"+t.id)}getPublicacion(t){return this.http.get(this.endpoint+"/publicaciones/search/publicacionByTitulo/"+t)}getPublicacionFree(t){return this.http.get(this.endpoint+"/publicaciones/search/publicacionByTituloFree/"+t)}getPublicacionById(t){return this.http.get(this.endpoint+"/publicaciones/search/publicacionById/"+t)}deletePublicacion(t){return this.http.delete(this.endpoint+"/publicaciones/search/deletePublicacion/"+t)}patchPublicacion(t){return this.http.patch(this.endpoint+"/publicaciones/search/patchPublicacion",t)}getPublicacionesCerca(t,i){return this.http.get(this.endpoint+"/publicaciones/search/publicacionesCerca/"+t+"/"+i).pipe((0,g.U)(o=>o._embedded.publicaciones))}getPublicacionesRelacionadas(t){return this.http.get(this.endpoint+"/publicaciones/search/publicacionesRelacionadas/"+t).pipe((0,g.U)(i=>i._embedded.publicaciones))}getPublicacionesByTag(t){return this.http.get(this.endpoint+"/publicaciones/search/publicacionesByTag/"+t).pipe((0,g.U)(i=>i._embedded.publicaciones))}getPublicacionesByLugar(t){return this.http.get(this.endpoint+"/publicaciones/search/publicacionesByLugar/"+t).pipe((0,g.U)(i=>i._embedded.publicaciones))}getPublicacionesByCategoria(t){return this.http.get(this.endpoint+"/publicaciones/search/publicacionesCategoria/"+t).pipe((0,g.U)(i=>i._embedded.publicaciones))}getPublicacionesCarousel(){return this.http.get(this.endpoint+"/publicaciones/search/publicacionesCarousel").pipe((0,g.U)(t=>t._embedded.publicaciones))}getPublicacionesNoCarousel(){return this.http.get(this.endpoint+"/publicaciones/search/publicacionesNoCarousel").pipe((0,g.U)(t=>t._embedded.publicaciones))}getPublicacionesBuscador(t){return this.http.get(this.endpoint+"/publicaciones/search/buscar-publicaciones?palabrasClave="+t[0]+","+t[1]+","+t[2]+","+t[3]+","+t[4]+","+t[5]).pipe((0,g.U)(i=>i._embedded.publicaciones))}getLikesFromPublicacion(t){return this.http.get(this.endpoint+"/publicaciones/search/getLikesFromPublicacion/"+t.id).pipe((0,g.U)(i=>i._embedded.likes))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(m.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var u=d(7270);let v=(()=>{class n{constructor(t){this.http=t,this.endpoint=C.N.urlAPI}getLateral(){return this.http.get(this.endpoint+"/laterales/1")}getId(t){let o=t._links.self.href.split("/");return o[o.length-1]}postLateral(t){return this.http.post(this.endpoint+"/laterales",t)}patchLateral(t){return this.http.patch(this.endpoint+"/laterales/1",t)}deleteLateral(){return this.http.delete(this.endpoint+"/laterales/1")}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(m.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var r=d(4006);class _{constructor(){this.id="",this.lugarNombre=""}}class y{constructor(){this.id="",this.titulo="",this.subtitulo="",this.htmlPublicacion="",this.premium=!1,this.destacado=!1,this.carousel=!1,this.bloques=[],this.fechaPublicacion="",this.likesRecibidos=[],this.cafes=[],this.tags=[],this.imagenPreviewUrl="",this.lugar=new _,this.letraOscura=!1}}function E(n,c){if(1&n&&(e.TgZ(0,"p",13)(1,"b"),e._uU(2),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(t.publicacion.categoria.categoriaNombre)}}function S(n,c){if(1&n&&(e.TgZ(0,"p",14),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.lnq("Por ",t.publicacion.autor.nombre," ",t.publicacion.autor.apellido1," ",t.publicacion.autor.apellido2,"")}}let x=(()=>{class n{constructor(){this.publicacion=new y,this.tituloUrl=""}ngOnInit(){this.tituloUrl=this.publicacion.titulo.replaceAll(" ","-")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-publicacion"]],inputs:{publicacion:"publicacion"},decls:15,vars:6,consts:[[1,"publicacion-preview"],[1,"btn",3,"href"],[1,"card-image","mb-2"],["alt","",1,"img-card","img-fluid","w-100",3,"src"],[1,"categoria-container"],["class","categoria",4,"ngIf"],[1,"card-body","p-0"],[2,"display","block"],[1,"card-title","my-2"],[1,"divisor"],[1,"card-text-container"],[1,"card-text","my-3"],["class","card-text autor",4,"ngIf"],[1,"categoria"],[1,"card-text","autor"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"a",1)(2,"div",2),e._UZ(3,"img",3),e.TgZ(4,"div",4),e.YNc(5,E,3,1,"p",5),e.qZA()(),e.TgZ(6,"div",6)(7,"div",7)(8,"h5",8),e._uU(9),e.qZA(),e._UZ(10,"hr",9),e.TgZ(11,"div",10)(12,"p",11),e._uU(13),e.qZA(),e.YNc(14,S,2,3,"p",12),e.qZA()()()()()),2&t&&(e.xp6(1),e.MGl("href","publicaciones/",i.tituloUrl,"",e.LSH),e.xp6(2),e.s9C("src",i.publicacion.imagenPreviewUrl,e.LSH),e.xp6(2),e.Q6J("ngIf",i.publicacion.categoria),e.xp6(4),e.Oqu(i.publicacion.titulo),e.xp6(4),e.Oqu(i.publicacion.subtitulo),e.xp6(1),e.Q6J("ngIf",i.publicacion.autor))},dependencies:[p.O5],styles:[".card-image[_ngcontent-%COMP%]{box-shadow:2px 2px 10px #666;background-color:#ff6d00;border-radius:0}.img-card[_ngcontent-%COMP%]{transform:rotate(-3deg)}.publicacion-preview[_ngcontent-%COMP%]{border-radius:0;height:-moz-fit-content;height:fit-content}.card-title[_ngcontent-%COMP%]{height:-moz-fit-content!important;height:fit-content!important;text-align:left;padding-top:2%}.card-text[_ngcontent-%COMP%]{text-align:left;font-size:small}.card-title[_ngcontent-%COMP%]:hover{opacity:.5;color:#f7a203}hr[_ngcontent-%COMP%]{color:#ff6d00;border-width:1.5px}.categoria[_ngcontent-%COMP%]{transform:rotate(-3deg);position:absolute;top:5%;font-size:x-small;background-color:orange;border-radius:15px;height:1rem;width:-moz-fit-content;width:fit-content;cursor:pointer;cursor:hand;padding-left:8px;padding-right:8px;margin:auto}.autor[_ngcontent-%COMP%]{font-size:small;font-style:italic}"]}),n})();function U(n,c){if(1&n&&e._UZ(0,"img",69),2&n){const t=e.oxw();e.s9C("src",t.imagenInicioIzquierda.url,e.LSH)}}function w(n,c){1&n&&e._UZ(0,"button",70)}function oe(n,c){1&n&&e._UZ(0,"button",71)}function ae(n,c){1&n&&e._UZ(0,"button",72)}function ce(n,c){1&n&&e._UZ(0,"button",73)}function re(n,c){1&n&&e._UZ(0,"button",74)}function se(n,c){1&n&&e._UZ(0,"button",75)}function le(n,c){if(1&n&&(e.TgZ(0,"h5",83)(1,"b"),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.titulo)}}function ue(n,c){if(1&n&&(e.TgZ(0,"p",84)(1,"b"),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.subtitulo)}}function de(n,c){if(1&n&&(e.TgZ(0,"h5",85)(1,"b"),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.titulo)}}function pe(n,c){if(1&n&&(e.TgZ(0,"p",86)(1,"b"),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.subtitulo)}}function ge(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",76)(1,"img",77),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.getPublicacionUrl(a.titulo))}),e.qZA(),e.TgZ(2,"div",78),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.getPublicacionUrl(a.titulo))}),e.YNc(3,le,3,1,"h5",79),e.YNc(4,ue,3,1,"p",80),e.YNc(5,de,3,1,"h5",81),e.YNc(6,pe,3,1,"p",82),e.qZA()()}if(2&n){const t=c.$implicit;e.xp6(1),e.s9C("src",t.imagenPreviewUrl,e.LSH),e.xp6(2),e.Q6J("ngIf",!t.letraOscura),e.xp6(1),e.Q6J("ngIf",!t.letraOscura),e.xp6(1),e.Q6J("ngIf",t.letraOscura),e.xp6(1),e.Q6J("ngIf",t.letraOscura)}}function me(n,c){if(1&n&&e._UZ(0,"img",87),2&n){const t=e.oxw();e.s9C("src",t.imagenInicioDerecha.url,e.LSH)}}function he(n,c){if(1&n&&(e.TgZ(0,"div",88),e._UZ(1,"app-publicacion",89),e.qZA()),2&n){const t=c.$implicit;e.xp6(1),e.Q6J("publicacion",t)}}function be(n,c){if(1&n&&(e.TgZ(0,"div",88),e._UZ(1,"app-publicacion",89),e.qZA()),2&n){const t=c.$implicit;e.xp6(1),e.Q6J("publicacion",t)}}let _e=(()=>{class n{constructor(t,i,o,a){this.publicacionesService=t,this.imagenesService=i,this.router=o,this.lateralService=a,this.publicaciones=[],this.publicacionesDestacadas=[],this.publicacionesCarousel=[],this.urlImagenLateralDerecha="",this.imagenInicioDerecha=new Z,this.imagenInicioIzquierda=new Z,this.imagenInicioCentral=new Z,this.tituloUrl="",this.lateral=new T,this.palabrasClave="",this.rol=""}ngOnInit(){this.getLateral(),this.getImagenesInicio(),this.rol=sessionStorage.getItem("rol"),"ROLE_ADMIN"==this.rol||"ROLE_WRITTER"==this.rol||"ROLE_USER_SUSCRIBED"==this.rol||"ROLE_USER_MEMBER"==this.rol?this.getPublicacionesRecientes():this.getPublicacionesRecientesFree(),this.getPublicacionesDestacadas(),this.getPublicacionesCarousel()}getPublicacionesRecientes(){this.publicaciones=[],this.publicacionesService.getPublicacionesRecientes().subscribe(t=>{this.publicaciones=t,this.publicaciones.forEach(i=>{i.id=this.publicacionesService.getId(i),this.publicacionesService.getCategoriaFromPublicacion(i).subscribe(o=>{i.categoria=o,this.publicacionesService.getAutorFromPublicacion(i).subscribe(a=>{i.autor=a})})})})}getPublicacionesRecientesFree(){this.publicaciones=[],this.publicacionesService.getPublicacionesRecientesFree().subscribe(t=>{this.publicaciones=t,this.publicaciones.forEach(i=>{i.id=this.publicacionesService.getId(i),this.publicacionesService.getCategoriaFromPublicacion(i).subscribe(o=>{i.categoria=o,this.publicacionesService.getAutorFromPublicacion(i).subscribe(a=>{i.autor=a})})})})}getPublicacionesDestacadas(){this.publicacionesDestacadas=[],this.publicacionesService.getPublicacionesDestacadas().subscribe(t=>{this.publicacionesDestacadas=t,this.publicacionesDestacadas.forEach(i=>{i.id=this.publicacionesService.getId(i),this.publicacionesService.getCategoriaFromPublicacion(i).subscribe(o=>{i.categoria=o,this.publicacionesService.getAutorFromPublicacion(i).subscribe(a=>{i.autor=a})})})})}getPublicacionesCarousel(){this.publicacionesService.getPublicacionesCarousel().subscribe(t=>{this.publicacionesCarousel=t,this.publicacionesCarousel.forEach(i=>{i.id=this.publicacionesService.getId(i),i.subtitulo=i.subtitulo.substring(0,160)+"..."})})}getImagenesInicio(){this.imagenesService.getImagenesInicio().subscribe(t=>{t.forEach(i=>{"derecha"==i.posicion&&(this.imagenInicioDerecha=i),"izquierda"==i.posicion&&(this.imagenInicioIzquierda=i),"centro"==i.posicion&&(this.imagenInicioCentral=i)})})}getPublicacionUrl(t){let i="/publicaciones/"+t.replaceAll(" ","-");this.router.navigate([i])}getLateral(){this.lateralService.getLateral().subscribe(t=>{this.lateral=t,this.showHtmlPodcast(),this.showHtmlPodcastSM(),this.showHtmlTwitter(),this.showHtmlTwitter2(),this.showHtmlTwitter3()})}showHtmlTwitter(){var t=document.querySelector("#twitter"),i=document.createElement("div");i.classList.add("twitter-tweet"),i.innerHTML=this.lateral.htmlTwitter,t?.appendChild(i)}showHtmlTwitter2(){var t=document.querySelector("#twitter2"),i=document.createElement("div");i.classList.add("twitter-tweet"),i.innerHTML=this.lateral.htmlTwitter2,t?.appendChild(i)}showHtmlTwitter3(){var t=document.querySelector("#twitter3"),i=document.createElement("div");i.classList.add("twitter-tweet"),i.innerHTML=this.lateral.htmlTwitter3,t?.appendChild(i)}showHtmlPodcast(){var t=document.querySelector("#podcast"),i=document.createElement("div");i.innerHTML=this.lateral.htmlPodcast,t?.appendChild(i)}showHtmlPodcastSM(){var t=document.querySelector("#podcastSM"),i=document.createElement("div");i.classList.add("podcastSM-container"),i.classList.add("justify-content-center"),i.innerHTML=this.lateral.htmlPodcast,t?.appendChild(i)}buscarPublicacionesPorPalabras(){let t=this.palabrasClave.split(" ");const i=`/publicaciones-buscador/?palabrasClave=${encodeURIComponent(JSON.stringify(t))}`;this.router.navigateByUrl(i)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l),e.Y36(u.j),e.Y36(b.F0),e.Y36(v))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-publicaciones"]],decls:88,vars:13,consts:[[1,"inicio-container"],[1,"inicio","row","p-0","m-0"],[1,"promo","d-none","d-sm-block","col-sm-3","p-0","m-0"],["href","/ecommerce"],["alt","","class","w-100 p-0 m-0",3,"src",4,"ngIf"],[1,"carrusel","col-12","col-sm-6","p-0","m-0"],["id","carouselExampleCaptions","data-bs-ride","carousel",1,"carousel","slide"],[1,"carousel-indicators"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","0","aria-current","true","aria-label","Slide 1",1,"active"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","1","aria-label","Slide 2"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","2","aria-label","Slide 3"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","3","aria-label","Slide 4",4,"ngIf"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","4","aria-label","Slide 5",4,"ngIf"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","5","aria-label","Slide 6",4,"ngIf"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","6","aria-label","Slide 7",4,"ngIf"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","7","aria-label","Slide 8",4,"ngIf"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","8","aria-label","Slide 9",4,"ngIf"],[1,"carousel-inner"],["data-bs-interval","3500",1,"carousel-item","active"],["alt","...",1,"d-block","w-100","p-0","m-0",3,"src"],[1,"carousel-caption","rrss"],[1,"row","align-items-center","mt-1"],[1,"col-1"],[1,"col-2","col-sm-1","my-1","mx-2"],["href","https://www.facebook.com/elisabethgiborra"],["src","../../../../assets/facebookIcon.png","alt","",1,"icono-rrss"],["href","https://www.instagram.com/vermu.torero/"],["src","../../../../assets/instagramIcon.png","alt","",1,"icono-rrss"],["href","http://es.linkedin.com/in/elisabethgiborra"],["src","../../../../assets/linkedinIcon.png","alt","",1,"icono-rrss"],["href","https://twitter.com/elisabethiborra"],["src","../../../../assets/twitterIcon.png","alt","",1,"icono-rrss"],["class","carousel-item","data-bs-interval","3500",4,"ngFor","ngForOf"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],["href","/suscripcion"],["alt","","class","img-fluid p-0 m-0",3,"src",4,"ngIf"],["id","podcastSM",1,"col-12","d-md-none","row","podcastSM","mt-2","m-0"],[1,"titulo-podcast","justify-content-center"],["id","tienda",1,"col-12","d-md-none","row","tienda","m-0"],["href","/ecommerce",1,"justify-content-center"],["src","../../../assets/boton_tienda.png","alt","",1,"btn","boton-tienda"],[1,"zona-articulos","row"],[1,"col-12","col-md-8","col-lg-9"],[1,"seccion-recientes","mx-1","mx-md-4"],[1,"row","mx-2"],[1,"my-0"],[1,"recientes","row","mt-2"],["class","card col-12 col-sm-6 col-lg-3 col-xxl-3 mb-4",4,"ngFor","ngForOf"],["id","editor","hidden",""],[1,"seccion-destacados","my-1","pt-3","mx-1","mx-md-4"],[1,"row","mx-2","my-1"],[1,"destacados","row","align-items-start","mt-2"],[1,"d-none","d-md-block","col-md-4","col-lg-3","mb-3"],["id","podcast",1,"row","podcast"],[1,"row","titulo-podcast"],[1,"row","buscador"],[1,"row","titulo-buscador"],["role","search",1,"d-flex"],["placeholder","Buscar","aria-label","Buscar","id","palabrasClave","name","palabrasClave",1,"form-control","me-2","input-buscador",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-outline-light","btn-sm",3,"click"],[1,"row","twitter"],[1,"row","titulo-twitter"],["id","twitter",1,"col-12"],["id","twitter2",1,"col-12"],["id","twitter3",1,"col-12"],["alt","",1,"w-100","p-0","m-0",3,"src"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","3","aria-label","Slide 4"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","4","aria-label","Slide 5"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","5","aria-label","Slide 6"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","6","aria-label","Slide 7"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","7","aria-label","Slide 8"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","8","aria-label","Slide 9"],["data-bs-interval","3500",1,"carousel-item"],["alt","...",1,"d-block","w-100",3,"src","click"],[1,"carousel-caption",3,"click"],["class","letra-blanca texto-titulo",4,"ngIf"],["class","letra-blanca texto-carousel d-none d-md-block",4,"ngIf"],["class","letra-negra texto-titulo",4,"ngIf"],["class","letra-negra texto-carousel d-none d-md-block",4,"ngIf"],[1,"letra-blanca","texto-titulo"],[1,"letra-blanca","texto-carousel","d-none","d-md-block"],[1,"letra-negra","texto-titulo"],[1,"letra-negra","texto-carousel","d-none","d-md-block"],["alt","",1,"img-fluid","p-0","m-0",3,"src"],[1,"card","col-12","col-sm-6","col-lg-3","col-xxl-3","mb-4"],[3,"publicacion"]],template:function(t,i){1&t&&(e.TgZ(0,"section",0)(1,"section",1)(2,"section",2)(3,"a",3),e.YNc(4,U,1,1,"img",4),e.qZA()(),e.TgZ(5,"section",5)(6,"div",6)(7,"div",7),e._UZ(8,"button",8)(9,"button",9)(10,"button",10),e.YNc(11,w,1,0,"button",11),e.YNc(12,oe,1,0,"button",12),e.YNc(13,ae,1,0,"button",13),e.YNc(14,ce,1,0,"button",14),e.YNc(15,re,1,0,"button",15),e.YNc(16,se,1,0,"button",16),e.qZA(),e.TgZ(17,"div",17)(18,"div",18),e._UZ(19,"img",19),e.TgZ(20,"section",20)(21,"div",21),e._UZ(22,"div",22),e.TgZ(23,"div",23)(24,"a",24),e._UZ(25,"img",25),e.qZA()(),e.TgZ(26,"div",23)(27,"a",26),e._UZ(28,"img",27),e.qZA()(),e.TgZ(29,"div",23)(30,"a",28),e._UZ(31,"img",29),e.qZA()(),e.TgZ(32,"div",23)(33,"a",30),e._UZ(34,"img",31),e.qZA()()()()(),e.YNc(35,ge,7,5,"div",32),e.qZA(),e.TgZ(36,"button",33),e._UZ(37,"span",34),e.TgZ(38,"span",35),e._uU(39,"Previous"),e.qZA()(),e.TgZ(40,"button",36),e._UZ(41,"span",37),e.TgZ(42,"span",35),e._uU(43,"Next"),e.qZA()()()(),e.TgZ(44,"section",2)(45,"a",38),e.YNc(46,me,1,1,"img",39),e.qZA()()()(),e.TgZ(47,"section",40)(48,"h4",41)(49,"b"),e._uU(50,"Podcast"),e.qZA()()(),e.TgZ(51,"section",42)(52,"a",43),e._UZ(53,"img",44),e.qZA()(),e.TgZ(54,"section",45)(55,"div",46)(56,"section",47)(57,"h3",48)(58,"b"),e._uU(59,"Ultimos art\xedculos"),e.qZA()(),e._UZ(60,"hr",49),e.TgZ(61,"div",50),e.YNc(62,he,2,1,"div",51),e._UZ(63,"div",52),e.qZA()(),e.TgZ(64,"section",53)(65,"h3",54)(66,"b"),e._uU(67,"Destacados"),e.qZA()(),e._UZ(68,"hr",49),e.TgZ(69,"div",55),e.YNc(70,be,2,1,"div",51),e.qZA()()(),e.TgZ(71,"div",56)(72,"div",57)(73,"h5",58),e._uU(74,"Podcast"),e.qZA()(),e.TgZ(75,"div",59)(76,"h5",60),e._uU(77,"Buscador de art\xedculos"),e.qZA(),e.TgZ(78,"form",61)(79,"input",62),e.NdJ("ngModelChange",function(a){return i.palabrasClave=a}),e.qZA(),e.TgZ(80,"button",63),e.NdJ("click",function(){return i.buscarPublicacionesPorPalabras()}),e._uU(81,"Buscar"),e.qZA()()(),e.TgZ(82,"div",64)(83,"h5",65),e._uU(84,"Twitter"),e.qZA(),e._UZ(85,"div",66)(86,"div",67)(87,"div",68),e.qZA()()()),2&t&&(e.xp6(4),e.Q6J("ngIf",i.imagenInicioIzquierda.url),e.xp6(7),e.Q6J("ngIf",i.publicacionesCarousel[2]),e.xp6(1),e.Q6J("ngIf",i.publicacionesCarousel[3]),e.xp6(1),e.Q6J("ngIf",i.publicacionesCarousel[3]),e.xp6(1),e.Q6J("ngIf",i.publicacionesCarousel[5]),e.xp6(1),e.Q6J("ngIf",i.publicacionesCarousel[6]),e.xp6(1),e.Q6J("ngIf",i.publicacionesCarousel[7]),e.xp6(3),e.s9C("src",i.imagenInicioCentral.url,e.LSH),e.xp6(16),e.Q6J("ngForOf",i.publicacionesCarousel),e.xp6(11),e.Q6J("ngIf",i.imagenInicioDerecha.url),e.xp6(16),e.Q6J("ngForOf",i.publicaciones),e.xp6(8),e.Q6J("ngForOf",i.publicacionesDestacadas),e.xp6(9),e.Q6J("ngModel",i.palabrasClave))},dependencies:[p.sg,p.O5,r._Y,r.Fj,r.JJ,r.JL,r.On,r.F,x],styles:[".inicio[_ngcontent-%COMP%]{background-color:#000}.card[_ngcontent-%COMP%]{border-radius:0;border-style:none;display:inline-flex}.inicio-container[_ngcontent-%COMP%]{margin-top:2%}.letra-blanca[_ngcontent-%COMP%]{color:#fff}.letra-blanca[_ngcontent-%COMP%]:hover{opacity:1;color:#f7c15d}.letra-negra[_ngcontent-%COMP%]{color:#000}.letra-negra[_ngcontent-%COMP%]:hover{opacity:1;color:#7a5003}.rrss[_ngcontent-%COMP%]{position:absolute;top:70%;left:5%}.icono-rrss[_ngcontent-%COMP%]{width:200%}.naranja[_ngcontent-%COMP%]{background-color:#000;height:20px}.promo[_ngcontent-%COMP%]{box-shadow:2px 2px 10px #666}hr[_ngcontent-%COMP%]{color:#ff6d00;border-width:2px}.carrusel[_ngcontent-%COMP%]{box-shadow:2px 2px 10px #666}.recientes[_ngcontent-%COMP%], .destacados[_ngcontent-%COMP%]{height:auto;width:100%;margin-left:0}.publicacion[_ngcontent-%COMP%]{height:auto;display:flex}app-publicacion[_ngcontent-%COMP%]{display:inline-flex}.podcast[_ngcontent-%COMP%]{margin-top:15%;margin-right:10%;background-color:#fff;padding:3%;border-style:ridge;border-color:#000;border-width:1px;box-shadow:2px 2px 10px #666;height:-moz-fit-content;height:fit-content}.buscador[_ngcontent-%COMP%]{margin-top:5%;margin-right:10%;background-color:#ff6d00;padding:3%;border-style:ridge;border-color:#000;border-width:1px;box-shadow:2px 2px 10px #666}.titulo-buscador[_ngcontent-%COMP%]{color:#fff}.twitter[_ngcontent-%COMP%]{margin-top:5%;margin-right:10%;padding:3%;border-style:ridge;border-color:#000;border-width:1px;box-shadow:2px 2px 10px #666;height:-moz-fit-content;height:fit-content}.recomendaciones[_ngcontent-%COMP%]{margin-top:5%;margin-right:10%;padding:5%;border-style:ridge;border-color:#000;border-width:1px;box-shadow:2px 2px 10px #666;height:40%}.boton-login[_ngcontent-%COMP%]{justify-self:right}.titulo-podcast[_ngcontent-%COMP%], .titulo-twitter[_ngcontent-%COMP%], .titulo-publicaciones-lateral[_ngcontent-%COMP%]{color:#ff6d00}.input-buscador[_ngcontent-%COMP%]{width:80%}.carousel-caption[_ngcontent-%COMP%]{opacity:0;transform:translateY(100%)}.carousel-item.active[_ngcontent-%COMP%]   .carousel-caption[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slide-up .8s 1s forwards}.carousel-item[_ngcontent-%COMP%]   .carousel-caption[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slide-down 0s forwards}@keyframes _ngcontent-%COMP%_slide-up{0%{opacity:0;transform:translateY(100%)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slide-down{0%{opacity:1;transform:translateY(0)}50%{opacity:0;transform:translateY(-50%)}to{opacity:0;transform:translateY(100%)}}@keyframes _ngcontent-%COMP%_slidein{0%{transform:translateY(100%)}to{transform:translateY(0)}}@media (max-width: 40em){.letra-blanca[_ngcontent-%COMP%], .letra-negra[_ngcontent-%COMP%]{font-size:1em}.rrss[_ngcontent-%COMP%]{position:absolute;top:70%;left:5%}.icono-rrss[_ngcontent-%COMP%]{width:80%}.titulo-buscador[_ngcontent-%COMP%]{font-size:2vw}.boton-buscador[_ngcontent-%COMP%]{width:20%}.inicio-container[_ngcontent-%COMP%]{margin-top:0%}.seccion-recientes[_ngcontent-%COMP%]{margin-top:0!important;text-align:center}.seccion-destacados[_ngcontent-%COMP%]{text-align:center}  .podcastSM-container{height:80px;margin-bottom:5%}.podcastSM[_ngcontent-%COMP%]{text-align:center;height:50%}.tienda[_ngcontent-%COMP%]{text-align:center}.boton-tienda[_ngcontent-%COMP%]{width:100%;padding:0;margin-bottom:4%;box-shadow:1px 1px 5px #666;border-color:orange;border-width:2px}  iframe{height:100%;margin:0;padding:0;box-shadow:1px 1px 5px #666!important}}@media (min-width: 41em){.texto-carousel[_ngcontent-%COMP%]{font-size:small}.texto-titulo[_ngcontent-%COMP%]{font-size:medium}.boton-buscador[_ngcontent-%COMP%]{width:20%}.inicio-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.inicio[_ngcontent-%COMP%]{width:80%;margin:auto}.zona-articulos[_ngcontent-%COMP%]{margin-top:1%!important}}@media (min-width: 80em){.inicio[_ngcontent-%COMP%]{width:80%;margin:auto}.inicio-container[_ngcontent-%COMP%]{display:flex;justify-content:center}}"]}),n})();var A=d(6282);class fe{constructor(){this.id="",this.fecha="",this.usuario=new A.b}}let F=(()=>{class n{constructor(t){this.http=t,this.endpoint=C.N.urlAPI}getLugares(){return this.http.get(this.endpoint+"/lugares").pipe((0,g.U)(t=>t._embedded.lugares))}getId(t){let o=t._links.self.href.split("/");return o[o.length-1]}postLugar(t){return this.http.post(this.endpoint+"/lugares",t)}patchLugar(t){return this.http.patch(this.endpoint+"/lugares/"+t.id,t)}deleteLugar(t){return this.http.delete(this.endpoint+"/lugares/"+t.id)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(m.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),L=(()=>{class n{constructor(t){this.http=t,this.endpoint=C.N.urlAPI}getTags(){return this.http.get(this.endpoint+"/tags").pipe((0,g.U)(t=>t._embedded.tags))}getId(t){let o=t._links.self.href.split("/");return o[o.length-1]}postTag(t){return this.http.post(this.endpoint+"/tags",t)}patchTag(t){return this.http.patch(this.endpoint+"/tags/"+t.id,t)}deleteTag(t){return this.http.delete(this.endpoint+"/tags/"+t.id)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(m.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),P=(()=>{class n{constructor(t){this.http=t,this.endpoint=C.N.urlAPI}getCategorias(){return this.http.get(this.endpoint+"/categorias/search/categorias").pipe((0,g.U)(t=>t._embedded.categorias))}getCategoria(t){return this.http.get(this.endpoint+"/categorias/"+t)}getCategoriaByCategoriaNombre(t){return this.http.get(this.endpoint+"/categorias/search/categoriaByCategoriaNombre/"+t)}getId(t){let o=t._links.self.href.split("/");return o[o.length-1]}postCategoria(t){return this.http.post(this.endpoint+"/categorias",t)}patchCategoria(t){return this.http.patch(this.endpoint+"/categorias/search/patchCategoria/"+t.id,t)}deleteCategoria(t){return this.http.delete(this.endpoint+"/categorias/"+t.id)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(m.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var M=d(5888);let B=(()=>{class n{constructor(t){this.http=t,this.endpoint=C.N.urlAPI}getLikes(t){return this.http.get(this.endpoint+"/likes/search/likesFromPublicacion/"+t).pipe((0,g.U)(i=>i._embedded.likes))}getId(t){let o=t._links.self.href.split("/");return o[o.length-1]}postLike(t,i){return this.http.post(this.endpoint+"/likes/search/postLike/"+t,i)}patchLike(t){return this.http.patch(this.endpoint+"/likes/"+t.id,t)}deleteLike(t,i){return this.http.delete(this.endpoint+"/likes/search/deleteLikeInPublicacion/"+t,i)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(m.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ce(n,c){if(1&n&&(e.TgZ(0,"p",62),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.lnq("",t.publicacion.autor.nombre," ",t.publicacion.autor.apellido1," ",t.publicacion.autor.apellido2,"")}}const ve=function(n){return[n]};function Ze(n,c){if(1&n&&(e.TgZ(0,"div",63)(1,"p",64),e._uU(2),e.qZA()()),2&n){const t=c.$implicit;e.Q6J("routerLink",e.VKq(2,ve,"/publicaciones-tag/"+t.tagNombre)),e.xp6(2),e.Oqu(t.tagNombre)}}function Te(n,c){if(1&n&&(e.TgZ(0,"div",65)(1,"a",66)(2,"div",67)(3,"p",68),e._uU(4),e.qZA()()()()),2&n){const t=e.oxw();e.xp6(1),e.MGl("href","publicaciones-provincia/",t.publicacion.lugar.lugarNombre,"",e.LSH),e.xp6(3),e.hij(" ",t.publicacion.lugar.lugarNombre,"")}}function xe(n,c){if(1&n&&(e.TgZ(0,"a",69),e._uU(1,"Modificar publicaci\xf3n"),e.qZA()),2&n){const t=e.oxw();e.MGl("href","formulario/",t.publicacion.id,"",e.LSH)}}function we(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"a",70),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.eliminarPublicacion())}),e._uU(1,"Eliminar publicaci\xf3n"),e.qZA()}}function Ae(n,c){1&n&&(e.TgZ(0,"a",71),e._uU(1,"Suscribirme"),e.qZA())}function Pe(n,c){if(1&n&&(e.TgZ(0,"div",77),e._UZ(1,"app-publicacion",78),e.qZA()),2&n){const t=c.$implicit;e.xp6(1),e.Q6J("publicacion",t)}}function Me(n,c){if(1&n&&(e.TgZ(0,"section",72)(1,"div",73)(2,"h5",74),e._uU(3,"Cerca de aqu\xed"),e.qZA()(),e.TgZ(4,"div",75),e.YNc(5,Pe,2,1,"div",76),e.qZA()()),2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.publicacionesCerca)}}function qe(n,c){if(1&n&&(e.TgZ(0,"div",77),e._UZ(1,"app-publicacion",78),e.qZA()),2&n){const t=c.$implicit;e.xp6(1),e.Q6J("publicacion",t)}}function ye(n,c){if(1&n&&(e.TgZ(0,"section",79)(1,"div",80)(2,"h5",74),e._uU(3,"Relacionadas"),e.qZA()(),e.TgZ(4,"div",75),e.YNc(5,qe,2,1,"div",76),e.qZA()()),2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.publicacionesRelacionadas)}}let Se=(()=>{class n{constructor(t,i,o,a,s,h,N,z,G){this.activatedRoute=t,this.publicacionesService=i,this.lugarService=o,this.tagService=a,this.categoriaService=s,this.router=h,this.lateralService=N,this.usuarioService=z,this.likeService=G,this.publicacion=new y,this.titulo="",this.id="",this.publicacionesCerca=[],this.publicacionesRelacionadas=[],this.fechaFormateada="",this.lateral=new T,this.palabrasClave="",this.rol="",this.numeroLikes=""}ngOnInit(){this.getTitulo(),this.rol=sessionStorage.getItem("rol"),"ROLE_ADMIN"==this.rol||"ROLE_WRITER"==this.rol||"ROLE_USER_SUBSCRIBED"==this.rol||"ROLE_USER_MEMBER"==this.rol?this.getPublicacion():this.getPublicacionFree(),this.getLateral()}getTitulo(){this.activatedRoute.params.subscribe(t=>{this.titulo=t.titulo.replaceAll("-"," ")})}getPublicacion(){this.publicacionesService.getPublicacion(this.titulo).subscribe(t=>{this.publicacion=t,this.getFechaPublicacion(),this.publicacion.id=this.publicacionesService.getId(t),this.getLikes(this.publicacion),this.publicacionesService.getAutorFromPublicacion(t).subscribe(i=>{this.publicacion.autor=i}),this.publicacionesService.getTagsFromPublicacion(t).subscribe(i=>{this.publicacion.tags=i,this.publicacion.tags.forEach(o=>{o.id=this.tagService.getId(o)}),this.getPublicacionesRelacionadas()}),this.publicacionesService.getLugarFromPublicacion(t).subscribe(i=>{this.publicacion.lugar=i,this.publicacion.lugar.id=this.lugarService.getId(i),this.getPublicacionesCerca()}),this.publicacionesService.getCategoriaFromPublicacion(t).subscribe(i=>{this.publicacion.categoria=i,this.publicacion.categoria.id=this.categoriaService.getId(i)}),this.publicacion.htmlPublicacion=this.publicacion.htmlPublicacion.replaceAll('<iframe class="ql-video ql-align-center" frameborder="0" allowfullscreen="true" src="https://www.youtube.com','<div class="iframe-container d-flex justify-content-center"><iframe class="ql-video"allowfullscreen="true" tipo="youtube" src="https://www.youtube.com'),this.publicacion.htmlPublicacion=this.publicacion.htmlPublicacion.replaceAll('<iframe class="ql-video ql-align-center" allowfullscreen="true" src="https://www.youtube.com','<div class="iframe-container d-flex justify-content-center"><iframe class="ql-video" allowfullscreen="true" tipo="youtube" src="https://www.youtube.com'),this.publicacion.htmlPublicacion=this.publicacion.htmlPublicacion.replaceAll('<iframe style="border-radius:12px" src="https://open.spotify.com','<div class="iframe-container d-flex justify-content-center"><iframe class="ql-video ql-align-center" allowfullscreen="true" tipo="podcast" src="https://open.spotify.com'),this.publicacion.htmlPublicacion=this.publicacion.htmlPublicacion.replaceAll('<iframe class="ql-video ql-align-center" src="https://open.spotify.com','<div class="iframe-container d-flex justify-content-center"><iframe class="ql-video ql-align-center" allowfullscreen="true" tipo="podcast" src="https://open.spotify.com'),this.publicacion.htmlPublicacion=this.publicacion.htmlPublicacion.replaceAll('<iframe class="ql-video ql-align-center" allowfullscreen="true" src="https://open.spotify.com','<div class="iframe-container d-flex justify-content-center"><iframe class="ql-video ql-align-center" allowfullscreen="true" tipo="podcast" src="https://open.spotify.com'),this.publicacion.htmlPublicacion=this.publicacion.htmlPublicacion.replaceAll('<iframe class="ql-video" src="https://open.spotify.com','<div class="iframe-container d-flex justify-content-center"><iframe class="ql-video ql-align-center" allowfullscreen="true" tipo="podcast" src="https://open.spotify.com'),this.publicacion.htmlPublicacion=this.publicacion.htmlPublicacion.replaceAll('<iframe class="ql-video" allowfullscreen="true" src="https://open.spotify.com','<div class="iframe-container d-flex justify-content-center"><iframe class="ql-video ql-align-center" allowfullscreen="true" tipo="podcast" src="https://open.spotify.com'),this.publicacion.htmlPublicacion=this.publicacion.htmlPublicacion.replaceAll("</iframe>","</iframe></div>"),this.publicacion.htmlPublicacion=this.publicacion.htmlPublicacion.replaceAll('<p class="ql-align-center"><img src="','<p class="ql-align-center imagen-container text-center"><img src="'),this.publicacion.htmlPublicacion=this.publicacion.htmlPublicacion.replaceAll('alt="imagenAlt100">','alt="imagenAlt100"></p>'),this.publicacion.htmlPublicacion=this.publicacion.htmlPublicacion.replaceAll('alt="imagenAlt75">','alt="imagenAlt75"></p>'),this.publicacion.htmlPublicacion=this.publicacion.htmlPublicacion.replaceAll('alt="imagenAlt50">','alt="imagenAlt50"></p>'),this.publicacion.htmlPublicacion=this.publicacion.htmlPublicacion.replaceAll('alt="imagenAlt35">','alt="imagenAlt35"></p>'),this.publicacion.htmlPublicacion=this.publicacion.htmlPublicacion.replaceAll('alt="imagenAlt20">','alt="imagenAlt20"></p>'),this.showPublicacion()})}getPublicacionFree(){this.publicacionesService.getPublicacionFree(this.titulo).subscribe(t=>{this.publicacion=t,this.getFechaPublicacion(),this.publicacion.id=this.publicacionesService.getId(t),this.publicacionesService.getAutorFromPublicacion(t).subscribe(i=>{this.publicacion.autor=i}),this.publicacionesService.getTagsFromPublicacion(t).subscribe(i=>{this.publicacion.tags=i,this.publicacion.tags.forEach(o=>{o.id=this.tagService.getId(o)}),this.getPublicacionesRelacionadas()}),this.publicacionesService.getLugarFromPublicacion(t).subscribe(i=>{this.publicacion.lugar=i,this.publicacion.lugar.id=this.lugarService.getId(i),this.getPublicacionesCerca()}),this.publicacionesService.getCategoriaFromPublicacion(t).subscribe(i=>{this.publicacion.categoria=i,this.publicacion.categoria.id=this.categoriaService.getId(i)}),this.likeService.getLikes(t.id).subscribe(i=>{this.numeroLikes=i.length.toString()}),this.showPublicacion()})}getPublicacionesCerca(){this.publicacionesService.getPublicacionesCerca(this.publicacion.lugar.lugarNombre,this.publicacion.id).subscribe(t=>{this.publicacionesCerca=t,this.publicacionesCerca.forEach(i=>{i.id=this.publicacionesService.getId(i),i.subtitulo=i.subtitulo.substring(0,120)+"...",this.publicacionesService.getCategoriaFromPublicacion(i).subscribe(o=>{i.categoria=o,this.publicacionesService.getAutorFromPublicacion(i).subscribe(a=>{i.autor=a})})})})}getPublicacionesRelacionadas(){this.publicacionesService.getPublicacionesRelacionadas(this.publicacion.id).subscribe(t=>{this.publicacionesRelacionadas=t,this.publicacionesRelacionadas.forEach(i=>{i.id=this.publicacionesService.getId(i),i.subtitulo=i.subtitulo.substring(0,120)+"...",this.publicacionesService.getCategoriaFromPublicacion(i).subscribe(o=>{i.categoria=o,this.publicacionesService.getAutorFromPublicacion(i).subscribe(a=>{i.autor=a})})})})}showPublicacion(){var t=document.querySelector("#body"),i=document.createElement("div");i.innerHTML=this.publicacion.htmlPublicacion,t?.appendChild(i)}eliminarPublicacion(){this.publicacionesService.deletePublicacion(this.publicacion.id).subscribe(t=>{this.router.navigate(["#"])})}getFechaPublicacion(){this.fechaFormateada=this.publicacion.fechaPublicacion.split("T")[0]}getLateral(){this.lateralService.getLateral().subscribe(t=>{this.lateral=t,this.showHtmlPodcast(),this.showHtmlTwitter(),this.showHtmlTwitter2(),this.showHtmlTwitter3(),this.showHtmlPodcastSM()})}showHtmlTwitter(){var t=document.querySelector("#twitter"),i=document.createElement("div");i.classList.add("twitter-tweet"),i.innerHTML=this.lateral.htmlTwitter,t?.appendChild(i)}showHtmlTwitter2(){var t=document.querySelector("#twitter2"),i=document.createElement("div");i.classList.add("twitter-tweet"),i.innerHTML=this.lateral.htmlTwitter2,t?.appendChild(i)}showHtmlTwitter3(){var t=document.querySelector("#twitter3"),i=document.createElement("div");i.classList.add("twitter-tweet"),i.innerHTML=this.lateral.htmlTwitter3,t?.appendChild(i)}showHtmlPodcast(){var t=document.querySelector("#podcast"),i=document.createElement("div");i.innerHTML=this.lateral.htmlPodcast,t?.appendChild(i),console.log(i.innerHTML)}showHtmlPodcastSM(){var t=document.querySelector("#podcastSM"),i=document.createElement("div");i.innerHTML=this.lateral.htmlPodcast,t?.appendChild(i),console.log(i.innerHTML)}buscarPublicacionesPorPalabras(){console.log(this.palabrasClave);let t=this.palabrasClave.split(" ");const i=`/publicaciones-buscador/?palabrasClave=${encodeURIComponent(JSON.stringify(t))}`;this.router.navigateByUrl(i)}like(){this.usuarioService.getUsuarioFromToken().subscribe(t=>{t.id=this.usuarioService.getId(t),(new fe).usuario=t,this.likeService.postLike(this.publicacion.id,t).subscribe(o=>{this.getLikes(this.publicacion)})})}getLikes(t){this.likeService.getLikes(t.id).subscribe(i=>{i.forEach(o=>{o.id=this.likeService.getId(o)}),this.publicacion.likesRecibidos=i,this.numeroLikes=i.length.toString()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.gz),e.Y36(l),e.Y36(F),e.Y36(L),e.Y36(P),e.Y36(b.F0),e.Y36(v),e.Y36(M.J),e.Y36(B))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-publicacion-completa"]],decls:81,vars:12,consts:[[1,"fondo","row","py-3"],[1,"col-12","col-sm-9"],[1,"hoja"],[1,"text-center"],[1,"datos"],[1,"col-12","col-sm-4","columna-autor"],[1,"row","d-flex","align-items-center","autor"],[1,"d-none","d-sm-block","col-sm-3","justify-content-center","align-items-center"],["src","../../../../assets/eli.jpeg","alt","",1,"foto-autor"],[1,"col-12","col-sm-9","text-center"],["class","autor",4,"ngIf"],[1,"col-12","col-sm-5","text-center"],[1,"row","justify-content-center"],["class","tag m-1",3,"routerLink",4,"ngFor","ngForOf"],["class","row d-flex justify-content-center lugar my-1",4,"ngIf"],[1,"col-12","col-sm-3","rrss"],[1,"row","p-3","p-md-1","mt-1"],[1,"col-2","my-1","icono-rrss-container"],["href","https://www.facebook.com/elisabethgiborra"],["src","../../../../assets/facebookIcon.png","alt","",1,"icono-rrss"],["href","https://www.instagram.com/vermu.torero/"],["src","../../../../assets/instagramIcon.png","alt","",1,"icono-rrss"],["href","http://es.linkedin.com/in/elisabethgiborra"],["src","../../../../assets/linkedinIcon.png","alt","",1,"icono-rrss"],["href","https://twitter.com/elisabethiborra"],["src","../../../../assets/twitterIcon.png","alt","",1,"icono-rrss"],[1,"col-1","my-1","icono-rrss-container","likes-container","text-center"],["data-bs-toggle","modal","data-bs-target","#likeModal",1,"likes","col-12","text-center","d-flex",3,"click"],["src","../../../../assets/like.png","alt","like",1,"icono-like"],[1,"numero"],["id","body",1,"body"],["class","btn btn-outline-warning m-2","style","width: fit-content;",3,"href",4,"ngIf"],["class","btn btn-outline-danger m-2","style","width: fit-content;",3,"click",4,"ngIf"],["class","btn btn-outline-primary m-2","style","width: fit-content;","href","suscripcion",4,"ngIf"],[1,"d-none","d-sm-block","col-sm-3"],["id","podcast",1,"row","podcast","lateral","mb-4"],[1,"row","titulo-podcast"],[1,"row","buscador","lateral","mb-4"],[1,"row","titulo-buscador"],["role","search",1,"d-flex"],["placeholder","Buscar","aria-label","Buscar","id","palabrasClave","name","palabrasClave",1,"form-control","me-2","input-buscador",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-outline-light","btn-sm",3,"click"],[1,"row","twitter","lateral","mb-4"],[1,"row","titulo-twitter"],["id","twitter",1,"col-12"],["id","twitter2",1,"col-12"],["id","twitter3",1,"col-12"],["class","row lateral mb-4",4,"ngIf"],["class","row lateral mb-3",4,"ngIf"],["id","likeModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row","text-center","m-3"],["href","invitar-vino"],["src","../../../../assets/invitar-vino.png","alt","",1,"invitar-vino","img-fluid"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["data-bs-dismiss","modal",1,"btn","btn-primary"],[1,"autor"],[1,"tag","m-1",3,"routerLink"],[1,"tagNombre"],[1,"row","d-flex","justify-content-center","lugar","my-1"],[1,"link",3,"href"],[1,"lugar"],[1,"lugarNombre","text-center"],[1,"btn","btn-outline-warning","m-2",2,"width","fit-content",3,"href"],[1,"btn","btn-outline-danger","m-2",2,"width","fit-content",3,"click"],["href","suscripcion",1,"btn","btn-outline-primary","m-2",2,"width","fit-content"],[1,"row","lateral","mb-4"],[1,"col-12","pt-4"],[1,"titulo-publicaciones-lateral"],[1,"col-12","preview"],["style","display:inline-block;","class","card",4,"ngFor","ngForOf"],[1,"card",2,"display","inline-block"],[3,"publicacion"],[1,"row","lateral","mb-3"],[1,"col-12","mt-4"]],template:function(t,i){1&t&&(e.TgZ(0,"main",0)(1,"section",1)(2,"section",2)(3,"h2",3)(4,"b"),e._uU(5),e.qZA()(),e.TgZ(6,"section",4)(7,"section",5)(8,"div",6)(9,"div",7),e._UZ(10,"img",8),e.qZA(),e.TgZ(11,"div",9),e.YNc(12,Ce,2,3,"p",10),e.qZA()()(),e.TgZ(13,"section",11)(14,"div",12),e.YNc(15,Ze,3,4,"div",13),e.qZA(),e.YNc(16,Te,5,2,"div",14),e.qZA(),e.TgZ(17,"section",15)(18,"div",16)(19,"div",17)(20,"a",18),e._UZ(21,"img",19),e.qZA()(),e.TgZ(22,"div",17)(23,"a",20),e._UZ(24,"img",21),e.qZA()(),e.TgZ(25,"div",17)(26,"a",22),e._UZ(27,"img",23),e.qZA()(),e.TgZ(28,"div",17)(29,"a",24),e._UZ(30,"img",25),e.qZA()(),e.TgZ(31,"div",26)(32,"div",27),e.NdJ("click",function(){return i.like()}),e._UZ(33,"img",28),e.TgZ(34,"p",29)(35,"b"),e._uU(36),e.qZA()()()()()()(),e._UZ(37,"hr")(38,"section",30),e.TgZ(39,"div",3)(40,"p"),e._uU(41),e.qZA()(),e.TgZ(42,"div",12),e.YNc(43,xe,2,1,"a",31),e.YNc(44,we,2,0,"a",32),e.YNc(45,Ae,2,0,"a",33),e.qZA()()(),e.TgZ(46,"section",34)(47,"section",35)(48,"h5",36),e._uU(49,"Podcast"),e.qZA()(),e.TgZ(50,"section",37)(51,"h5",38),e._uU(52,"Buscador de art\xedculos"),e.qZA(),e.TgZ(53,"form",39)(54,"input",40),e.NdJ("ngModelChange",function(a){return i.palabrasClave=a}),e.qZA(),e.TgZ(55,"button",41),e.NdJ("click",function(){return i.buscarPublicacionesPorPalabras()}),e._uU(56,"Buscar"),e.qZA()()(),e.TgZ(57,"section",42)(58,"h5",43),e._uU(59,"Twitter"),e.qZA(),e._UZ(60,"div",44)(61,"div",45)(62,"div",46),e.qZA(),e.YNc(63,Me,6,1,"section",47),e.YNc(64,ye,6,1,"section",48),e.qZA()(),e.TgZ(65,"div",49)(66,"div",50)(67,"div",51)(68,"div",52)(69,"h1",53),e._uU(70,"\xa1Gracias por darle a Like!"),e.qZA(),e._UZ(71,"button",54),e.qZA(),e.TgZ(72,"div",55)(73,"div",56)(74,"a",57),e._UZ(75,"img",58),e.qZA()()(),e.TgZ(76,"div",59)(77,"button",60),e._uU(78,"Cerrar"),e.qZA(),e.TgZ(79,"button",61),e._uU(80,"Invitar"),e.qZA()()()()()),2&t&&(e.xp6(5),e.Oqu(i.publicacion.titulo),e.xp6(7),e.Q6J("ngIf",i.publicacion.autor),e.xp6(3),e.Q6J("ngForOf",i.publicacion.tags),e.xp6(1),e.Q6J("ngIf",i.publicacion.lugar),e.xp6(20),e.Oqu(i.numeroLikes),e.xp6(5),e.hij("Publicado el ",i.fechaFormateada,""),e.xp6(2),e.Q6J("ngIf","ROLE_ADMIN"==i.rol||"ROLE_WRITER"==i.rol),e.xp6(1),e.Q6J("ngIf","ROLE_ADMIN"==i.rol),e.xp6(1),e.Q6J("ngIf","ROLE_ADMIN"!==i.rol&&"ROLE_WRITER"!==i.rol&&"ROLE_USER_MEMBER"!==i.rol&&"ROLE_USER_SUBSCRIBED"!==i.rol),e.xp6(9),e.Q6J("ngModel",i.palabrasClave),e.xp6(9),e.Q6J("ngIf",i.publicacionesCerca[0]),e.xp6(1),e.Q6J("ngIf",i.publicacionesRelacionadas[0]))},dependencies:[p.sg,p.O5,b.rH,r._Y,r.Fj,r.JJ,r.JL,r.On,r.F,x],styles:[".hoja[_ngcontent-%COMP%]{background-color:#fff;margin:0% 11% 0% 14%;padding:8%;box-shadow:2px 2px 10px #666}.lateral[_ngcontent-%COMP%]{background-color:#fff;box-shadow:2px 2px 10px #666;margin-right:0%;display:flex}.publicaciones-cerca[_ngcontent-%COMP%]{align-content:start}.card[_ngcontent-%COMP%]{margin-top:2%;margin-bottom:4%;padding-top:0%;display:flex;border-width:1;background-color:#f0f0f0;height:-moz-fit-content!important;height:fit-content!important}.fondo[_ngcontent-%COMP%]{background-color:#cdcdcd;margin-top:0%;margin-bottom:0%;padding-bottom:0%;padding-right:3%}.tag[_ngcontent-%COMP%]{background-color:orange;border-radius:15px;height:1rem;width:auto;cursor:pointer;cursor:hand;justify-items:center;display:flex;align-items:center;justify-content:center;padding-left:1.5%;padding-right:1.5%}.tag[_ngcontent-%COMP%]:hover{opacity:.5}.tagNombre[_ngcontent-%COMP%]{font-size:small;margin:0}.lugar[_ngcontent-%COMP%]{background-color:#a2ebde;border-radius:15px;height:1rem;width:-moz-fit-content;width:fit-content;margin:0 auto;display:flex;align-items:center;justify-content:center}.lugar[_ngcontent-%COMP%]:hover{opacity:.5}.lugarNombre[_ngcontent-%COMP%]{font-size:small;margin:0}.foto-autor[_ngcontent-%COMP%]{width:45px;border-radius:50%}.foto-autor[_ngcontent-%COMP%]:hover{opacity:.5}.icono-rrss-container[_ngcontent-%COMP%]{margin:auto}.icono-rrss[_ngcontent-%COMP%]:hover{opacity:.5}.invitar-vino[_ngcontent-%COMP%]{width:15em}.icono-like[_ngcontent-%COMP%]{width:1.5em;cursor:pointer;cursor:hand}.icono-like[_ngcontent-%COMP%]:hover{opacity:.5}.icono-vino[_ngcontent-%COMP%]{width:2em;cursor:pointer;cursor:hand}.icono-vino[_ngcontent-%COMP%]:hover{opacity:.5}.numero[_ngcontent-%COMP%]{vertical-align:middle;font-size:x-small}.modal-header[_ngcontent-%COMP%]{background-color:#ff6d00;color:#fff}.podcast[_ngcontent-%COMP%]{margin-top:3%;background-color:#fff;padding:3%;border-style:ridge;border-color:#000;border-width:1px;box-shadow:2px 2px 10px #666;height:-moz-fit-content;height:fit-content}.buscador[_ngcontent-%COMP%]{margin-top:5%;background-color:#ff6d00;padding:3%;border-style:ridge;border-color:#000;border-width:1px;box-shadow:2px 2px 10px #666}.titulo-buscador[_ngcontent-%COMP%]{color:#fff}.twitter[_ngcontent-%COMP%]{margin-top:5%;padding:3%;border-style:ridge;border-color:#000;border-width:1px;box-shadow:2px 2px 10px #666;height:-moz-fit-content;height:fit-content}.titulo-podcast[_ngcontent-%COMP%], .titulo-twitter[_ngcontent-%COMP%]{color:#ff6d00}.input-buscador[_ngcontent-%COMP%]{width:80%}.titulo-publicaciones-lateral[_ngcontent-%COMP%]{color:#ff6d00}@media (max-width: 40em){  img[alt=imagenAlt100]{width:100%!important}  img[alt=imagenAlt75]{width:90%!important}  img[alt=imagenAlt50]{width:70%!important}  img[alt=imagenAlt35]{width:60%!important}  img[alt=imagenAlt20]{width:50%!important}  .iframe-container{width:100%!important;height:-moz-fit-content!important;height:fit-content!important}  iframe[tipo=podcast]{width:100%!important;height:25vw!important}  iframe[tipo=youtube]{width:100%!important;height:48vw!important}.icono-rrss[_ngcontent-%COMP%]{width:8vw}.autor[_ngcontent-%COMP%]{margin-top:3%;font-size:small}.hoja[_ngcontent-%COMP%]{background-color:#fff;margin:0% 1% 0% 3%;padding:4%;box-shadow:2px 2px 10px #666}}@media (min-width: 41em){  img[alt=imagenAlt100]{width:100%!important}  img[alt=imagenAlt75]{width:75%!important}  img[alt=imagenAlt50]{width:50%!important}  img[alt=imagenAlt35]{width:35%!important}  img[alt=imagenAlt20]{width:20%!important}  iframe[tipo=podcast]{width:75%!important;height:220px!important}  iframe[tipo=youtube]{width:80%!important;height:28vw!important}.icono-rrss[_ngcontent-%COMP%]{width:2vw}.autor[_ngcontent-%COMP%]{margin-top:3%;font-size:medium}.datos[_ngcontent-%COMP%]{display:flex}.hoja[_ngcontent-%COMP%]{background-color:#fff;margin:0% 2% 0% 4%;padding:8%;box-shadow:2px 2px 10px #666}}@media (min-width: 81em){.lateral[_ngcontent-%COMP%]{padding-left:5%;padding-right:5%;padding-bottom:10%}.hoja[_ngcontent-%COMP%]{background-color:#fff;margin:0% 11% 0% 14%;padding:8%;box-shadow:2px 2px 10px #666}  iframe[tipo=youtube]{width:90%!important;height:24vw!important}}a[_ngcontent-%COMP%]:link, a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:active{text-decoration:none;color:#000}  a{color:#d17103}.likes-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.likes[_ngcontent-%COMP%]{margin:0}"]}),n})();var Ue=d(9971),Ie=d.n(Ue);class I{constructor(){this.id="",this.tagNombre=""}}var k=d(4327),f=d(907);class R{constructor(){this.id="",this.categoriaNombre="",this.categoriaDescripcion="",this.urlImagen=""}}var Q=d(5950);const Ne=["angularCropper"],Oe=["angularCropper2"];function Ee(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"textarea",96),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.publicacion.titulo=o)})("keyup",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.contarPalabrasTitulo())}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t.publicacion.titulo)}}function Je(n,c){if(1&n&&(e.TgZ(0,"option",99),e._uU(1),e.qZA()),2&n){const t=c.$implicit;e.s9C("value",t.id),e.xp6(1),e.lnq(" ",t.nombre," ",t.apellido1," ",t.apellido2,"")}}function Fe(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",97)(1,"select",98),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.publicacion.autor.id=o)}),e.YNc(2,Je,2,4,"option",87),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.publicacion.autor.id),e.xp6(1),e.Q6J("ngForOf",t.autores)}}function Le(n,c){if(1&n&&(e.TgZ(0,"option",99),e._uU(1),e.qZA()),2&n){const t=c.$implicit;e.s9C("value",t.id),e.xp6(1),e.hij(" ",t.lugarNombre,"")}}function ke(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",97)(1,"select",100),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.publicacion.lugar.id=o)}),e.YNc(2,Le,2,2,"option",87),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.publicacion.lugar.id),e.xp6(1),e.Q6J("ngForOf",t.lugares)}}function Re(n,c){if(1&n&&(e.TgZ(0,"option",99),e._uU(1),e.qZA()),2&n){const t=c.$implicit;e.s9C("value",t.id),e.xp6(1),e.hij(" ",t.categoriaNombre,"")}}function Qe(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",97)(1,"select",101),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.publicacion.categoria.id=o)}),e.YNc(2,Re,2,2,"option",87),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.publicacion.categoria.id),e.xp6(1),e.Q6J("ngForOf",t.categorias)}}function je(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",102)(1,"p",103),e._uU(2),e.qZA(),e.TgZ(3,"div",104),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.eliminarTag(a.id))}),e._UZ(4,"img",105),e.qZA()()}if(2&n){const t=c.$implicit;e.xp6(2),e.Oqu(t.tagNombre)}}function Ye(n,c){if(1&n&&(e.TgZ(0,"div",106),e._UZ(1,"img",107),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.s9C("src",t.imagePreviewUrl,e.LSH)}}function De(n,c){1&n&&(e.TgZ(0,"div",106),e._UZ(1,"img",108),e.qZA())}function He(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"button",109),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.patchPublicacion())}),e._uU(1," Modificar "),e.qZA()}}function ze(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"button",109),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.postPublicacion())}),e._uU(1," Publicar "),e.qZA()}}function Ge(n,c){if(1&n&&(e.TgZ(0,"section"),e._UZ(1,"angular-cropper",110,111),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("imageUrl",t.imageUrl)}}function Be(n,c){1&n&&e._UZ(0,"section")}const Ve=function(n){return{aspectRatio:n}};function $e(n,c){if(1&n&&(e.TgZ(0,"section"),e._UZ(1,"angular-cropper",112,113),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("cropperOptions",e.VKq(2,Ve,1.5))("imageUrl",t.imagePreviewUrl)}}function Ke(n,c){if(1&n&&(e.TgZ(0,"option",99),e._uU(1),e.qZA()),2&n){const t=c.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.tagNombre)}}new(Ie())("#editor",{theme:"snow",scrollingContainer:"#scrolling-container"});let V=(()=>{class n{constructor(t,i,o,a,s,h,N,z,G){this.router=t,this.activatedRoute=i,this.publicacionesService=o,this.tagsService=a,this.usuariosService=s,this.imagenesService=h,this.categoriasService=N,this.lugaresService=z,this.likeService=G,this.angularCropper=new f.V2,this.angularCropper2=new f.V2,this.id="",this.publicacion=new y,this.texto="",this.urlImagen="",this.urlVideo="",this.htmlPodcast="",this.htmlVideo="",this.fechaPublicacion="",this.endpointTags=C.N.urlAPI+"/tags/",this.endpointAutores=C.N.urlAPI+"/autores/",this.endpointCategorias=C.N.urlAPI+"/categorias/",this.imageUrl="",this.imagePreviewUrl="",this.imageName="",this.croppedresult="",this.anchoImagen="100",this.lugares=[],this.categorias=[],this.tags=[],this.tagNueva=new I,this.autores=[],this.tagsSeleccionadas=[],this.tagSeleccionada=new I,this.lugarSeleccionado=new _,this.categoriaSeleccionada=new R,this.palabrasTitulo=0,this.palabrasDescripcion=0,this.numeroLikes=""}ngOnInit(){this.publicacion.autor=new A.b,this.publicacion.categoria=new R,this.getTags(),this.getAutores(),this.getCategorias(),this.getLugares(),this.activatedRoute.params.subscribe(t=>{this.id=t.id,this.id&&this.getPublicacion(),this.ajustarEditor()})}ajustarEditor(){setTimeout(()=>{document.getElementsByClassName("ql-editor")[0].setAttribute("style","height: 700px")},500)}getId(){this.activatedRoute.params.subscribe(t=>{this.id=t.id})}getPublicacion(){this.publicacionesService.getPublicacionById(this.id).subscribe(t=>{this.publicacion=t,this.publicacion.id=this.id,this.imagePreviewUrl=this.publicacion.imagenPreviewUrl,this.getAutorPublicacion(),this.getLugarPublicacion(),this.getCategoriaPublicacion(),this.getTagsPublicacion(),this.getFechaPublicacion(),this.getLikes(t),console.log("PUBLICACION CARGADA:",this.publicacion),this.publicacion.htmlPublicacion=this.publicacion.htmlPublicacion.replaceAll('width="100%" height="352"','width="80%" height="200"'),this.texto=this.publicacion.htmlPublicacion,this.publicacion.htmlPublicacion=this.publicacion.htmlPublicacion.replaceAll('width="560" height="315"','width="90%" height="auto"')})}agregarPodcast(){this.htmlPodcast=this.htmlPodcast.replace("></iframe>",'tipo ="podcast"></iframe>'),this.texto=this.texto+this.htmlPodcast}agregarVideo(){this.htmlPodcast=this.htmlPodcast.replace("></iframe>",'tipo ="youtube"></iframe>'),this.texto=this.texto+this.htmlVideo,this.htmlVideo=""}postPublicacion(){""==this.publicacion.titulo||""==this.publicacion.autor.id||""==this.publicacion.lugar.id||""==this.publicacion.categoria.id?$("#errorModal").modal("show"):(this.publicacion.htmlPublicacion=this.texto,this.publicacion.tags=[],this.tagsSeleccionadas.forEach(t=>{this.publicacion.tags.push(t)}),this.descargarTxt(),this.publicacionesService.postPublicacion(this.publicacion).subscribe(t=>{this.getPublicacion(),this.descargarTxt(),$("#enviadoModal").modal("show");let i="/../publicaciones/"+t.titulo.replaceAll(" ","-");console.log("navegando a: "+i),this.router.navigate([i])}))}patchPublicacion(){this.publicacion.htmlPublicacion=this.texto,this.publicacion.tags=[],this.publicacion.tags=this.tagsSeleccionadas,this.publicacionesService.patchPublicacion(this.publicacion).subscribe(t=>{this.getPublicacion(),this.descargarTxt();let i="/../../publicaciones/"+t.titulo.replaceAll(" ","-");console.log("navegando a: "+i),this.router.navigate([i])})}descargarTxt(){let t=JSON.stringify(this.autores),i=JSON.stringify(this.tags),o=JSON.stringify(this.publicacion);var a=new Blob([o],{type:"text/plain;charset=utf-8"}),s=new Blob([i],{type:"text/plain;charset=utf-8"}),h=new Blob([t],{type:"text/plain;charset=utf-8"});(0,k.saveAs)(a,this.publicacion.titulo+".txt"),(0,k.saveAs)(s,"tags.txt"),(0,k.saveAs)(h,"autores.txt")}getTags(){this.tagsService.getTags().subscribe(t=>{this.tags=t,this.tags.forEach(i=>{i.id=this.tagsService.getId(i)}),console.log("TAGS CON ID:",this.tags)})}agregarTag(){this.tags.forEach(t=>{t.id==this.tagSeleccionada.id&&(this.tagSeleccionada.tagNombre=t.tagNombre)}),this.tagsSeleccionadas.push(this.tagSeleccionada),console.log("TAGS SELECCIONADAS",this.tagsSeleccionadas),this.tagSeleccionada=new I}eliminarTag(t){for(let i=0;i<this.tagsSeleccionadas.length;i++)this.tagsSeleccionadas[i].id==t&&this.tagsSeleccionadas.splice(i,1);console.log("TAGS SEL DESP BORRAR",this.tagsSeleccionadas)}nuevaTag(){this.tagsService.postTag(this.tagNueva).subscribe(t=>{t.id=this.tagsService.getId(t),this.getTags(),this.tagSeleccionada.id=t.id,this.tagSeleccionada.tagNombre=t.tagNombre,this.agregarTag()})}getTagsPublicacion(){this.publicacionesService.getTagsFromPublicacion(this.publicacion).subscribe(t=>{t.forEach(i=>{i.id=this.tagsService.getId(i)}),this.publicacion.tags=t,console.log("TAGS PUBLICACION:",this.publicacion.tags),this.tagsSeleccionadas=t})}getAutores(){this.usuariosService.getAutores().subscribe(t=>{console.log(t),this.autores=t,this.autores.forEach(i=>{i.id=this.usuariosService.getId(i)}),console.log("AUTORES CON ID:",this.autores)})}getAutorPublicacion(){this.publicacionesService.getAutorFromPublicacion(this.publicacion).subscribe(t=>{t.id=this.usuariosService.getId(t),console.log("AUTOR PUBLICACION:",t),this.publicacion.autor=t})}getCategorias(){this.categoriasService.getCategorias().subscribe(t=>{this.categorias=t,this.categorias.forEach(i=>{i.id=this.categoriasService.getId(i)}),console.log("CATEGORIAS RECIBIDAS: ",this.categorias)})}getCategoriaPublicacion(){this.publicacionesService.getCategoriaFromPublicacion(this.publicacion).subscribe(t=>{t.id=this.categoriasService.getId(t),console.log("CATEG: ",t),this.publicacion.categoria=t,this.categoriaSeleccionada=t})}getFechaPublicacion(){this.publicacion.fechaPublicacion&&(this.fechaPublicacion=this.publicacion.fechaPublicacion.split("T")[0])}getLugares(){this.lugaresService.getLugares().subscribe(t=>{this.lugares=t,this.lugares.forEach(i=>{i.id=this.lugaresService.getId(i)}),console.log("LUGARES RECIBIDOS: ",this.lugares)})}getLugarPublicacion(){this.publicacionesService.getLugarFromPublicacion(this.publicacion).subscribe(t=>{t.id=this.lugaresService.getId(t),this.publicacion.lugar=t,this.lugarSeleccionado=t})}onSelectFile(t){if(t.target.files&&t.target.files[0]){const i=new FileReader;i.readAsDataURL(t.target.files[0]),i.onload=()=>{this.imageUrl=i.result},console.log("EVENT",t.target.files[0]),this.imageName=t.target.files[0].name}console.log("IMAGEN SELECCIONADA EN PC: ",this.imageUrl)}onSelectFilePreview(t){if(t.target.files&&t.target.files[0]){const i=new FileReader;i.readAsDataURL(t.target.files[0]),i.onload=()=>{this.imagePreviewUrl=i.result},console.log("EVENT",t.target.files[0]),this.imageName=t.target.files[0].name}console.log("IMAGEN SELECCIONADA EN PC: ",this.imagePreviewUrl)}getCroppedImage(){this.angularCropper.cropper.getCroppedCanvas().toBlob(t=>{const i=new FileReader;i.readAsDataURL(t),i.onload=()=>{this.croppedresult=i.result;let a=new File([t],this.imageName,{type:"image/jpeg"});this.imagenesService.subirImagen(a,this.publicacion.titulo,"publicacion").subscribe(s=>{console.log("URL IMAGEN SUBIDA: ",s),this.insertarImagenUrl(s)})}},"image/jpeg",.7)}getCroppedImagePreview(){this.angularCropper2.cropper.getCroppedCanvas().toBlob(t=>{const i=new FileReader;i.readAsDataURL(t),i.onload=()=>{this.croppedresult=i.result;let a=new File([t],this.imageName,{type:"image/jpeg"});this.imagenesService.subirImagen(a,this.publicacion.id,"publicacion").subscribe(s=>{this.setImagePreview(s)})}},"image/jpeg",.7)}insertarImagenUrl(t){this.texto=this.texto+'<img src="'+t+'" alt="imagenAlt'+this.anchoImagen+'">',t="",this.imageUrl="",this.imageName=""}setImagePreview(t){this.publicacion.imagenPreviewUrl=t,this.imagePreviewUrl=t}contarPalabrasTitulo(){let t=this.publicacion.titulo.split(" ");this.palabrasTitulo=t.length-1}contarPalabrasDescripcion(){let t=this.publicacion.subtitulo.split(" ");this.palabrasDescripcion=t.length-1}getLikes(t){this.likeService.getLikes(t.id).subscribe(i=>{i.forEach(o=>{o.id=this.likeService.getId(o)}),this.publicacion.likesRecibidos=i,this.numeroLikes=i.length.toString()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.F0),e.Y36(b.gz),e.Y36(l),e.Y36(L),e.Y36(M.J),e.Y36(u.j),e.Y36(P),e.Y36(F),e.Y36(B))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-publicacion-ficha"]],viewQuery:function(t,i){if(1&t&&(e.Gf(Ne,5),e.Gf(Oe,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.angularCropper=o.first),e.iGM(o=e.CRH())&&(i.angularCropper2=o.first)}},decls:243,vars:28,consts:[["id","publicacion"],["action","",1,"m-2"],[1,"row","m-3","titulo","justify-content-center"],["class","row text-titulo","type","text","name","titulo","placeholder","Titulo (*Obligatorio)","maxlength","100",3,"ngModel","ngModelChange","keyup",4,"ngIf"],[1,"row","recomendacion-titulo"],[1,"row"],[1,"datos","col-12","col-sm-5","mt-1"],[1,"text-center"],[1,"m-4","row","row-dato"],[1,"col-3","m-1"],["class","col-6 m-2",4,"ngIf"],[1,"col-2","texto-obligatorio"],[1,"tags-container"],[1,"m-4","row","justify-content-center"],["data-bs-toggle","modal","data-bs-target","#agregarTagModal",1,"btn","btn-success","boton-agregar-tag"],[1,"row","justify-content-center","row-tags"],["class","tag m-2 col-2",4,"ngFor","ngForOf"],[1,"m-4","row"],[1,"col-4"],["for","premium"],["type","checkbox","name","premium",1,"m-1",3,"ngModel","ngModelChange"],["for","destacado"],["type","checkbox","name","destacado",1,"m-1",3,"ngModel","ngModelChange"],["type","checkbox","name","carousel",1,"m-1",3,"ngModel","ngModelChange"],[1,"col-12","col-sm-6","mt-3","preview"],[1,"row","align-items-center","justify-content-center","my-2"],[1,"col-12","col-lg-6","publicacion-preview"],["class","card-image",4,"ngIf"],[1,"card-body"],[2,"display","block"],[1,"card-title","text-center","m-1",2,"height","5vh"],[1,"card-text","text-center"],["type","text","name","subtitulo","rows","3","maxlength","210","placeholder","Descripci\xf3n de la publicaci\xf3n (para preview)",1,"row","text-descripcion","mt-4","mb-2","mx-1",3,"ngModel","ngModelChange","keyup"],[1,"row","recomendacion-titulo","mx-1"],[1,"color-letra","m-2"],["for","colorLetra",1,"mx-2"],["type","checkbox","name","colorLetra",3,"ngModel","ngModelChange"],[1,"text-center","mt-4"],[1,"editor-container","mx-3"],[1,"m-1","agregar-bloque-texto","row","form-group","text-center"],[1,"row","col-12","col-sm-1"],[1,"col-4","col-sm-12"],["type","button","data-bs-toggle","modal","data-bs-target","#imagenModal",1,"btn"],["src","../../../../assets/icono-foto.png","alt","",1,"icono-youtube"],["type","button","data-bs-toggle","modal","data-bs-target","#videoModal",1,"btn"],["src","../../../../assets/icono-youtube.jpg","alt","",1,"icono-youtube"],["type","button","data-bs-toggle","modal","data-bs-target","#podcastModal",1,"btn"],["src","../../../../assets/icono-spotify.png","alt","",1,"icono-spotify"],["id","editor",1,"col-11","editor-container"],["name","editor","id","editor",1,"quill-editor","my-2","py-4",3,"ngModel","ngModelChange"],[1,"row","text-center","m-4"],["type","button","class","btn btn-warning col-4",3,"click",4,"ngIf"],["id","podcastModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["type","text","name","","placeholder","Url del podcast Spotify","rows","1",2,"width","95%",3,"ngModel","ngModelChange"],["src","../../../../assets/copiar_codigo_spotify.png","alt","",1,"img-fluid","my-4"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["data-bs-dismiss","modal",1,"btn","btn-primary",3,"click"],["id","videoModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["type","text","name","","placeholder","Url del video de Youtube","rows","1",2,"width","95%",3,"ngModel","ngModelChange"],["src","../../../../assets/copiar_codigo_youtube.png","alt","",1,"img-fluid","my-4"],["id","imagenModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"my-2"],["type","file","accept","images/",3,"change"],[4,"ngIf"],[1,"my-4"],["for","",1,"mx-2"],["type","text",3,"ngModel","ngModelChange"],["value","100"],["value","75"],["value","50"],["value","35"],["value","20"],["id","imagenAutorModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["data-bs-dismiss","modal",1,"btn","btn-primary"],["id","imagenPreviewModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],["id","agregarTagModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"row","tag-existente-container"],["for","",1,"mx-2","col-3"],["name","tag4","id","tg4",1,"col-6",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["data-bs-dismiss","modal",1,"col-2","btn","btn-primary","m-1",3,"click"],[1,"row","nueva-tag-container"],["for","titulo",1,"col-3","mx-2"],["type","text","name","tagNueva",1,"col-6",3,"ngModel","ngModelChange"],["id","errorModal","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],["id","staticBackdropLabel",1,"modal-title","fs-5"],["id","enviadoModal","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary"],["type","text","name","titulo","placeholder","Titulo (*Obligatorio)","maxlength","100",1,"row","text-titulo",3,"ngModel","ngModelChange","keyup"],[1,"col-6","m-2"],["name","autorSeleccionado","id","autorSeleccionado",3,"ngModel","ngModelChange"],[3,"value"],["name","lugar","id","lugar",3,"ngModel","ngModelChange"],["name","autor","id","categoria",3,"ngModel","ngModelChange"],[1,"tag","m-2","col-2"],[1,"tag-nombre","px-2"],[1,"boton-eliminar",3,"click"],["src","../../../../assets/x-eliminar.png","alt","",2,"height","1rem","width","1rem"],[1,"card-image"],["alt","","data-bs-toggle","modal","data-bs-target","#imagenPreviewModal",1,"img-card","img-fluid","w-100","my-2",3,"src"],["src","../../../../assets/no-imagen.png","alt","","data-bs-toggle","modal","data-bs-target","#imagenPreviewModal",1,"img-card","img-fluid","w-100","my-2"],["type","button",1,"btn","btn-warning","col-4",3,"click"],[3,"imageUrl"],["angularCropper",""],[3,"cropperOptions","imageUrl"],["angularCropper2",""]],template:function(t,i){1&t&&(e.TgZ(0,"body",0)(1,"form",1)(2,"div",2),e.YNc(3,Ee,1,1,"textarea",3),e.TgZ(4,"p",4),e._uU(5),e.qZA()(),e.TgZ(6,"div",5)(7,"div",6)(8,"h3",7),e._uU(9,"Datos"),e.qZA(),e.TgZ(10,"div",8)(11,"p",9),e._uU(12,"Autor:"),e.qZA(),e.YNc(13,Fe,3,2,"div",10),e.TgZ(14,"div",11)(15,"p"),e._uU(16,"*Obligatorio"),e.qZA()()(),e.TgZ(17,"div",8)(18,"p",9),e._uU(19,"Lugar:"),e.qZA(),e.YNc(20,ke,3,2,"div",10),e.TgZ(21,"div",11)(22,"p"),e._uU(23,"*Obligatorio"),e.qZA()()(),e.TgZ(24,"div",8)(25,"p",9),e._uU(26,"Categoria:"),e.qZA(),e.YNc(27,Qe,3,2,"div",10),e.TgZ(28,"div",11)(29,"p"),e._uU(30,"*Obligatorio"),e.qZA()()(),e.TgZ(31,"div",8)(32,"div",12)(33,"div",13)(34,"button",14),e._uU(35," Agregar tag "),e.qZA()(),e.TgZ(36,"div",15),e.YNc(37,je,5,1,"div",16),e.qZA()()(),e.TgZ(38,"div",17)(39,"div",18)(40,"label",19),e._uU(41,"Premium"),e.qZA(),e.TgZ(42,"input",20),e.NdJ("ngModelChange",function(a){return i.publicacion.premium=a}),e.qZA()(),e.TgZ(43,"div",18)(44,"label",21),e._uU(45,"Destacado"),e.qZA(),e.TgZ(46,"input",22),e.NdJ("ngModelChange",function(a){return i.publicacion.destacado=a}),e.qZA()(),e.TgZ(47,"div",18)(48,"label",21),e._uU(49,"Carousel"),e.qZA(),e.TgZ(50,"input",23),e.NdJ("ngModelChange",function(a){return i.publicacion.carousel=a}),e.qZA()()()(),e.TgZ(51,"div",24)(52,"h3",7),e._uU(53,"Preview"),e.qZA(),e.TgZ(54,"div",25)(55,"div",26),e.YNc(56,Ye,2,1,"div",27),e.YNc(57,De,2,0,"div",27),e.TgZ(58,"div",28)(59,"div",29)(60,"h5",30)(61,"b"),e._uU(62),e.qZA()(),e.TgZ(63,"div",31)(64,"textarea",32),e.NdJ("ngModelChange",function(a){return i.publicacion.subtitulo=a})("keyup",function(){return i.contarPalabrasDescripcion()}),e.qZA(),e.TgZ(65,"p",33),e._uU(66),e.qZA()(),e.TgZ(67,"div",34)(68,"label",35),e._uU(69,"Letra oscura sobre la imagen"),e.qZA(),e.TgZ(70,"input",36),e.NdJ("ngModelChange",function(a){return i.publicacion.letraOscura=a}),e.qZA()()()()()()()()(),e.TgZ(71,"h3",37),e._uU(72,"Contenido de la publicaci\xf3n"),e.qZA(),e.TgZ(73,"div",38)(74,"form",39)(75,"div",40)(76,"div",41)(77,"button",42),e._UZ(78,"img",43),e.qZA()(),e.TgZ(79,"div",41)(80,"button",44),e._UZ(81,"img",45),e.qZA()(),e.TgZ(82,"div",41)(83,"button",46),e._UZ(84,"img",47),e.qZA()()(),e.TgZ(85,"div",48)(86,"quill-editor",49),e.NdJ("ngModelChange",function(a){return i.texto=a}),e.qZA()()()(),e.TgZ(87,"div",50),e._UZ(88,"div",18),e.YNc(89,He,2,0,"button",51),e.YNc(90,ze,2,0,"button",51),e.qZA()(),e.TgZ(91,"div",52)(92,"div",53)(93,"div",54)(94,"div",55)(95,"h1",56),e._uU(96,"Insertar Podcast"),e.qZA(),e._UZ(97,"button",57),e.qZA(),e.TgZ(98,"div",58)(99,"input",59),e.NdJ("ngModelChange",function(a){return i.htmlPodcast=a}),e.qZA(),e._UZ(100,"img",60),e.qZA(),e.TgZ(101,"div",61)(102,"button",62),e._uU(103,"Cerrar"),e.qZA(),e.TgZ(104,"button",63),e.NdJ("click",function(){return i.agregarPodcast()}),e._uU(105,"A\xf1adir podcast"),e.qZA()()()()(),e.TgZ(106,"div",64)(107,"div",53)(108,"div",54)(109,"div",55)(110,"h1",56),e._uU(111,"Insertar Video"),e.qZA(),e._UZ(112,"button",57),e.qZA(),e.TgZ(113,"div",58)(114,"input",65),e.NdJ("ngModelChange",function(a){return i.htmlVideo=a}),e.qZA(),e._UZ(115,"img",66),e.qZA(),e.TgZ(116,"div",61)(117,"button",62),e._uU(118,"Cerrar"),e.qZA(),e.TgZ(119,"button",63),e.NdJ("click",function(){return i.agregarVideo()}),e._uU(120,"A\xf1adir video"),e.qZA()()()()(),e.TgZ(121,"div",67)(122,"div",53)(123,"div",54)(124,"div",55)(125,"h1",56),e._uU(126,"Insertar Imagen"),e.qZA(),e._UZ(127,"button",57),e.qZA(),e.TgZ(128,"div",58)(129,"section",68)(130,"input",69),e.NdJ("change",function(a){return i.onSelectFile(a)}),e.qZA()(),e.YNc(131,Ge,3,1,"section",70),e.TgZ(132,"section",71)(133,"label",72),e._uU(134,"Tama\xf1o"),e.qZA(),e.TgZ(135,"select",73),e.NdJ("ngModelChange",function(a){return i.anchoImagen=a}),e.TgZ(136,"option",74),e._uU(137,"Ancho 100%"),e.qZA(),e.TgZ(138,"option",75),e._uU(139,"Ancho 75%"),e.qZA(),e.TgZ(140,"option",76),e._uU(141,"Ancho 50%"),e.qZA(),e.TgZ(142,"option",77),e._uU(143,"Ancho 35%"),e.qZA(),e.TgZ(144,"option",78),e._uU(145,"Ancho 20%"),e.qZA()()()(),e.TgZ(146,"div",61)(147,"button",62),e._uU(148,"Cerrar"),e.qZA(),e.TgZ(149,"button",63),e.NdJ("click",function(){return i.getCroppedImage()}),e._uU(150,"Aceptar"),e.qZA()()()()(),e.TgZ(151,"div",79)(152,"div",53)(153,"div",54)(154,"div",55)(155,"h1",56),e._uU(156,"Insertar Imagen"),e.qZA(),e._UZ(157,"button",57),e.qZA(),e.TgZ(158,"div",58)(159,"section")(160,"input",69),e.NdJ("change",function(a){return i.onSelectFile(a)}),e.qZA()(),e.YNc(161,Be,1,0,"section",70),e.TgZ(162,"section",71)(163,"label",72),e._uU(164,"Tama\xf1o"),e.qZA(),e.TgZ(165,"select",73),e.NdJ("ngModelChange",function(a){return i.anchoImagen=a}),e.TgZ(166,"option",74),e._uU(167,"Ancho 100%"),e.qZA(),e.TgZ(168,"option",75),e._uU(169,"Ancho 75%"),e.qZA(),e.TgZ(170,"option",76),e._uU(171,"Ancho 50%"),e.qZA(),e.TgZ(172,"option",77),e._uU(173,"Ancho 35%"),e.qZA()()()(),e.TgZ(174,"div",61)(175,"button",62),e._uU(176,"Cerrar"),e.qZA(),e.TgZ(177,"button",80),e._uU(178,"Aceptar"),e.qZA()()()()(),e.TgZ(179,"div",81)(180,"div",82)(181,"div",54)(182,"div",55)(183,"h1",56),e._uU(184,"Insertar Imagen"),e.qZA(),e._UZ(185,"button",57),e.qZA(),e.TgZ(186,"div",58)(187,"section",68)(188,"input",69),e.NdJ("change",function(a){return i.onSelectFilePreview(a)}),e.qZA()(),e.YNc(189,$e,3,4,"section",70),e.qZA(),e.TgZ(190,"div",61)(191,"button",62),e._uU(192,"Cerrar"),e.qZA(),e.TgZ(193,"button",63),e.NdJ("click",function(){return i.getCroppedImagePreview()}),e._uU(194,"Aceptar"),e.qZA()()()()(),e.TgZ(195,"div",83)(196,"div",82)(197,"div",54)(198,"div",55)(199,"h1",56),e._uU(200,"Insertar tag"),e.qZA(),e._UZ(201,"button",57),e.qZA(),e.TgZ(202,"div",58)(203,"div",84)(204,"label",85),e._uU(205,"Seleccionar tag existente"),e.qZA(),e.TgZ(206,"select",86),e.NdJ("ngModelChange",function(a){return i.tagSeleccionada.id=a}),e.YNc(207,Ke,2,2,"option",87),e.qZA(),e.TgZ(208,"button",88),e.NdJ("click",function(){return i.agregarTag()}),e._uU(209,"Agregar"),e.qZA()(),e._UZ(210,"hr"),e.TgZ(211,"div",89)(212,"label",90),e._uU(213,"Escribir nueva "),e.qZA(),e.TgZ(214,"input",91),e.NdJ("ngModelChange",function(a){return i.tagNueva.tagNombre=a}),e.qZA(),e.TgZ(215,"button",88),e.NdJ("click",function(){return i.nuevaTag()}),e._uU(216,"Crear"),e.qZA()()()()()(),e.TgZ(217,"div",92)(218,"div",82)(219,"div",54)(220,"div",55)(221,"h1",93),e._uU(222,"Error al enviar"),e.qZA(),e._UZ(223,"button",57),e.qZA(),e.TgZ(224,"div",58)(225,"p"),e._uU(226,"Error. Hay campos obligatorios sin rellenar"),e.qZA()(),e.TgZ(227,"div",61)(228,"button",62),e._uU(229,"Cerrar"),e.qZA()()()()(),e.TgZ(230,"div",94)(231,"div",82)(232,"div",54)(233,"div",55)(234,"h1",93),e._uU(235,"Publicaci\xf3n enviada"),e.qZA(),e._UZ(236,"button",57),e.qZA(),e.TgZ(237,"div",58)(238,"p"),e._uU(239,"Publicaci\xf3n enviada."),e.qZA()(),e.TgZ(240,"div",61)(241,"button",95),e._uU(242,"Aceptar"),e.qZA()()()()()),2&t&&(e.xp6(3),e.Q6J("ngIf",i.publicacion),e.xp6(2),e.hij("Recomendado entre 10 y 15 palabras. Llevas: ",i.palabrasTitulo,""),e.xp6(8),e.Q6J("ngIf",i.publicacion.autor),e.xp6(7),e.Q6J("ngIf",i.publicacion.lugar),e.xp6(7),e.Q6J("ngIf",i.publicacion.categoria),e.xp6(10),e.Q6J("ngForOf",i.tagsSeleccionadas),e.xp6(5),e.Q6J("ngModel",i.publicacion.premium),e.xp6(4),e.Q6J("ngModel",i.publicacion.destacado),e.xp6(4),e.Q6J("ngModel",i.publicacion.carousel),e.xp6(6),e.Q6J("ngIf",i.imagePreviewUrl),e.xp6(1),e.Q6J("ngIf",!i.imagePreviewUrl),e.xp6(5),e.Oqu(i.publicacion.titulo),e.xp6(2),e.Q6J("ngModel",i.publicacion.subtitulo),e.xp6(2),e.hij("Recomendado entre 20 y 30 palabras. Llevas: ",i.palabrasDescripcion,""),e.xp6(4),e.Q6J("ngModel",i.publicacion.letraOscura),e.xp6(16),e.Q6J("ngModel",i.texto),e.xp6(3),e.Q6J("ngIf",i.id),e.xp6(1),e.Q6J("ngIf",!i.id),e.xp6(9),e.Q6J("ngModel",i.htmlPodcast),e.xp6(15),e.Q6J("ngModel",i.htmlVideo),e.xp6(17),e.Q6J("ngIf",i.imageUrl),e.xp6(4),e.Q6J("ngModel",i.anchoImagen),e.xp6(26),e.Q6J("ngIf",i.imageUrl),e.xp6(4),e.Q6J("ngModel",i.anchoImagen),e.xp6(24),e.Q6J("ngIf",i.imagePreviewUrl),e.xp6(17),e.Q6J("ngModel",i.tagSeleccionada.id),e.xp6(1),e.Q6J("ngForOf",i.tags),e.xp6(7),e.Q6J("ngModel",i.tagNueva.tagNombre))},dependencies:[p.sg,p.O5,r._Y,r.YN,r.Kr,r.Fj,r.Wl,r.EJ,r.JJ,r.JL,r.nD,r.On,r.F,Q.g6,f.V2],styles:[".bloque[_ngcontent-%COMP%]{border-style:dotted;border-width:1px}.agregar-bloque-texto[_ngcontent-%COMP%]{border-style:solid;background-color:#fafaf9;border-width:1px}.agregar-bloque-imagen[_ngcontent-%COMP%]{border-style:solid;background-color:#c3dde1;border-width:1px}.agregar-bloque-video[_ngcontent-%COMP%]{border-style:solid;background-color:#dbab9f;border-width:1px}.agregar-bloque-podcast[_ngcontent-%COMP%]{border-style:solid;background-color:#cfeccf;border-width:1px}.preview-publicacion[_ngcontent-%COMP%]{border-style:solid;background-color:#d0d2d0;border-width:1px}.imagen-publicacion[_ngcontent-%COMP%]{width:50%}.cuadro-texto[_ngcontent-%COMP%]{width:100%}.quill-editor[_ngcontent-%COMP%]{background-color:#fff;width:90%;box-shadow:2px 2px 10px #666}.icono-spotify[_ngcontent-%COMP%], .icono-youtube[_ngcontent-%COMP%]{width:9vw;border-style:solid;border-width:1px;border-radius:5px}.ql-video[_ngcontent-%COMP%]{width:50px}.iframe-container[_ngcontent-%COMP%]{width:100px}.tags[_ngcontent-%COMP%], .tag[_ngcontent-%COMP%], .row-tags[_ngcontent-%COMP%], .lugar[_ngcontent-%COMP%], .row-lugar[_ngcontent-%COMP%]{display:inline}.tag-nombre[_ngcontent-%COMP%]{background-color:orange;border-radius:15px;height:1.6rem;width:auto;display:inline;font-size:small}.tags-container[_ngcontent-%COMP%]{margin:4%;border-style:ridge;border-color:#000;padding-bottom:5%}.boton-eliminar[_ngcontent-%COMP%]{border-radius:50%;height:1.5rem;display:inline}.agregar-tag[_ngcontent-%COMP%]{display:inline;height:1.6rem}.boton-agregar-tag[_ngcontent-%COMP%]{height:1.6rem;width:auto;padding-top:0}.nueva-tag-container[_ngcontent-%COMP%]{display:inline}.autor-nombre[_ngcontent-%COMP%]{border-radius:15px;height:1.6rem;width:auto;display:inline}.text-titulo[_ngcontent-%COMP%]{font-size:xx-large;width:80%;box-shadow:2px 2px 10px #666}.recomendacion-titulo[_ngcontent-%COMP%]{width:80%}.text-titulo-card[_ngcontent-%COMP%]{font-size:xx-large;width:80%}.text-descripcion[_ngcontent-%COMP%]{font-size:large;width:100%}.boton-img-preview[_ngcontent-%COMP%]{width:auto;height:-moz-fit-content;height:fit-content}.descripcion-container[_ngcontent-%COMP%]{background-color:#dcdcdc;width:auto;border-color:#000;border-width:1px;border-style:ridge}.img-redimensionada[_ngcontent-%COMP%]{display:block;max-width:100%}.foto-autor[_ngcontent-%COMP%]{width:70px}.publicacion-preview[_ngcontent-%COMP%]{border-style:solid;border-width:1px;border-color:#000;box-shadow:2px 2px 10px #666}.text-descripcion[_ngcontent-%COMP%]{height:200px}.card-title[_ngcontent-%COMP%]{height:-moz-fit-content!important;height:fit-content!important}.card-image[_ngcontent-%COMP%]:hover{opacity:.5}.modal-header[_ngcontent-%COMP%]{background-color:#ff6d00;color:#fff}.texto-obligatorio[_ngcontent-%COMP%]{color:red}@media (max-width: 40em){  .imagen{width:100%!important}  img[alt=imagenAlt35]{width:60%!important}  img[alt=imagenAlt20]{width:50%!important}  .iframe-container{width:100%!important;height:-moz-fit-content!important;height:fit-content!important}  iframe[tipo=podcast]{width:100%!important;height:28vw!important}  iframe[tipo=youtube]{width:50%!important;height:45vw!important}.quill-editor[_ngcontent-%COMP%]{width:100%}.editor-container[_ngcontent-%COMP%]{margin:0}.agregar-bloque-texto[_ngcontent-%COMP%]{justify-content:center}.icono-youtube[_ngcontent-%COMP%], .icono-spotify[_ngcontent-%COMP%]{width:100%}.preview[_ngcontent-%COMP%]{justify-content:center;width:94%;margin-left:3%}.text-titulo[_ngcontent-%COMP%]{font-size:large;width:98%;box-shadow:2px 2px 10px #666;margin:0}.recomendacion-titulo[_ngcontent-%COMP%]{width:98%}.row-dato[_ngcontent-%COMP%]{width:98%;margin:0!important}.tags-container[_ngcontent-%COMP%]{width:95%;border-style:ridge;border-color:#000;padding:0}}@media (min-width: 41em){  img[alt=imagenAlt100]{width:100%!important}  img[alt=imagenAlt75]{width:75%!important}  img[alt=imagenAlt50]{width:50%!important}  img[alt=imagenAlt35]{width:35%!important}  img[alt=imagenAlt20]{width:20%!important}  iframe[tipo=podcast]{width:75%!important;height:250px!important}  iframe[tipo=youtube]{width:75%!important;height:35vw!important}.row-dato[_ngcontent-%COMP%]{width:98%;margin-right:10%}.datos[_ngcontent-%COMP%]{margin-left:6%}}"]}),n})();function Xe(n,c){if(1&n&&(e.TgZ(0,"div",3),e._UZ(1,"app-publicacion",4),e.qZA()),2&n){const t=c.$implicit;e.xp6(1),e.Q6J("publicacion",t)}}let We=(()=>{class n{constructor(t,i,o){this.publicacionesService=t,this.activatedRoute=i,this.categoriaService=o,this.tagNombre="",this.id="",this.publicaciones=[]}ngOnInit(){this.activatedRoute.params.subscribe(t=>{this.tagNombre=t.tagNombre}),this.getPublicacionesByTag()}getPublicacionesByTag(){this.publicacionesService.getPublicacionesByTag(this.tagNombre).subscribe(t=>{this.publicaciones=t,this.publicaciones.forEach(i=>{i.id=this.publicacionesService.getId(i),this.publicacionesService.getCategoriaFromPublicacion(i).subscribe(o=>{i.categoria=o,i.categoria.id=this.categoriaService.getId(o)}),this.publicacionesService.getAutorFromPublicacion(i).subscribe(o=>{i.autor=o})})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l),e.Y36(b.gz),e.Y36(P))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-publicaciones-tag"]],decls:6,vars:2,consts:[[1,"my-1","my-lg-2","py-2","mx-4"],[1,"row","mx-2","my-1","my-lg-2"],["style","display:inline-block;","class","card col-12 col-sm-6 col-md-3 col-xxl-2",4,"ngFor","ngForOf"],[1,"card","col-12","col-sm-6","col-md-3","col-xxl-2",2,"display","inline-block"],[3,"publicacion"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h3",1)(2,"b"),e._uU(3),e.qZA()(),e._UZ(4,"hr"),e.YNc(5,Xe,2,1,"div",2),e.qZA()),2&t&&(e.xp6(3),e.hij('Relacionados con "',i.tagNombre,'"'),e.xp6(2),e.Q6J("ngForOf",i.publicaciones))},dependencies:[p.sg,x],styles:[".card[_ngcontent-%COMP%]{margin:0;border-radius:0;border-style:none;padding:0%}"]}),n})();var K=d(3082);const et=["angularCropper"];function tt(n,c){if(1&n&&e._UZ(0,"img",23),2&n){const t=e.oxw(2);e.s9C("src",t.categoria.urlImagen,e.LSH)}}function it(n,c){1&n&&e._UZ(0,"img",24)}function nt(n,c){if(1&n&&(e.TgZ(0,"div",20),e.YNc(1,tt,1,1,"img",21),e.YNc(2,it,1,0,"img",22),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.categoria.urlImagen),e.xp6(1),e.Q6J("ngIf",!t.categoria.urlImagen||""==t.categoria.urlImagen)}}function ot(n,c){if(1&n&&e._UZ(0,"img",27),2&n){const t=e.oxw(2);e.s9C("src",t.categoria.urlImagen,e.LSH)}}function at(n,c){if(1&n&&(e.TgZ(0,"div",25),e.YNc(1,ot,1,1,"img",26),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.categoria.urlImagen)}}function ct(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",34)(1,"button",35),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.abrirEdicion())}),e._uU(2,"MODIFICAR"),e.qZA()()}}function rt(n,c){if(1&n&&(e.TgZ(0,"div",28)(1,"div",29)(2,"h3",30)(3,"b"),e._uU(4),e.qZA()(),e.TgZ(5,"h4",31)(6,"p",32),e._uU(7),e.qZA()(),e.YNc(8,ct,3,0,"div",33),e.qZA()()),2&n){const t=e.oxw();e.xp6(4),e.Oqu(t.categoria.categoriaNombre),e.xp6(3),e.Oqu(t.categoria.categoriaDescripcion),e.xp6(1),e.Q6J("ngIf",t.isLoggedAdmin)}}function st(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",36)(1,"h2",37)(2,"b"),e._uU(3),e.qZA()(),e.TgZ(4,"textarea",38),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.categoria.categoriaDescripcion=o)}),e.qZA(),e.TgZ(5,"div",34)(6,"button",39),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.cerrarEdicion())}),e._uU(7,"GUARDAR"),e.qZA(),e.TgZ(8,"button",40),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.cancelarEdicion())}),e._uU(9,"CANCELAR"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(3),e.Oqu(t.categoria.categoriaNombre),e.xp6(1),e.Q6J("ngModel",t.categoria.categoriaDescripcion)}}function lt(n,c){if(1&n&&(e.TgZ(0,"div",41),e._UZ(1,"app-publicacion",42),e.qZA()),2&n){const t=c.$implicit;e.xp6(1),e.Q6J("publicacion",t)}}const ut=function(n){return{aspectRatio:n}};function dt(n,c){if(1&n&&(e.TgZ(0,"section"),e._UZ(1,"angular-cropper",43,44),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("cropperOptions",e.VKq(2,ut,1.5))("imageUrl",t.imageUrl)}}let pt=(()=>{class n{constructor(t,i,o,a,s){this.publicacionesService=t,this.categoriaService=i,this.activatedRoute=o,this.imagenesService=a,this.loginService=s,this.angularCropper=new f.V2,this.categoria=new R,this.id="",this.publicaciones=[],this.edicion=!1,this.imageUrl="",this.imageName="",this.croppedresult="",this.subiendo=!1}ngOnInit(){this.loginService.getIsLoggedFlagObs().subscribe(t=>{this.isLoggedUser=t}),this.loginService.getIsAdminFlagObs().subscribe(t=>{this.isLoggedAdmin=t}),this.activatedRoute.params.subscribe(t=>{this.categoria.categoriaNombre=t.categoria,this.getCategoria()}),this.getPublicacionesByCategoria()}getCategoria(){this.categoria.categoriaNombre=this.categoria.categoriaNombre.replaceAll("-"," "),this.categoriaService.getCategoriaByCategoriaNombre(this.categoria.categoriaNombre).subscribe(t=>{this.categoria=t,this.categoria.id=this.categoriaService.getId(this.categoria),this.imageUrl=this.categoria.urlImagen,this.imageName=this.categoria.categoriaNombre})}getPublicacionesByCategoria(){this.publicacionesService.getPublicacionesByCategoria(this.categoria.categoriaNombre).subscribe(t=>{this.publicaciones=t,this.publicaciones.forEach(i=>{i.id=this.publicacionesService.getId(i),this.publicacionesService.getCategoriaFromPublicacion(i).subscribe(o=>{i.categoria=o,this.publicacionesService.getAutorFromPublicacion(i).subscribe(a=>{i.autor=a})})})})}abrirEdicion(){this.edicion=!0}cerrarEdicion(){this.subiendo=!0,this.categoria.urlImagen=this.imageUrl,this.categoriaService.patchCategoria(this.categoria).subscribe(t=>{this.categoria=t,this.categoria.id=this.categoriaService.getId(this.categoria),this.getCategoria()}),this.edicion=!1,this.subiendo=!1}cancelarEdicion(){this.edicion=!1}onSelectFile(t){if(this.subiendo=!0,t.target.files&&t.target.files[0]){const i=new FileReader;i.readAsDataURL(t.target.files[0]),i.onload=()=>{this.imageUrl=i.result},this.imageName=t.target.files[0].name}}getCroppedImage(){this.angularCropper.cropper.getCroppedCanvas().toBlob(t=>{const i=new FileReader;i.readAsDataURL(t),i.onload=()=>{this.croppedresult=i.result;let a=new File([t],this.imageName,{type:"image/jpeg"});this.imagenesService.subirImagen(a,this.categoria.id,"publicacion").subscribe(s=>{this.imageUrl=s,this.categoria.urlImagen=s,this.subiendo=!1})}},"image/jpeg",.7)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l),e.Y36(P),e.Y36(b.gz),e.Y36(u.j),e.Y36(K.r))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-publicaciones-categoria"]],viewQuery:function(t,i){if(1&t&&e.Gf(et,5),2&t){let o;e.iGM(o=e.CRH())&&(i.angularCropper=o.first)}},decls:23,vars:6,consts:[[1,"row","my-1","py-1","mx-2"],["class","col-12 col-lg-6",4,"ngIf"],["class","col-12 col-lg-6 p-0",4,"ngIf"],["class","col-12 col-lg-6 p-1 p-md-3 container-texto",4,"ngIf"],["class","col-12 col-lg-6 p-3",4,"ngIf"],[1,"mt-4"],["class","card row col-12 col-md-3 col-xxl-2",4,"ngFor","ngForOf"],["id","imagenModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"my-2"],["type","file","accept","images/",3,"change"],[4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["data-bs-dismiss","modal",1,"btn","btn-primary",3,"click"],[1,"col-12","col-lg-6"],["class","imagen-edicion img-fluid mt-4 pt-4 w-100","alt","","data-bs-toggle","modal","data-bs-target","#imagenModal",3,"src",4,"ngIf"],["class","img-fluid mt-4 pt-4","src","../../../../assets/no-imagen.png","alt","","data-bs-toggle","modal","data-bs-target","#imagenModal",4,"ngIf"],["alt","","data-bs-toggle","modal","data-bs-target","#imagenModal",1,"imagen-edicion","img-fluid","mt-4","pt-4","w-100",3,"src"],["src","../../../../assets/no-imagen.png","alt","","data-bs-toggle","modal","data-bs-target","#imagenModal",1,"img-fluid","mt-4","pt-4"],[1,"col-12","col-lg-6","p-0"],["class","img-fluid mt-1 mt-lg-4 w-100","alt","",3,"src",4,"ngIf"],["alt","",1,"img-fluid","mt-1","mt-lg-4","w-100",3,"src"],[1,"col-12","col-lg-6","p-1","p-md-3","container-texto"],[1,"container-bloques"],[1,"row","mx-2","mt-2","nombre-categoria","text-center"],[1,"row","mx-2","container-descripcion","text-center"],[1,"descripcion-categoria"],["class","text-center",4,"ngIf"],[1,"text-center"],[1,"btn","btn-warning","mb-2",3,"click"],[1,"col-12","col-lg-6","p-3"],[1,"row","mx-2","my-4","text-center"],["rows","8","maxlength","1000",1,"descripcion","row","mx-2","my-4","text-center","w-100",3,"ngModel","ngModelChange"],[1,"btn","btn-warning","mb-2","mx-2",3,"click"],[1,"btn","btn-secondary","mb-2","mx-2",3,"click"],[1,"card","row","col-12","col-md-3","col-xxl-2"],[3,"publicacion"],[3,"cropperOptions","imageUrl"],["angularCropper",""]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.YNc(1,nt,3,2,"div",1),e.YNc(2,at,2,1,"div",2),e.YNc(3,rt,9,3,"div",3),e.YNc(4,st,10,2,"div",4),e._UZ(5,"hr",5),e.YNc(6,lt,2,1,"div",6),e.qZA(),e.TgZ(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"h1",11),e._uU(12,"Insertar Imagen"),e.qZA(),e._UZ(13,"button",12),e.qZA(),e.TgZ(14,"div",13)(15,"section",14)(16,"input",15),e.NdJ("change",function(a){return i.onSelectFile(a)}),e.qZA()(),e.YNc(17,dt,3,4,"section",16),e.qZA(),e.TgZ(18,"div",17)(19,"button",18),e._uU(20,"Cerrar"),e.qZA(),e.TgZ(21,"button",19),e.NdJ("click",function(){return i.getCroppedImage()}),e._uU(22,"Aceptar"),e.qZA()()()()()),2&t&&(e.xp6(1),e.Q6J("ngIf",i.edicion),e.xp6(1),e.Q6J("ngIf",!i.edicion),e.xp6(1),e.Q6J("ngIf",!i.edicion),e.xp6(1),e.Q6J("ngIf",i.edicion),e.xp6(2),e.Q6J("ngForOf",i.publicaciones),e.xp6(11),e.Q6J("ngIf",i.imageUrl))},dependencies:[p.sg,p.O5,r.Fj,r.JJ,r.nD,r.On,f.V2,x],styles:[".card[_ngcontent-%COMP%]{margin:0;padding:0%;border-radius:0;border-style:none}.container-texto[_ngcontent-%COMP%]{display:flex;align-items:center}.descripcion-categoria[_ngcontent-%COMP%]{font-size:x-large}.imagen-edicion[_ngcontent-%COMP%]:hover{opacity:.5}.modal-header[_ngcontent-%COMP%]{background-color:#ff6d00;color:#fff}@media (max-width: 40em){.descripcion-categoria[_ngcontent-%COMP%]{font-size:medium}}"]}),n})(),gt=(()=>{class n{constructor(){this.tag=new I,this.eliminarTagEvent=new e.vpe,this.modificarTagEvent=new e.vpe}ngOnInit(){}eliminarTag(){this.eliminarTagEvent.emit(this.tag)}modificarTag(){this.modificarTagEvent.emit(this.tag)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-tag"]],inputs:{tag:"tag"},outputs:{eliminarTagEvent:"eliminarTagEvent",modificarTagEvent:"modificarTagEvent"},decls:9,vars:1,consts:[[1,"row","d-flex"],[1,"col-5","col-sm-5","mx-1","my-2"],["type","text","size","12",3,"ngModel","ngModelChange"],[1,"col-3","col-sm-3","mx-1","my-2"],[1,"btn","btn-warning","btn-sm",3,"click"],[1,"btn","btn-danger","btn-sm",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"input",2),e.NdJ("ngModelChange",function(a){return i.tag.tagNombre=a}),e.qZA()(),e.TgZ(3,"div",3)(4,"button",4),e.NdJ("click",function(){return i.modificarTag()}),e._uU(5,"MODIFICAR"),e.qZA()(),e.TgZ(6,"div",3)(7,"button",5),e.NdJ("click",function(){return i.eliminarTag()}),e._uU(8,"ELIMINAR"),e.qZA()()()),2&t&&(e.xp6(2),e.Q6J("ngModel",i.tag.tagNombre))},dependencies:[r.Fj,r.JJ,r.On]}),n})(),mt=(()=>{class n{constructor(){this.lugar=new _,this.eliminarLugarEvent=new e.vpe,this.modificarLugarEvent=new e.vpe}ngOnInit(){}eliminarLugar(){this.eliminarLugarEvent.emit(this.lugar)}modificarLugar(){this.modificarLugarEvent.emit(this.lugar)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-lugar"]],inputs:{lugar:"lugar"},outputs:{eliminarLugarEvent:"eliminarLugarEvent",modificarLugarEvent:"modificarLugarEvent"},decls:9,vars:1,consts:[[1,"row","d-flex"],[1,"col-5","col-sm-5","mx-1","my-2"],["type","text","size","12",3,"ngModel","ngModelChange"],[1,"col-3","col-sm-3","mx-1","my-2"],[1,"btn","btn-warning","btn-sm",3,"click"],[1,"btn","btn-danger","btn-sm",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"input",2),e.NdJ("ngModelChange",function(a){return i.lugar.lugarNombre=a}),e.qZA()(),e.TgZ(3,"div",3)(4,"button",4),e.NdJ("click",function(){return i.modificarLugar()}),e._uU(5,"MODIFICAR"),e.qZA()(),e.TgZ(6,"div",3)(7,"button",5),e.NdJ("click",function(){return i.eliminarLugar()}),e._uU(8,"ELIMINAR"),e.qZA()()()),2&t&&(e.xp6(2),e.Q6J("ngModel",i.lugar.lugarNombre))},dependencies:[r.Fj,r.JJ,r.On]}),n})();function ht(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",9)(1,"app-tag",10),e.NdJ("eliminarTagEvent",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.eliminarTag(o))})("modificarTagEvent",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.modificarTag(o))}),e.qZA()()}if(2&n){const t=c.$implicit;e.xp6(1),e.Q6J("tag",t)}}function bt(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",11)(1,"app-lugar",12),e.NdJ("eliminarLugarEvent",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.eliminarLugar(o))})("modificarLugarEvent",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.modificarLugar(o))}),e.qZA()()}if(2&n){const t=c.$implicit;e.xp6(1),e.Q6J("lugar",t)}}let _t=(()=>{class n{constructor(t,i){this.tagsService=t,this.lugaresService=i,this.tags=[],this.tagNueva=new I,this.lugares=[],this.lugarNuevo=new _}ngOnInit(){this.getTags(),this.getLugares()}getTags(){this.tagsService.getTags().subscribe(t=>{this.tags=t,this.tags.forEach(i=>{i.id=this.tagsService.getId(i)})})}modificarTag(t){this.tagsService.patchTag(t).subscribe(i=>{this.getTags()})}eliminarTag(t){this.tagsService.deleteTag(t).subscribe(i=>{this.getTags()})}nuevaTag(){this.tagsService.postTag(this.tagNueva).subscribe(t=>{this.getTags(),this.tagNueva.tagNombre=""})}getLugares(){this.lugaresService.getLugares().subscribe(t=>{this.lugares=t,this.lugares.forEach(i=>{i.id=this.lugaresService.getId(i)})})}modificarLugar(t){this.lugaresService.patchLugar(t).subscribe(i=>{this.getLugares()})}eliminarLugar(t){this.lugaresService.deleteLugar(t).subscribe(i=>{this.getLugares()})}nuevoLugar(){this.lugaresService.postLugar(this.lugarNuevo).subscribe(t=>{this.getLugares(),this.lugarNuevo.lugarNombre=""})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L),e.Y36(F))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-tags"]],decls:17,vars:4,consts:[[1,"row"],[1,"tags","col-12","col-lg-4","p-4","text-center"],[1,"nueva-tag-container","mb-4"],["type","text",3,"ngModel","ngModelChange"],[1,"btn","btn-success","btn-sm","mx-3","my-2",3,"click"],["style","display:block;","class","gestionar-tags-container",4,"ngFor","ngForOf"],[1,"lugares","col-12","col-lg-4","p-4","text-center"],[1,"nuevo-lugar-container","mb-4"],["style","display:block;","class","gestionar-lugares-container",4,"ngFor","ngForOf"],[1,"gestionar-tags-container",2,"display","block"],[3,"tag","eliminarTagEvent","modificarTagEvent"],[1,"gestionar-lugares-container",2,"display","block"],[3,"lugar","eliminarLugarEvent","modificarLugarEvent"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),e._uU(4,"Tags"),e.qZA(),e.TgZ(5,"input",3),e.NdJ("ngModelChange",function(a){return i.tagNueva.tagNombre=a}),e.qZA(),e.TgZ(6,"button",4),e.NdJ("click",function(){return i.nuevaTag()}),e._uU(7,"Crear nueva Tag"),e.qZA()(),e.YNc(8,ht,2,1,"div",5),e.qZA(),e.TgZ(9,"div",6)(10,"div",7)(11,"h3"),e._uU(12,"Lugares"),e.qZA(),e.TgZ(13,"input",3),e.NdJ("ngModelChange",function(a){return i.lugarNuevo.lugarNombre=a}),e.qZA(),e.TgZ(14,"button",4),e.NdJ("click",function(){return i.nuevoLugar()}),e._uU(15,"Crear nuevo Lugar"),e.qZA()(),e.YNc(16,bt,2,1,"div",8),e.qZA()()),2&t&&(e.xp6(5),e.Q6J("ngModel",i.tagNueva.tagNombre),e.xp6(3),e.Q6J("ngForOf",i.tags),e.xp6(5),e.Q6J("ngModel",i.lugarNuevo.lugarNombre),e.xp6(3),e.Q6J("ngForOf",i.lugares))},dependencies:[p.sg,r.Fj,r.JJ,r.On,gt,mt],styles:[".lugares[_ngcontent-%COMP%], .tags[_ngcontent-%COMP%]{height:550px;overflow:scroll}"]}),n})();function ft(n,c){if(1&n&&(e.TgZ(0,"div",3),e._UZ(1,"app-publicacion",4),e.qZA()),2&n){const t=c.$implicit;e.xp6(1),e.Q6J("publicacion",t)}}let Ct=(()=>{class n{constructor(t,i,o){this.publicacionesService=t,this.activatedRoute=i,this.categoriaService=o,this.provincia="",this.id="",this.publicaciones=[]}ngOnInit(){this.activatedRoute.params.subscribe(t=>{this.provincia=t.provincia}),this.getPublicacionesByLugar()}getPublicacionesByLugar(){this.publicacionesService.getPublicacionesByLugar(this.provincia).subscribe(t=>{this.publicaciones=t,this.publicaciones.forEach(i=>{i.id=this.publicacionesService.getId(i),this.publicacionesService.getCategoriaFromPublicacion(i).subscribe(o=>{i.categoria=o,i.categoria.id=this.categoriaService.getId(o)}),this.publicacionesService.getAutorFromPublicacion(i).subscribe(o=>{i.autor=o})})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l),e.Y36(b.gz),e.Y36(P))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-publicaciones-provincia"]],decls:6,vars:2,consts:[[1,"my-1","my-lg-2","py-2","mx-4"],[1,"row","mx-2","my-1","my-lg-4"],["style","display:inline-block;","class","card col-12 col-sm-6 col-md-3 col-xxl-2",4,"ngFor","ngForOf"],[1,"card","col-12","col-sm-6","col-md-3","col-xxl-2",2,"display","inline-block"],[3,"publicacion"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h3",1)(2,"b"),e._uU(3),e.qZA()(),e._UZ(4,"hr"),e.YNc(5,ft,2,1,"div",2),e.qZA()),2&t&&(e.xp6(3),e.hij('Relacionados con "',i.provincia,'"'),e.xp6(2),e.Q6J("ngForOf",i.publicaciones))},dependencies:[p.sg,x],styles:[".card[_ngcontent-%COMP%]{margin:0;border-radius:0;border-style:none;padding:0%}"]}),n})();class vt{constructor(){this.id="",this.titulo="",this.descripcion="",this.urlImagen=""}}let Zt=(()=>{class n{constructor(t){this.http=t,this.endpoint=C.N.urlAPI}getLandingPage(){return this.http.get(this.endpoint+"/landingpages/1")}getId(t){let o=t._links.self.href.split("/");return o[o.length-1]}postLandingPage(t){return this.http.post(this.endpoint+"/landingpages",t)}patchLandingPage(t){return this.http.patch(this.endpoint+"/landingpages/"+t.id,t)}deleteLandingPage(t){return this.http.delete(this.endpoint+"/landingpages/"+t.id)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(m.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Tt=["angularCropper"];function xt(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"button",38),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.abrirEdicion())}),e._uU(1,"Editar"),e.qZA()}}function wt(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"button",39),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.guardarCambios())}),e._uU(1,"Guardar edici\xf3n"),e.qZA()}}function At(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"button",40),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.cerrarEdicion())}),e._uU(1,"Cancelar"),e.qZA()}}function Pt(n,c){if(1&n&&(e.TgZ(0,"div",41)(1,"h2")(2,"b"),e._uU(3),e.qZA()()()),2&n){const t=e.oxw();e.xp6(3),e.Oqu(t.landingPage.titulo)}}function Mt(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",41)(1,"textarea",42),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.landingPage.titulo=o)}),e._uU(2),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.landingPage.titulo),e.xp6(1),e.Oqu(t.landingPage.titulo)}}function qt(n,c){if(1&n&&(e.TgZ(0,"div",41)(1,"h4"),e._uU(2),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(t.landingPage.descripcion)}}function yt(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",43)(1,"textarea",44),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.landingPage.descripcion=o)}),e._uU(2),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.landingPage.descripcion),e.xp6(1),e.Oqu(t.landingPage.descripcion)}}function St(n,c){if(1&n&&e._UZ(0,"img",48),2&n){const t=e.oxw(2);e.s9C("src",t.landingPage.urlImagen,e.LSH)}}function Ut(n,c){1&n&&e._UZ(0,"img",49)}function It(n,c){if(1&n&&(e.TgZ(0,"section",45),e.YNc(1,St,1,1,"img",46),e.YNc(2,Ut,1,0,"img",47),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.landingPage.urlImagen),e.xp6(1),e.Q6J("ngIf",!t.landingPage.urlImagen)}}function Nt(n,c){if(1&n&&e._UZ(0,"img",52),2&n){const t=e.oxw(2);e.s9C("src",t.landingPage.urlImagen,e.LSH)}}function Ot(n,c){1&n&&e._UZ(0,"img",53)}function Et(n,c){if(1&n&&(e.TgZ(0,"section",45),e.YNc(1,Nt,1,1,"img",50),e.YNc(2,Ot,1,0,"img",51),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.landingPage.urlImagen),e.xp6(1),e.Q6J("ngIf",!t.landingPage.urlImagen)}}function Jt(n,c){if(1&n&&(e.TgZ(0,"section"),e._UZ(1,"angular-cropper",54,55),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("imageUrl",t.imageUrl)}}let Ft=(()=>{class n{constructor(t,i){this.landingPagesService=t,this.imagenesService=i,this.angularCropper=new f.V2,this.landingPage=new vt,this.edicion=!1,this.imageUrl="",this.imageName="",this.croppedresult="",this.subiendo=!1}ngOnInit(){this.getLandingPage()}getLandingPage(){this.landingPagesService.getLandingPage().subscribe(t=>{this.landingPage=t,t.id=this.landingPagesService.getId(t)})}postLandingPage(){this.landingPagesService.patchLandingPage(this.landingPage).subscribe(t=>{this.landingPage=t,this.landingPage.id=this.landingPagesService.getId(this.landingPage)})}patchLandingPage(){this.landingPage.id||(this.landingPage.id="1",this.landingPagesService.postLandingPage(this.landingPage).subscribe(t=>{this.landingPage=t,this.landingPage.id=this.landingPagesService.getId(this.landingPage)})),this.landingPage.id&&this.landingPagesService.patchLandingPage(this.landingPage).subscribe(t=>{this.landingPage=t,this.landingPage.id=this.landingPagesService.getId(this.landingPage)})}abrirEdicion(){this.edicion=!0}guardarCambios(){this.patchLandingPage(),this.edicion=!1}cerrarEdicion(){this.edicion=!1}onSelectFile(t){if(this.subiendo=!0,t.target.files&&t.target.files[0]){const i=new FileReader;i.readAsDataURL(t.target.files[0]),i.onload=()=>{this.imageUrl=i.result},console.log("EVENT",t.target.files[0]),this.imageName=t.target.files[0].name}console.log("IMAGEN SELECCIONADA EN PC: ",this.imageUrl)}getCroppedImage(){this.angularCropper.cropper.getCroppedCanvas().toBlob(t=>{const i=new FileReader;i.readAsDataURL(t),i.onload=()=>{this.croppedresult=i.result;let a=new File([t],this.imageName,{type:"image/jpeg"});this.imagenesService.subirImagen(a,this.landingPage.id,"publicacion").subscribe(s=>{console.log("URL IMAGEN SUBIDA: ",s),this.imageUrl=s,this.landingPage.urlImagen=s,this.subiendo=!1})}},"image/jpeg",.7)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Zt),e.Y36(u.j))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-landing-page"]],viewQuery:function(t,i){if(1&t&&e.Gf(Tt,5),2&t){let o;e.iGM(o=e.CRH())&&(i.angularCropper=o.first)}},decls:50,vars:10,consts:[[1,"row","landing"],[1,"col-12","botones","text-center"],["class","btn btn-warning m-2",3,"click",4,"ngIf"],["class","btn btn-success m-2",3,"click",4,"ngIf"],["class","btn btn-secondary m-2",3,"click",4,"ngIf"],[1,"col-1"],[1,"col-12","col-md-5","cuerpo"],[1,"row","titulo","ml-4"],["class","text-center",4,"ngIf"],[1,"row","descripcion","ml-4","m-4"],["class","text-descripcion text-center",4,"ngIf"],[1,"text-center","m-4"],["href","../",1,"btn","btn-primary"],[1,"rrss"],[1,"row","mt-4"],[1,"col-2","col-sm-2"],[1,"col-2","col-sm-2","my-1","text-center"],["href","https://www.facebook.com/elisabethgiborra"],["src","../../../../assets/facebookIcon.png","alt","",1,"icono-rrss"],["href","https://www.instagram.com/vermu.torero/"],["src","../../../../assets/instagramIcon.png","alt","",1,"icono-rrss"],["href","http://es.linkedin.com/in/elisabethgiborra"],["src","../../../../assets/linkedinIcon.png","alt","",1,"icono-rrss"],["href","https://twitter.com/elisabethiborra"],["src","../../../../assets/twitterIcon.png","alt","",1,"icono-rrss"],["class","col-12 col-md-6 text-center mt-4",4,"ngIf"],["id","imagenModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["type","file","accept","images/",3,"change"],[4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["data-bs-dismiss","modal",1,"btn","btn-primary",3,"click"],[1,"btn","btn-warning","m-2",3,"click"],[1,"btn","btn-success","m-2",3,"click"],[1,"btn","btn-secondary","m-2",3,"click"],[1,"text-center"],["rows","3","cols","32",1,"text-titulo",3,"ngModel","ngModelChange"],[1,"text-descripcion","text-center"],["rows","10","cols","45",3,"ngModel","ngModelChange"],[1,"col-12","col-md-6","text-center","mt-4"],["class","img-fluid imagen","alt","",3,"src",4,"ngIf"],["class","img-fluid imagen","src","","alt","Sin Imagen",4,"ngIf"],["alt","",1,"img-fluid","imagen",3,"src"],["src","","alt","Sin Imagen",1,"img-fluid","imagen"],["class","imagen-edicion img-fluid imagen","alt","","data-bs-toggle","modal","data-bs-target","#imagenModal",3,"src",4,"ngIf"],["class","imagen-edicion img-fluid imagen","src","../../../assets/no-imagen.png","alt","","data-bs-toggle","modal","data-bs-target","#imagenModal",4,"ngIf"],["alt","","data-bs-toggle","modal","data-bs-target","#imagenModal",1,"imagen-edicion","img-fluid","imagen",3,"src"],["src","../../../assets/no-imagen.png","alt","","data-bs-toggle","modal","data-bs-target","#imagenModal",1,"imagen-edicion","img-fluid","imagen"],[3,"imageUrl"],["angularCropper",""]],template:function(t,i){1&t&&(e.TgZ(0,"body")(1,"div",0)(2,"section",1),e.YNc(3,xt,2,0,"button",2),e.YNc(4,wt,2,0,"button",3),e.YNc(5,At,2,0,"button",4),e.qZA(),e._UZ(6,"section",5),e.TgZ(7,"section",6)(8,"section",7),e.YNc(9,Pt,4,1,"div",8),e.YNc(10,Mt,3,2,"div",8),e.qZA(),e.TgZ(11,"section",9),e.YNc(12,qt,3,1,"div",8),e.YNc(13,yt,3,2,"div",10),e.qZA(),e.TgZ(14,"section",11)(15,"a",12),e._uU(16,"VIS\xcdTANOS"),e.qZA()(),e.TgZ(17,"section",13)(18,"div",14),e._UZ(19,"div",15),e.TgZ(20,"div",16)(21,"a",17),e._UZ(22,"img",18),e.qZA()(),e.TgZ(23,"div",16)(24,"a",19),e._UZ(25,"img",20),e.qZA()(),e.TgZ(26,"div",16)(27,"a",21),e._UZ(28,"img",22),e.qZA()(),e.TgZ(29,"div",16)(30,"a",23),e._UZ(31,"img",24),e.qZA()()()()(),e.YNc(32,It,3,2,"section",25),e.YNc(33,Et,3,2,"section",25),e.qZA()(),e.TgZ(34,"div",26)(35,"div",27)(36,"div",28)(37,"div",29)(38,"h1",30),e._uU(39,"Insertar Imagen"),e.qZA(),e._UZ(40,"button",31),e.qZA(),e.TgZ(41,"div",32)(42,"section")(43,"input",33),e.NdJ("change",function(a){return i.onSelectFile(a)}),e.qZA()(),e.YNc(44,Jt,3,1,"section",34),e.qZA(),e.TgZ(45,"div",35)(46,"button",36),e._uU(47,"Cerrar"),e.qZA(),e.TgZ(48,"button",37),e.NdJ("click",function(){return i.getCroppedImage()}),e._uU(49,"Aceptar"),e.qZA()()()()()),2&t&&(e.xp6(3),e.Q6J("ngIf",!i.edicion),e.xp6(1),e.Q6J("ngIf",i.edicion),e.xp6(1),e.Q6J("ngIf",i.edicion),e.xp6(4),e.Q6J("ngIf",!i.edicion),e.xp6(1),e.Q6J("ngIf",i.edicion),e.xp6(2),e.Q6J("ngIf",!i.edicion),e.xp6(1),e.Q6J("ngIf",i.edicion),e.xp6(19),e.Q6J("ngIf",!i.edicion),e.xp6(1),e.Q6J("ngIf",i.edicion),e.xp6(11),e.Q6J("ngIf",i.imageUrl))},dependencies:[p.O5,r.Fj,r.JJ,r.On,f.V2],styles:["body[_ngcontent-%COMP%]{background-image:url(fondo-landing-page.53aac525181e87fc.png);background-repeat:no-repeat;background-attachment:fixed;background-size:cover;padding-top:2%}.imagen-edicion[_ngcontent-%COMP%]:hover{opacity:.5}@media (max-width: 40em){.icono-rrss[_ngcontent-%COMP%]{width:8vw}.imagen[_ngcontent-%COMP%]{height:80%}h4[_ngcontent-%COMP%]{text-align:center;font-size:4vw}h2[_ngcontent-%COMP%]{text-align:center;color:#fff;text-shadow:2px 2px 1px black;font-size:7vw;padding-left:2%;padding-right:2%}}@media (min-width: 41em){.icono-rrss[_ngcontent-%COMP%]{width:3vw}.imagen[_ngcontent-%COMP%]{height:60%}h4[_ngcontent-%COMP%]{text-align:center;text-shadow:1px 1px 1px black;font-size:2vw}h2[_ngcontent-%COMP%]{text-align:center;color:#fff;text-shadow:4px 4px 3px black;font-size:4vw}.text-titulo[_ngcontent-%COMP%]{font-size:x-large;font-weight:700}}"]}),n})();const Lt=["angularCropper"],kt=["angularCropper2"],Rt=["angularCropper3"];function Qt(n,c){1&n&&e._UZ(0,"button",63)}function jt(n,c){1&n&&e._UZ(0,"button",64)}function Yt(n,c){1&n&&e._UZ(0,"button",65)}function Dt(n,c){1&n&&e._UZ(0,"button",66)}function Ht(n,c){1&n&&e._UZ(0,"button",67)}function zt(n,c){1&n&&e._UZ(0,"button",68)}function Gt(n,c){1&n&&e._UZ(0,"button",69)}function Bt(n,c){1&n&&e._UZ(0,"button",70)}function Vt(n,c){if(1&n&&(e.TgZ(0,"h5",79)(1,"b"),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.titulo)}}function $t(n,c){if(1&n&&(e.TgZ(0,"p",80)(1,"b"),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.subtitulo)}}function Kt(n,c){if(1&n&&(e.TgZ(0,"h5",81)(1,"b"),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.titulo)}}function Xt(n,c){if(1&n&&(e.TgZ(0,"p",82)(1,"b"),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.subtitulo)}}function Wt(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",71)(1,"button",72),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.quitarDelCarousel(a.id))}),e._uU(2,"QUITAR DEL CARRUSEL"),e.qZA(),e._UZ(3,"img",73),e.TgZ(4,"div",74),e.YNc(5,Vt,3,1,"h5",75),e.YNc(6,$t,3,1,"p",76),e.YNc(7,Kt,3,1,"h5",77),e.YNc(8,Xt,3,1,"p",78),e.qZA()()}if(2&n){const t=c.$implicit;e.xp6(3),e.s9C("src",t.imagenPreviewUrl,e.LSH),e.xp6(2),e.Q6J("ngIf",!t.letraOscura),e.xp6(1),e.Q6J("ngIf",!t.letraOscura),e.xp6(1),e.Q6J("ngIf",t.letraOscura),e.xp6(1),e.Q6J("ngIf",t.letraOscura)}}function ei(n,c){1&n&&e._UZ(0,"button",83)}function ti(n,c){1&n&&e._UZ(0,"button",84)}function ii(n,c){1&n&&e._UZ(0,"button",85)}function ni(n,c){1&n&&e._UZ(0,"button",86)}function oi(n,c){1&n&&e._UZ(0,"button",87)}function ai(n,c){1&n&&e._UZ(0,"button",88)}function ci(n,c){1&n&&e._UZ(0,"button",89)}function ri(n,c){1&n&&e._UZ(0,"button",90)}function si(n,c){if(1&n&&(e.TgZ(0,"h5",79)(1,"b"),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.titulo)}}function li(n,c){if(1&n&&(e.TgZ(0,"p",80)(1,"b"),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.subtitulo)}}function ui(n,c){if(1&n&&(e.TgZ(0,"h5",81)(1,"b"),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.titulo)}}function di(n,c){if(1&n&&(e.TgZ(0,"p",82)(1,"b"),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.subtitulo)}}function pi(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",71)(1,"button",91),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.quitarDelCarousel(a.id))}),e._uU(2,"QUITAR DEL CARRUSEL"),e.qZA(),e._UZ(3,"img",73),e.TgZ(4,"div",74),e.YNc(5,si,3,1,"h5",75),e.YNc(6,li,3,1,"p",76),e.YNc(7,ui,3,1,"h5",77),e.YNc(8,di,3,1,"p",78),e.qZA()()}if(2&n){const t=c.$implicit;e.xp6(3),e.s9C("src",t.imagenPreviewUrl,e.LSH),e.xp6(2),e.Q6J("ngIf",!t.letraOscura),e.xp6(1),e.Q6J("ngIf",!t.letraOscura),e.xp6(1),e.Q6J("ngIf",t.letraOscura),e.xp6(1),e.Q6J("ngIf",t.letraOscura)}}function gi(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",92)(1,"div",93)(2,"div",94)(3,"h4",95),e._uU(4),e.qZA()(),e.TgZ(5,"button",96),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.agregarAlCarousel(a.id))}),e._uU(6,"AGREGAR AL CAROUSEL"),e.qZA()()()}if(2&n){const t=c.$implicit;e.xp6(4),e.Oqu(t.titulo)}}const j=function(n){return{aspectRatio:n}};function mi(n,c){if(1&n&&(e.TgZ(0,"section"),e._UZ(1,"angular-cropper",97,98),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("cropperOptions",e.VKq(2,j,3/4))("imageUrl",t.imagenInicioDerecha.url)}}function hi(n,c){if(1&n&&(e.TgZ(0,"section"),e._UZ(1,"angular-cropper",97,99),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("cropperOptions",e.VKq(2,j,3/4))("imageUrl",t.imagenInicioIzquierda.url)}}function bi(n,c){if(1&n&&(e.TgZ(0,"section"),e._UZ(1,"angular-cropper",97,100),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("cropperOptions",e.VKq(2,j,1.5))("imageUrl",t.imagenInicioCentral.url)}}let _i=(()=>{class n{constructor(t,i){this.publicacionesService=t,this.imagenesService=i,this.angularCropper=new f.V2,this.angularCropper2=new f.V2,this.angularCropper3=new f.V2,this.publicaciones=[],this.publicacionesCarousel=[],this.publicacionesNoCarousel=[],this.imageUrl="",this.imagePreviewUrl="",this.imageName="",this.croppedresult="",this.anchoImagen="100",this.imagenInicioDerecha=new Z,this.imagenInicioIzquierda=new Z,this.imagenInicioCentral=new Z}ngOnInit(){this.getPublicaciones(),this.getImagenesInicio(),this.imagenInicioDerecha.id="1",this.imagenInicioDerecha.posicion="derecha",this.imagenInicioIzquierda.id="2",this.imagenInicioIzquierda.posicion="izquierda",this.imagenInicioCentral.id="3",this.imagenInicioCentral.posicion="centro"}getPublicaciones(){this.publicacionesCarousel=[],this.publicacionesNoCarousel=[],this.publicacionesService.getPublicacionesCarousel().subscribe(t=>{this.publicacionesCarousel=t,this.publicacionesCarousel.forEach(i=>{i.id=this.publicacionesService.getId(i),i.subtitulo=i.subtitulo.substring(0,160)+"...",this.publicacionesService.getPublicacionesNoCarousel().subscribe(o=>{this.publicacionesNoCarousel=o,this.publicacionesNoCarousel.forEach(a=>{a.id=this.publicacionesService.getId(a),a.subtitulo=a.subtitulo.substring(0,160)+"..."})})})})}quitarDelCarousel(t){this.publicacionesService.getPublicacionById(t).subscribe(i=>{i.id=t,i.carousel=!1,this.publicacionesService.getAutorFromPublicacion(i).subscribe(o=>{o.id=this.publicacionesService.getId(o),i.autor=o,this.publicacionesService.getCategoriaFromPublicacion(i).subscribe(a=>{a.id=this.publicacionesService.getId(a),i.categoria=a,this.publicacionesService.getTagsFromPublicacion(i).subscribe(s=>{s.forEach(h=>{h.id=this.publicacionesService.getId(h)}),i.tags=s,this.publicacionesService.getLugarFromPublicacion(i).subscribe(h=>{h.id=this.publicacionesService.getId(h),i.lugar=h,this.publicacionesService.patchPublicacion(i).subscribe(N=>{this.getPublicaciones(),this.getImagenesInicio()})})})})})})}agregarAlCarousel(t){this.publicacionesService.getPublicacionById(t).subscribe(i=>{i.id=t,i.carousel=!0,this.publicacionesService.getAutorFromPublicacion(i).subscribe(o=>{o.id=this.publicacionesService.getId(o),i.autor=o,this.publicacionesService.getCategoriaFromPublicacion(i).subscribe(a=>{a.id=this.publicacionesService.getId(a),i.categoria=a,this.publicacionesService.getTagsFromPublicacion(i).subscribe(s=>{s.forEach(h=>{h.id=this.publicacionesService.getId(h)}),i.tags=s,this.publicacionesService.getLugarFromPublicacion(i).subscribe(h=>{h.id=this.publicacionesService.getId(h),i.lugar=h,this.publicacionesService.patchPublicacion(i).subscribe(N=>{this.getPublicaciones(),this.getImagenesInicio()})})})})})})}onSelectFileDerecha(t){if(t.target.files&&t.target.files[0]){const i=new FileReader;i.readAsDataURL(t.target.files[0]),i.onload=()=>{this.imagePreviewUrl=i.result,this.imagenInicioDerecha.url=this.imagePreviewUrl},this.imageName=t.target.files[0].name}}onSelectFileIzquierda(t){if(t.target.files&&t.target.files[0]){const i=new FileReader;i.readAsDataURL(t.target.files[0]),i.onload=()=>{this.imagePreviewUrl=i.result,this.imagenInicioIzquierda.url=this.imagePreviewUrl},this.imageName=t.target.files[0].name}}onSelectFileCentral(t){if(t.target.files&&t.target.files[0]){const i=new FileReader;i.readAsDataURL(t.target.files[0]),i.onload=()=>{this.imagePreviewUrl=i.result,this.imagenInicioCentral.url=this.imagePreviewUrl},this.imageName=t.target.files[0].name}}getCroppedImageDerecha(){this.angularCropper.cropper.getCroppedCanvas().toBlob(t=>{const i=new FileReader;i.readAsDataURL(t),i.onload=()=>{this.croppedresult=i.result;let a=new File([t],this.imageName,{type:"image/jpeg"});this.imagenesService.subirImagen(a,"imagenLateralDerecha","lateral").subscribe(s=>{this.imagenInicioDerecha.url=s,this.setImagenInicioDerecha()})}},"image/jpeg",.7)}getCroppedImageIzquierda(){this.angularCropper2.cropper.getCroppedCanvas().toBlob(t=>{const i=new FileReader;i.readAsDataURL(t),i.onload=()=>{this.croppedresult=i.result;let a=new File([t],this.imageName,{type:"image/jpeg"});this.imagenesService.subirImagen(a,"imagenLateralIzquierda","inicio").subscribe(s=>{console.log("URL IMAGEN SUBIDA: ",s),this.imagenInicioIzquierda.url=s,this.setImagenInicioIzquierda()})}},"image/jpeg",.7)}getCroppedImageCentral(){this.angularCropper3.cropper.getCroppedCanvas().toBlob(t=>{const i=new FileReader;i.readAsDataURL(t),i.onload=()=>{this.croppedresult=i.result;let a=new File([t],this.imageName,{type:"image/jpeg"});this.imagenesService.subirImagen(a,"imagenCentral","inicio").subscribe(s=>{console.log("URL IMAGEN SUBIDA: ",s),this.imagenInicioCentral.url=s,this.setImagenInicioCentral()})}},"image/jpeg",.7)}getImagenesInicio(){this.imagenesService.getImagenesInicio().subscribe(t=>{t.forEach(i=>{"derecha"==i.posicion&&(this.imagenInicioDerecha=i),"izquierda"==i.posicion&&(this.imagenInicioIzquierda=i),"centro"==i.posicion&&(this.imagenInicioCentral=i)})})}setImagenInicioDerecha(){this.imagenesService.setImagenInicioDerecha(this.imagenInicioDerecha).subscribe(t=>{this.imagenInicioDerecha=t})}setImagenInicioIzquierda(){this.imagenesService.setImagenInicioIzquierda(this.imagenInicioIzquierda).subscribe(t=>{this.imagenInicioIzquierda=t})}setImagenInicioCentral(){this.imagenesService.setImagenInicioCentral(this.imagenInicioCentral).subscribe(t=>{this.imagenInicioCentral=t})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l),e.Y36(u.j))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-editor-inicio"]],viewQuery:function(t,i){if(1&t&&(e.Gf(Lt,5),e.Gf(kt,5),e.Gf(Rt,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.angularCropper=o.first),e.iGM(o=e.CRH())&&(i.angularCropper2=o.first),e.iGM(o=e.CRH())&&(i.angularCropper3=o.first)}},decls:128,vars:26,consts:[[1,"titulo","row","p-0","m-0","text-center"],[1,"inicio","row","p-0","m-0"],[1,"promo","col-12","col-sm-3","p-0","m-0"],[1,"col-12","d-sm-none","text-center"],["data-bs-toggle","modal","data-bs-target","#imagenLateralIzquierdaModal",1,"boton","btn","btn-warning","btn-sm","m-3"],["alt","","data-bs-toggle","modal","data-bs-target","#imagenLateralIzquierdaModal",1,"imagen-promo","img-fluid","p-0","m-0",3,"src"],[1,"carrusel","d-none","d-sm-block","col-sm-6","p-0","m-0"],["id","carouselCaptions","data-bs-ride","carousel","data-bs-wrap","true",1,"carousel","slide","carousel-fade"],[1,"carousel-indicators"],["type","button","data-bs-target","#carouselCaptions","data-bs-slide-to","0","aria-current","true","aria-label","Slide 1",1,"active"],["type","button","data-bs-target","#carouselCaptions","data-bs-slide-to","1","aria-label","Slide 2",4,"ngIf"],["type","button","data-bs-target","#carouselCaptions","data-bs-slide-to","2","aria-label","Slide 3",4,"ngIf"],["type","button","data-bs-target","#carouselCaptions","data-bs-slide-to","3","aria-label","Slide 4",4,"ngIf"],["type","button","data-bs-target","#carouselCaptions","data-bs-slide-to","4","aria-label","Slide 5",4,"ngIf"],["type","button","data-bs-target","#carouselCaptions","data-bs-slide-to","5","aria-label","Slide 6",4,"ngIf"],["type","button","data-bs-target","#carouselCaptions","data-bs-slide-to","6","aria-label","Slide 7",4,"ngIf"],["type","button","data-bs-target","#carouselCaptions","data-bs-slide-to","7","aria-label","Slide 8",4,"ngIf"],["type","button","data-bs-target","#carouselCaptions","data-bs-slide-to","8","aria-label","Slide 9",4,"ngIf"],[1,"carousel-inner"],["data-bs-interval","4000",1,"carousel-item","active"],["data-bs-toggle","modal","data-bs-target","#imagenCentralModal",1,"boton-central","btn","btn-warning","btn-sm","m-3"],["alt","...",1,"d-block","w-100",2,"margin","0","padding","0",3,"src"],["class","carousel-item","data-bs-interval","3500",4,"ngFor","ngForOf"],["type","button","data-bs-target","#carouselCaptions","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselCaptions","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],["data-bs-toggle","modal","data-bs-target","#imagenLateralDerechaModal",1,"boton","btn","btn-warning","btn-sm","m-3"],["alt","","data-bs-toggle","modal","data-bs-target","#imagenLateralDerechaModal",1,"imagen-promo","img-fluid","p-0","m-0",3,"src"],[1,"carrusel-pequeno","col-12","d-sm-none","p-0","m-0"],["id","carouselPequeno","data-bs-ride","carousel","data-bs-wrap","true",1,"carousel","slide","carousel-fade"],["type","button","data-bs-target","#carouselPequeno","data-bs-slide-to","0","aria-current","true","aria-label","Slide 1",1,"active"],["type","button","data-bs-target","#carouselPequeno","data-bs-slide-to","1","aria-label","Slide 2",4,"ngIf"],["type","button","data-bs-target","#carouselPequeno","data-bs-slide-to","2","aria-label","Slide 3",4,"ngIf"],["type","button","data-bs-target","#carouselPequeno","data-bs-slide-to","3","aria-label","Slide 4",4,"ngIf"],["type","button","data-bs-target","#carouselPequeno","data-bs-slide-to","4","aria-label","Slide 5",4,"ngIf"],["type","button","data-bs-target","#carouselPequeno","data-bs-slide-to","5","aria-label","Slide 6",4,"ngIf"],["type","button","data-bs-target","#carouselPequeno","data-bs-slide-to","6","aria-label","Slide 7",4,"ngIf"],["type","button","data-bs-target","#carouselPequeno","data-bs-slide-to","7","aria-label","Slide 8",4,"ngIf"],["type","button","data-bs-target","#carouselPequeno","data-bs-slide-to","8","aria-label","Slide 9",4,"ngIf"],["type","button","data-bs-target","#carouselPequeno","data-bs-slide","prev",1,"carousel-control-prev"],["type","button","data-bs-target","#carouselPequeno","data-bs-slide","next",1,"carousel-control-next"],[1,"row","seccion-agregar-carrousel"],[1,"publicaciones-agregar","mt-4"],[1,"row"],[1,"col-8","col-sm-6"],[1,"titulo"],["style","display:block;","class","row",4,"ngFor","ngForOf"],["id","imagenLateralDerechaModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["type","file","accept","images/",3,"change"],[4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["data-bs-dismiss","modal",1,"btn","btn-primary",3,"click"],["id","imagenLateralIzquierdaModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","imagenCentralModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["type","button","data-bs-target","#carouselCaptions","data-bs-slide-to","1","aria-label","Slide 2"],["type","button","data-bs-target","#carouselCaptions","data-bs-slide-to","2","aria-label","Slide 3"],["type","button","data-bs-target","#carouselCaptions","data-bs-slide-to","3","aria-label","Slide 4"],["type","button","data-bs-target","#carouselCaptions","data-bs-slide-to","4","aria-label","Slide 5"],["type","button","data-bs-target","#carouselCaptions","data-bs-slide-to","5","aria-label","Slide 6"],["type","button","data-bs-target","#carouselCaptions","data-bs-slide-to","6","aria-label","Slide 7"],["type","button","data-bs-target","#carouselCaptions","data-bs-slide-to","7","aria-label","Slide 8"],["type","button","data-bs-target","#carouselCaptions","data-bs-slide-to","8","aria-label","Slide 9"],["data-bs-interval","3500",1,"carousel-item"],["data-bs-target","#carouselCaptions","data-bs-slide-to","0",1,"boton-central","btn","btn-danger","btn-sm","m-3",3,"click"],["alt","...",1,"d-block","w-100",3,"src"],[1,"carousel-caption"],["class","letra-blanca",4,"ngIf"],["class","letra-blanca d-none d-md-block",4,"ngIf"],["class","letra-negra",4,"ngIf"],["class","letra-negra d-none d-md-block",4,"ngIf"],[1,"letra-blanca"],[1,"letra-blanca","d-none","d-md-block"],[1,"letra-negra"],[1,"letra-negra","d-none","d-md-block"],["type","button","data-bs-target","#carouselPequeno","data-bs-slide-to","1","aria-label","Slide 2"],["type","button","data-bs-target","#carouselPequeno","data-bs-slide-to","2","aria-label","Slide 3"],["type","button","data-bs-target","#carouselPequeno","data-bs-slide-to","3","aria-label","Slide 4"],["type","button","data-bs-target","#carouselPequeno","data-bs-slide-to","4","aria-label","Slide 5"],["type","button","data-bs-target","#carouselPequeno","data-bs-slide-to","5","aria-label","Slide 6"],["type","button","data-bs-target","#carouselPequeno","data-bs-slide-to","6","aria-label","Slide 7"],["type","button","data-bs-target","#carouselPequeno","data-bs-slide-to","7","aria-label","Slide 8"],["type","button","data-bs-target","#carouselPequeno","data-bs-slide-to","8","aria-label","Slide 9"],["data-bs-target","#carouselPequeno","data-bs-slide-to","0",1,"boton-central","btn","btn-danger","btn-sm","m-3",3,"click"],[1,"row",2,"display","block"],[1,"row","my-2"],[1,"col-8","col-sm-9"],[1,"titulo-publicacion"],[1,"boton-agregar","btn","btn-success","btn-sm","col-4","col-sm-2",3,"click"],[3,"cropperOptions","imageUrl"],["angularCropper",""],["angularCropper2",""],["angularCropper3",""]],template:function(t,i){1&t&&(e.TgZ(0,"section",0)(1,"h3"),e._uU(2,"EDICI\xd3N DE LA P\xc1GINA DE INICIO"),e.qZA()(),e.TgZ(3,"section",1)(4,"section",2)(5,"h5",3),e._uU(6,"Imagen tienda"),e.qZA(),e.TgZ(7,"button",4),e._uU(8,"CAMBIAR"),e.qZA(),e._UZ(9,"img",5),e.qZA(),e.TgZ(10,"section",6)(11,"div",7)(12,"div",8),e._UZ(13,"button",9),e.YNc(14,Qt,1,0,"button",10),e.YNc(15,jt,1,0,"button",11),e.YNc(16,Yt,1,0,"button",12),e.YNc(17,Dt,1,0,"button",13),e.YNc(18,Ht,1,0,"button",14),e.YNc(19,zt,1,0,"button",15),e.YNc(20,Gt,1,0,"button",16),e.YNc(21,Bt,1,0,"button",17),e.qZA(),e.TgZ(22,"div",18)(23,"div",19)(24,"button",20),e._uU(25,"CAMBIAR IMAGEN DE INICIO"),e.qZA(),e._UZ(26,"img",21),e.qZA(),e.YNc(27,Wt,9,5,"div",22),e.qZA(),e.TgZ(28,"button",23),e._UZ(29,"span",24),e.TgZ(30,"span",25),e._uU(31,"Previous"),e.qZA()(),e.TgZ(32,"button",26),e._UZ(33,"span",27),e.TgZ(34,"span",25),e._uU(35,"Next"),e.qZA()()()(),e.TgZ(36,"section",2)(37,"h5",3),e._uU(38,"Imagen suscripcion"),e.qZA(),e.TgZ(39,"button",28),e._uU(40,"CAMBIAR"),e.qZA(),e._UZ(41,"img",29),e.qZA()(),e.TgZ(42,"section",30)(43,"h5",3),e._uU(44,"Imagenes del carrusel"),e.qZA(),e.TgZ(45,"div",31)(46,"div",8),e._UZ(47,"button",32),e.YNc(48,ei,1,0,"button",33),e.YNc(49,ti,1,0,"button",34),e.YNc(50,ii,1,0,"button",35),e.YNc(51,ni,1,0,"button",36),e.YNc(52,oi,1,0,"button",37),e.YNc(53,ai,1,0,"button",38),e.YNc(54,ci,1,0,"button",39),e.YNc(55,ri,1,0,"button",40),e.qZA(),e.TgZ(56,"div",18)(57,"div",19)(58,"button",20),e._uU(59,"CAMBIAR IMAGEN DE INICIO"),e.qZA(),e._UZ(60,"img",21),e.qZA(),e.YNc(61,pi,9,5,"div",22),e.qZA(),e.TgZ(62,"button",41),e._UZ(63,"span",24),e.TgZ(64,"span",25),e._uU(65,"Previous"),e.qZA()(),e.TgZ(66,"button",42),e._UZ(67,"span",27),e.TgZ(68,"span",25),e._uU(69,"Next"),e.qZA()()()(),e.TgZ(70,"div",43)(71,"h3",44)(72,"b"),e._uU(73,"Publicaciones que puedes a\xf1adir al Carrulsel"),e.qZA()(),e.TgZ(74,"div",45)(75,"div",46)(76,"h5",47)(77,"b"),e._uU(78,"Titulo de la publicaci\xf3n"),e.qZA()()()(),e.YNc(79,gi,7,1,"div",48),e.qZA(),e.TgZ(80,"div",49)(81,"div",50)(82,"div",51)(83,"div",52)(84,"h1",53),e._uU(85,"Insertar Imagen"),e.qZA(),e._UZ(86,"button",54),e.qZA(),e.TgZ(87,"div",55)(88,"section")(89,"input",56),e.NdJ("change",function(a){return i.onSelectFileDerecha(a)}),e.qZA()(),e.YNc(90,mi,3,4,"section",57),e.qZA(),e.TgZ(91,"div",58)(92,"button",59),e._uU(93,"Cerrar"),e.qZA(),e.TgZ(94,"button",60),e.NdJ("click",function(){return i.getCroppedImageDerecha()}),e._uU(95,"Aceptar"),e.qZA()()()()(),e.TgZ(96,"div",61)(97,"div",50)(98,"div",51)(99,"div",52)(100,"h1",53),e._uU(101,"Insertar Imagen"),e.qZA(),e._UZ(102,"button",54),e.qZA(),e.TgZ(103,"div",55)(104,"section")(105,"input",56),e.NdJ("change",function(a){return i.onSelectFileIzquierda(a)}),e.qZA()(),e.YNc(106,hi,3,4,"section",57),e.qZA(),e.TgZ(107,"div",58)(108,"button",59),e._uU(109,"Cerrar"),e.qZA(),e.TgZ(110,"button",60),e.NdJ("click",function(){return i.getCroppedImageIzquierda()}),e._uU(111,"Aceptar"),e.qZA()()()()(),e.TgZ(112,"div",62)(113,"div",50)(114,"div",51)(115,"div",52)(116,"h1",53),e._uU(117,"Insertar Imagen"),e.qZA(),e._UZ(118,"button",54),e.qZA(),e.TgZ(119,"div",55)(120,"section")(121,"input",56),e.NdJ("change",function(a){return i.onSelectFileCentral(a)}),e.qZA()(),e.YNc(122,bi,3,4,"section",57),e.qZA(),e.TgZ(123,"div",58)(124,"button",59),e._uU(125,"Cerrar"),e.qZA(),e.TgZ(126,"button",60),e.NdJ("click",function(){return i.getCroppedImageCentral()}),e._uU(127,"Aceptar"),e.qZA()()()()()),2&t&&(e.xp6(9),e.s9C("src",i.imagenInicioIzquierda.url,e.LSH),e.xp6(5),e.Q6J("ngIf",i.publicacionesCarousel[0]),e.xp6(1),e.Q6J("ngIf",i.publicacionesCarousel[1]),e.xp6(1),e.Q6J("ngIf",i.publicacionesCarousel[2]),e.xp6(1),e.Q6J("ngIf",i.publicacionesCarousel[3]),e.xp6(1),e.Q6J("ngIf",i.publicacionesCarousel[3]),e.xp6(1),e.Q6J("ngIf",i.publicacionesCarousel[5]),e.xp6(1),e.Q6J("ngIf",i.publicacionesCarousel[6]),e.xp6(1),e.Q6J("ngIf",i.publicacionesCarousel[7]),e.xp6(5),e.s9C("src",i.imagenInicioCentral.url,e.LSH),e.xp6(1),e.Q6J("ngForOf",i.publicacionesCarousel),e.xp6(14),e.s9C("src",i.imagenInicioDerecha.url,e.LSH),e.xp6(7),e.Q6J("ngIf",i.publicacionesCarousel[0]),e.xp6(1),e.Q6J("ngIf",i.publicacionesCarousel[1]),e.xp6(1),e.Q6J("ngIf",i.publicacionesCarousel[2]),e.xp6(1),e.Q6J("ngIf",i.publicacionesCarousel[3]),e.xp6(1),e.Q6J("ngIf",i.publicacionesCarousel[3]),e.xp6(1),e.Q6J("ngIf",i.publicacionesCarousel[5]),e.xp6(1),e.Q6J("ngIf",i.publicacionesCarousel[6]),e.xp6(1),e.Q6J("ngIf",i.publicacionesCarousel[7]),e.xp6(5),e.s9C("src",i.imagenInicioCentral.url,e.LSH),e.xp6(1),e.Q6J("ngForOf",i.publicacionesCarousel),e.xp6(18),e.Q6J("ngForOf",i.publicacionesNoCarousel),e.xp6(11),e.Q6J("ngIf",i.imagePreviewUrl),e.xp6(16),e.Q6J("ngIf",i.imagePreviewUrl),e.xp6(16),e.Q6J("ngIf",i.imagePreviewUrl))},dependencies:[p.sg,p.O5,f.V2],styles:[".card[_ngcontent-%COMP%]{margin:0;border-radius:0;border-style:none}.boton[_ngcontent-%COMP%]{position:absolute;margin-left:3%!important}.boton-central[_ngcontent-%COMP%]{position:absolute;margin-left:13%!important}.letra-blanca[_ngcontent-%COMP%]{color:#fff}.letra-blanca[_ngcontent-%COMP%]:hover{opacity:1;color:#f7c15d}.letra-negra[_ngcontent-%COMP%]{color:#000}.letra-negra[_ngcontent-%COMP%]:hover{opacity:1;color:#7a5003}.modal-header[_ngcontent-%COMP%]{background-color:#ff6d00;color:#fff}.carousel-caption[_ngcontent-%COMP%]{opacity:0;transform:translateY(100%)}.carousel-item.active[_ngcontent-%COMP%]   .carousel-caption[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slide-up .8s 1s forwards}.carousel-item[_ngcontent-%COMP%]   .carousel-caption[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slide-down .8s forwards}.seccion-agregar-carrousel[_ngcontent-%COMP%]{padding:3%}@keyframes _ngcontent-%COMP%_slide-up{0%{opacity:0;transform:translateY(100%)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slide-down{0%{opacity:1;transform:translateY(0)}50%{opacity:0;transform:translateY(-50%)}to{opacity:0;transform:translateY(100%)}}@keyframes _ngcontent-%COMP%_slidein{0%{transform:translateY(100%)}to{transform:translateY(0)}}@media (max-width: 40em){.promo[_ngcontent-%COMP%]{margin:5%!important}.imagen-promo[_ngcontent-%COMP%]{width:90%!important}.titulo-publicacion[_ngcontent-%COMP%]{font-size:small}.publicaciones-agregar[_ngcontent-%COMP%], .titulo[_ngcontent-%COMP%]{font-size:medium}.seccion-agregar-carrousel[_ngcontent-%COMP%]{padding:3%}.boton-agregar[_ngcontent-%COMP%]{font-size:x-small}}"]}),n})();class X{constructor(){this.id="",this.html="",this.nombrePagina=""}}let W=(()=>{class n{constructor(t){this.http=t,this.endpoint=C.N.urlAPI}getPaginaEditable(t){return this.http.get(this.endpoint+"/paginaEditables/search/paginaEditableByNombrePagina/"+t)}getId(t){let o=t._links.self.href.split("/");return o[o.length-1]}postPaginaEditable(t){return this.http.post(this.endpoint+"/paginaEditables/search/postPaginaEditable",t)}patchPaginaEditable(t){return this.http.patch(this.endpoint+"/paginaEditables/search/patchPaginaEditable/"+t.id,t)}deletePaginaEditable(t){return this.http.delete(this.endpoint+"/paginaEditables/search/deletePagina/"+t.id)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(m.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fi=(()=>{class n{constructor(t,i){this.paginaEditableService=t,this.activatedRoute=i,this.nombrePagina="",this.paginaEditable=new X}ngOnInit(){this.getNombrePagina(),this.getPaginaEditable()}getNombrePagina(){this.activatedRoute.params.subscribe(t=>{console.log(t),this.nombrePagina=t.paginaNombre.replaceAll("-"," "),console.log("NOMBRE PAGINA: "+this.nombrePagina)})}getPaginaEditable(){this.paginaEditableService.getPaginaEditable(this.nombrePagina).subscribe(t=>{t.id=this.paginaEditableService.getId(t),this.paginaEditable=t,this.paginaEditable.html=this.paginaEditable.html.replaceAll('<iframe class="ql-video ql-align-center" frameborder="0" allowfullscreen="true" src="https://www.youtube.com','<div class="iframe-container d-flex justify-content-center"><iframe class="ql-video"allowfullscreen="true" tipo="youtube" src="https://www.youtube.com'),this.paginaEditable.html=this.paginaEditable.html.replaceAll('<iframe class="ql-video ql-align-center" allowfullscreen="true" src="https://www.youtube.com','<div class="iframe-container d-flex justify-content-center"><iframe class="ql-video" allowfullscreen="true" tipo="youtube" src="https://www.youtube.com'),this.paginaEditable.html=this.paginaEditable.html.replaceAll('<iframe style="border-radius:12px" src="https://open.spotify.com','<div class="iframe-container d-flex justify-content-center"><iframe class="ql-video ql-align-center" allowfullscreen="true" tipo="podcast" src="https://open.spotify.com'),this.paginaEditable.html=this.paginaEditable.html.replaceAll('<iframe class="ql-video ql-align-center" src="https://open.spotify.com','<div class="iframe-container d-flex justify-content-center"><iframe class="ql-video ql-align-center" allowfullscreen="true" tipo="podcast" src="https://open.spotify.com'),this.paginaEditable.html=this.paginaEditable.html.replaceAll('<iframe class="ql-video ql-align-center" allowfullscreen="true" src="https://open.spotify.com','<div class="iframe-container d-flex justify-content-center"><iframe class="ql-video ql-align-center" allowfullscreen="true" tipo="podcast" src="https://open.spotify.com'),this.paginaEditable.html=this.paginaEditable.html.replaceAll("</iframe>","</iframe></div>"),this.paginaEditable.html=this.paginaEditable.html.replaceAll('<p class="ql-align-center"><img src="','<p class="ql-align-center imagen-container text-center"><img src="'),this.paginaEditable.html=this.paginaEditable.html.replaceAll('alt="imagenAlt100">','alt="imagenAlt100"></p>'),this.paginaEditable.html=this.paginaEditable.html.replaceAll('alt="imagenAlt75">','alt="imagenAlt75"></p>'),this.paginaEditable.html=this.paginaEditable.html.replaceAll('alt="imagenAlt50">','alt="imagenAlt50"></p>'),this.paginaEditable.html=this.paginaEditable.html.replaceAll('alt="imagenAlt35">','alt="imagenAlt35"></p>'),this.paginaEditable.html=this.paginaEditable.html.replaceAll('alt="imagenAlt20">','alt="imagenAlt20"></p>'),this.showPublicacion()})}showPublicacion(){var t=document.querySelector("#body"),i=document.createElement("div");i.innerHTML=this.paginaEditable.html,t?.appendChild(i)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(W),e.Y36(b.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-pagina-editable"]],decls:1,vars:0,consts:[["id","body",1,"body"]],template:function(t,i){1&t&&e._UZ(0,"body",0)},styles:[".body[_ngcontent-%COMP%]{margin-left:10%;margin-right:10%;margin-top:5%}@media (max-width: 40em){  img[alt=imagenAlt100]{width:100%!important}  img[alt=imagenAlt75]{width:90%!important}  img[alt=imagenAlt50]{width:70%!important}  img[alt=imagenAlt35]{width:60%!important}  img[alt=imagenAlt20]{width:50%!important}  .iframe-container{width:100%!important;height:-moz-fit-content!important;height:fit-content!important}  iframe[tipo=podcast]{width:100%!important;height:25vw!important}  iframe[tipo=youtube]{width:100%!important;height:48vw!important}}@media (min-width: 41em){  img[alt=imagenAlt100]{width:100%!important}  img[alt=imagenAlt75]{width:75%!important}  img[alt=imagenAlt50]{width:50%!important}  img[alt=imagenAlt35]{width:35%!important}  img[alt=imagenAlt20]{width:20%!important}  iframe[tipo=podcast]{width:75%!important;height:220px!important}  iframe[tipo=youtube]{width:75%!important;height:28vw!important}}"]}),n})();const Ci=["angularCropper"];function vi(n,c){if(1&n&&(e.TgZ(0,"section"),e._UZ(1,"angular-cropper",40,41),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("imageUrl",t.imageUrl)}}let Zi=(()=>{class n{constructor(t,i,o){this.paginaEditableService=t,this.imagenesService=i,this.activatedRoute=o,this.angularCropper=new f.V2,this.paginaEditable=new X,this.texto="",this.urlImagen="",this.urlVideo="",this.htmlPodcast="",this.htmlVideo="",this.imageUrl="",this.imagePreviewUrl="",this.imageName="",this.croppedresult="",this.anchoImagen="100",this.nombrePagina=""}ngOnInit(){this.getNombrePagina(),this.getPaginaEditable(),this.ajustarEditor()}getNombrePagina(){this.activatedRoute.params.subscribe(t=>{console.log(t),this.nombrePagina=t.paginaNombre.replaceAll("-"," ")})}getPaginaEditable(){this.paginaEditableService.getPaginaEditable(this.nombrePagina).subscribe(t=>{t.id=this.paginaEditableService.getId(t),this.paginaEditable=t,this.paginaEditable.html=this.paginaEditable.html.replaceAll('width="100%" height="352"','width="80%" height="200"'),this.texto=t.html})}enviar(){this.paginaEditable.id?this.patchPaginaEditable():this.postPaginaEditable()}postPaginaEditable(){this.paginaEditable.id=void 0,this.paginaEditable.html=this.texto,this.paginaEditable.nombrePagina=this.nombrePagina.replaceAll("-"," "),this.paginaEditableService.postPaginaEditable(this.paginaEditable).subscribe(t=>{t.id=this.paginaEditableService.getId(t),this.paginaEditable=t})}patchPaginaEditable(){this.paginaEditable.html=this.texto,this.paginaEditable.nombrePagina=this.nombrePagina.replaceAll("-"," "),this.paginaEditableService.patchPaginaEditable(this.paginaEditable).subscribe(t=>{t.id=this.paginaEditableService.getId(t),this.paginaEditable=t})}agregarPodcast(){this.htmlPodcast=this.htmlPodcast.replace("></iframe>",'tipo ="podcast"></iframe>'),this.htmlPodcast=this.htmlPodcast.replaceAll('width="100%" height="352"','width="80%" height="200"'),this.texto=this.texto+this.htmlPodcast}agregarVideo(){this.htmlVideo=this.htmlVideo.replace("></iframe>",'tipo ="youtube"></iframe>'),this.texto=this.texto+this.htmlVideo,this.htmlVideo=""}onSelectFile(t){if(t.target.files&&t.target.files[0]){const i=new FileReader;i.readAsDataURL(t.target.files[0]),i.onload=()=>{this.imageUrl=i.result},console.log("EVENT",t.target.files[0]),this.imageName=t.target.files[0].name}console.log("IMAGEN SELECCIONADA EN PC: ",this.imageUrl)}getCroppedImage(){this.angularCropper.cropper.getCroppedCanvas().toBlob(t=>{const i=new FileReader;i.readAsDataURL(t),i.onload=()=>{this.croppedresult=i.result;let a=new File([t],this.imageName,{type:"image/jpeg"});this.imagenesService.subirImagen(a,"pagina-editable","pagina-editable").subscribe(s=>{console.log("URL IMAGEN SUBIDA: ",s),this.insertarImagenUrl(s)})}},"image/jpeg",.7)}insertarImagenUrl(t){this.texto=this.texto+'<img src="'+t+'" alt="imagenAlt'+this.anchoImagen+'">',t="",this.imageUrl="",this.imageName=""}ajustarEditor(){setTimeout(()=>{document.getElementsByClassName("ql-editor")[0].setAttribute("style","height: 700px")},500)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(W),e.Y36(u.j),e.Y36(b.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-editor"]],viewQuery:function(t,i){if(1&t&&e.Gf(Ci,5),2&t){let o;e.iGM(o=e.CRH())&&(i.angularCropper=o.first)}},decls:79,vars:6,consts:[[1,"text-center"],[1,"mx-3"],[1,"m-1","agregar-bloque-texto","row","form-group","text-center"],[1,"col-1"],[1,"row"],["type","button","data-bs-toggle","modal","data-bs-target","#imagenModal",1,"btn"],["src","../../../../assets/icono-foto.png","alt","",1,"icono-youtube"],["type","button","data-bs-toggle","modal","data-bs-target","#videoModal",1,"btn"],["src","../../../../assets/icono-youtube.jpg","alt","",1,"icono-youtube"],["type","button","data-bs-toggle","modal","data-bs-target","#podcastModal",1,"btn"],["src","../../../../assets/icono-spotify.png","alt","",1,"icono-spotify"],["id","editor",1,"col-11","editor-container"],["name","editor","id","editor",1,"quill-editor","my-2","py-4",3,"ngModel","ngModelChange"],[1,"btn","btn-success","btn-sm","m-3",3,"click"],["id","podcastModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["type","text","name","","placeholder","Url del podcast Spotify","rows","1",2,"width","95%",3,"ngModel","ngModelChange"],["src","../../../../assets/copiar_codigo_spotify.png","alt","",1,"img-fluid","my-4"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["data-bs-dismiss","modal",1,"btn","btn-primary",3,"click"],["id","videoModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["type","text","name","","placeholder","Url del video de Youtube","rows","1",2,"width","95%",3,"ngModel","ngModelChange"],["src","../../../../assets/copiar_codigo_youtube.png","alt","",1,"img-fluid","my-4"],["id","imagenModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["type","file","accept","images/",3,"change"],[4,"ngIf"],[1,"my-4"],["for","",1,"mx-2"],["type","text",3,"ngModel","ngModelChange"],["value","100"],["value","75"],["value","50"],["value","35"],["value","20"],[3,"imageUrl"],["angularCropper",""]],template:function(t,i){1&t&&(e.TgZ(0,"h3",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1)(3,"form",2)(4,"div",3)(5,"div",4)(6,"button",5),e._UZ(7,"img",6),e.qZA()(),e.TgZ(8,"div",4)(9,"button",7),e._UZ(10,"img",8),e.qZA()(),e.TgZ(11,"div",4)(12,"button",9),e._UZ(13,"img",10),e.qZA()()(),e.TgZ(14,"div",11)(15,"quill-editor",12),e.NdJ("ngModelChange",function(a){return i.texto=a}),e.qZA()(),e.TgZ(16,"div",0)(17,"button",13),e.NdJ("click",function(){return i.enviar()}),e._uU(18,"ACEPTAR"),e.qZA()()()(),e.TgZ(19,"div",14)(20,"div",15)(21,"div",16)(22,"div",17)(23,"h1",18),e._uU(24,"Insertar Podcast"),e.qZA(),e._UZ(25,"button",19),e.qZA(),e.TgZ(26,"div",20)(27,"input",21),e.NdJ("ngModelChange",function(a){return i.htmlPodcast=a}),e.qZA(),e._UZ(28,"img",22),e.qZA(),e.TgZ(29,"div",23)(30,"button",24),e._uU(31,"Cerrar"),e.qZA(),e.TgZ(32,"button",25),e.NdJ("click",function(){return i.agregarPodcast()}),e._uU(33,"A\xf1adir podcast"),e.qZA()()()()(),e.TgZ(34,"div",26)(35,"div",15)(36,"div",16)(37,"div",17)(38,"h1",18),e._uU(39,"Insertar Video"),e.qZA(),e._UZ(40,"button",19),e.qZA(),e.TgZ(41,"div",20)(42,"input",27),e.NdJ("ngModelChange",function(a){return i.htmlVideo=a}),e.qZA(),e._UZ(43,"img",28),e.qZA(),e.TgZ(44,"div",23)(45,"button",24),e._uU(46,"Cerrar"),e.qZA(),e.TgZ(47,"button",25),e.NdJ("click",function(){return i.agregarVideo()}),e._uU(48,"A\xf1adir video"),e.qZA()()()()(),e.TgZ(49,"div",29)(50,"div",15)(51,"div",16)(52,"div",17)(53,"h1",18),e._uU(54,"Insertar Imagen"),e.qZA(),e._UZ(55,"button",19),e.qZA(),e.TgZ(56,"div",20)(57,"section")(58,"input",30),e.NdJ("change",function(a){return i.onSelectFile(a)}),e.qZA()(),e.YNc(59,vi,3,1,"section",31),e.TgZ(60,"section",32)(61,"label",33),e._uU(62,"Tama\xf1o"),e.qZA(),e.TgZ(63,"select",34),e.NdJ("ngModelChange",function(a){return i.anchoImagen=a}),e.TgZ(64,"option",35),e._uU(65,"Ancho 100%"),e.qZA(),e.TgZ(66,"option",36),e._uU(67,"Ancho 75%"),e.qZA(),e.TgZ(68,"option",37),e._uU(69,"Ancho 50%"),e.qZA(),e.TgZ(70,"option",38),e._uU(71,"Ancho 35%"),e.qZA(),e.TgZ(72,"option",39),e._uU(73,"Ancho 20%"),e.qZA()()()(),e.TgZ(74,"div",23)(75,"button",24),e._uU(76,"Cerrar"),e.qZA(),e.TgZ(77,"button",25),e.NdJ("click",function(){return i.getCroppedImage()}),e._uU(78,"Aceptar"),e.qZA()()()()()),2&t&&(e.xp6(1),e.hij('Contenido de la pagina "',i.nombrePagina,'"'),e.xp6(14),e.Q6J("ngModel",i.texto),e.xp6(12),e.Q6J("ngModel",i.htmlPodcast),e.xp6(15),e.Q6J("ngModel",i.htmlVideo),e.xp6(17),e.Q6J("ngIf",i.imageUrl),e.xp6(4),e.Q6J("ngModel",i.anchoImagen))},dependencies:[p.O5,r._Y,r.YN,r.Kr,r.Fj,r.EJ,r.JJ,r.JL,r.On,r.F,Q.g6,f.V2],styles:[".bloque[_ngcontent-%COMP%]{border-style:dotted;border-width:1px}.agregar-bloque-texto[_ngcontent-%COMP%]{border-style:solid;background-color:#fafaf9;border-width:1px}.agregar-bloque-imagen[_ngcontent-%COMP%]{border-style:solid;background-color:#c3dde1;border-width:1px}.agregar-bloque-video[_ngcontent-%COMP%]{border-style:solid;background-color:#dbab9f;border-width:1px}.agregar-bloque-podcast[_ngcontent-%COMP%]{border-style:solid;background-color:#cfeccf;border-width:1px}.preview-publicacion[_ngcontent-%COMP%]{border-style:solid;background-color:#d0d2d0;border-width:1px}.imagen-publicacion[_ngcontent-%COMP%]{width:50%}.cuadro-texto[_ngcontent-%COMP%]{width:100%}.quill-editor[_ngcontent-%COMP%]{background-color:#fff;width:90%;box-shadow:2px 2px 10px #666}.icono-spotify[_ngcontent-%COMP%], .icono-youtube[_ngcontent-%COMP%]{width:9vw;border-style:solid;border-width:1px;border-radius:5px}.ql-video[_ngcontent-%COMP%]{width:50px}.iframe-container[_ngcontent-%COMP%]{width:100px}.modal-header[_ngcontent-%COMP%]{background-color:#ff6d00;color:#fff}@media (max-width: 40em){  .imagen{width:100%!important}  img[alt=imagenAlt35]{width:60%!important}  img[alt=imagenAlt20]{width:50%!important}  .iframe-container{width:100%!important;height:-moz-fit-content!important;height:fit-content!important}  iframe[tipo=podcast]{width:100%!important;height:28vw!important}  iframe[tipo=youtube]{width:100%!important;height:45vw!important}}@media (min-width: 41em){  img[alt=imagenAlt100]{width:100%!important}  img[alt=imagenAlt75]{width:75%!important}  img[alt=imagenAlt50]{width:50%!important}  img[alt=imagenAlt35]{width:35%!important}  img[alt=imagenAlt20]{width:20%!important}  iframe[tipo=podcast]{width:75%!important;height:250px!important}  iframe[tipo=youtube]{width:75%!important;height:35vw!important}}"]}),n})(),Ti=(()=>{class n{constructor(t){this.http=t,this.tweetUrl="https://publish.twitter.com/oembed"}getTweet(t){return this.http.get(`${this.tweetUrl}?url=${t}`)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(m.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xi=(()=>{class n{constructor(t,i){this.lateralService=t,this.twitterService=i,this.lateral=new T,this.htmlPodcastSeleccionado="",this.htmlTwitterSeleccionado="",this.htmlTwitter2Seleccionado="",this.htmlTwitter3Seleccionado=""}ngOnInit(){this.getLateral()}getLateral(){this.lateralService.getLateral().subscribe(t=>{this.lateral=t,this.lateral.id=this.lateralService.getId(t),this.htmlPodcastSeleccionado=this.lateral.htmlPodcast,this.htmlTwitterSeleccionado=this.lateral.htmlTwitter,this.htmlTwitter2Seleccionado=this.lateral.htmlTwitter2,this.htmlTwitter3Seleccionado=this.lateral.htmlTwitter3,this.showHtmlPodcast(),this.showHtmlTwitter(),this.showHtmlTwitter2(),this.showHtmlTwitter3()}),this.lateral.htmlPodcast=this.lateral.htmlPodcast.replaceAll('<iframe style="border-radius:12px" src="https://open.spotify.com','<div class="iframe-container d-flex justify-content-center"><iframe class="ql-video ql-align-center" allowfullscreen="true" tipo="podcast" src="https://open.spotify.com'),this.lateral.htmlPodcast=this.lateral.htmlPodcast.replaceAll('<iframe class="ql-video ql-align-center" src="https://open.spotify.com','<div class="iframe-container d-flex justify-content-center"><iframe class="ql-video ql-align-center" allowfullscreen="true" tipo="podcast" src="https://open.spotify.com'),this.lateral.htmlPodcast=this.lateral.htmlPodcast.replaceAll('<iframe class="ql-video ql-align-center" allowfullscreen="true" src="https://open.spotify.com','<div class="iframe-container d-flex justify-content-center"><iframe class="ql-video ql-align-center" allowfullscreen="true" tipo="podcast" src="https://open.spotify.com'),this.lateral.htmlPodcast=this.lateral.htmlPodcast.replaceAll('<iframe class="ql-video" src="https://open.spotify.com','<div class="iframe-container d-flex justify-content-center"><iframe class="ql-video ql-align-center" allowfullscreen="true" tipo="podcast" src="https://open.spotify.com'),this.lateral.htmlPodcast=this.lateral.htmlPodcast.replaceAll('<iframe class="ql-video" allowfullscreen="true" src="https://open.spotify.com','<div class="iframe-container d-flex justify-content-center"><iframe class="ql-video ql-align-center" allowfullscreen="true" tipo="podcast" src="https://open.spotify.com'),this.lateral.htmlPodcast=this.lateral.htmlPodcast.replaceAll("</iframe>","</iframe></div>")}postLateral(){this.lateralService.postLateral(this.lateral).subscribe(t=>{this.lateral=t})}patchLateral(){this.lateralService.patchLateral(this.lateral).subscribe(t=>{this.lateral=t})}deleteLateral(){this.lateralService.deleteLateral().subscribe(t=>{})}agregarPodcast(){this.htmlPodcastSeleccionado=this.htmlPodcastSeleccionado.replaceAll('height="352"','height="100"'),this.lateral.htmlPodcast=this.htmlPodcastSeleccionado,this.showHtmlPodcast(),this.guardarCambios()}showHtmlPodcast(){var t=document.querySelector("#podcast"),i=document.createElement("div");i.innerHTML=this.lateral.htmlPodcast,t?.appendChild(i),console.log(i.innerHTML)}showHtmlPodcastSM(){var t=document.querySelector("#podcastSM"),i=document.createElement("div");i.innerHTML=this.lateral.htmlPodcast,t?.appendChild(i),console.log(i.innerHTML)}agregarTwitter(){var t=document.querySelector("#twitter"),i=document.querySelector("tweet");i&&t?.removeChild(i),this.lateral.htmlTwitter=this.htmlTwitterSeleccionado,this.guardarCambios()}agregarTwitter2(){document.querySelector("#twitter2"),this.lateral.htmlTwitter2=this.htmlTwitter2Seleccionado,this.guardarCambios()}agregarTwitter3(){document.querySelector("#twitter3"),this.lateral.htmlTwitter3=this.htmlTwitter3Seleccionado,this.guardarCambios()}showHtmlTwitter(){var t=document.querySelector("#twitter"),i=document.createElement("div");i.innerHTML=this.htmlTwitterSeleccionado,t?.appendChild(i)}showHtmlTwitter2(){var t=document.querySelector("#twitter2"),i=document.createElement("div");i.innerHTML=this.htmlTwitter2Seleccionado,t?.appendChild(i)}showHtmlTwitter3(){var t=document.querySelector("#twitter3"),i=document.createElement("div");i.innerHTML=this.htmlTwitter3Seleccionado,t?.appendChild(i),twttr.widgets.load()}guardarCambios(){"1"==this.lateral.id?this.lateralService.patchLateral(this.lateral).subscribe(t=>{this.lateral=t,location.reload()}):this.lateralService.postLateral(this.lateral).subscribe(t=>{this.lateral=t,this.lateral.id=this.lateralService.getId(t)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(v),e.Y36(Ti))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-editor-lateral"]],decls:94,vars:4,consts:[[1,"row","editor-lateral","my-4"],[1,"col-1","col-md-4"],[1,"lateral","col-10","col-md-4","text-center"],[1,"row","podcast-container"],["id","podcast",1,"podcast","mt-2"],[1,"text-center"],["data-bs-toggle","modal","data-bs-target","#podcastModal",1,"btn","btn-warning"],[1,"row","buscador-container"],["id","twitter-container",1,"row","twitter-container"],["id","twitter",1,"twitter","mt-2"],[1,"numero-tweet"],[1,"text-center","my-2"],["data-bs-toggle","modal","data-bs-target","#twitterModal",1,"btn","btn-warning"],["id","twitter-container2",1,"row","twitter-container"],["id","twitter2",1,"twitter2","mt-2"],["data-bs-toggle","modal","data-bs-target","#twitterModal2",1,"btn","btn-warning"],["id","twitter-container3",1,"row","twitter-container"],["id","twitter3",1,"twitter3","mt-2"],["data-bs-toggle","modal","data-bs-target","#twitterModal3",1,"btn","btn-warning"],[1,"row","instagram-container"],[1,"row","linkedin-container"],[1,"row","facebook-container"],["id","podcastModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["type","text","name","","placeholder","Url del podcast Spotify","rows","1",2,"width","95%",3,"ngModel","ngModelChange"],["src","../../../../assets/copiar_codigo_spotify.png","alt","",1,"img-fluid","my-4"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["data-bs-dismiss","modal",1,"btn","btn-primary",3,"click"],["id","twitterModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["src","../../../../assets/copiar_codigo_tweet.png","alt","",1,"img-fluid","my-4"],["id","twitterModal2","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","twitterModal3","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"]],template:function(t,i){1&t&&(e.TgZ(0,"section",0),e._UZ(1,"section",1),e.TgZ(2,"section",2)(3,"section",3),e._UZ(4,"div",4),e.TgZ(5,"div",5)(6,"button",6),e._uU(7,"Cambiar podcast"),e.qZA()()(),e._UZ(8,"section",7),e.TgZ(9,"section",8)(10,"div",9)(11,"h5",10),e._uU(12,"Tweet 1"),e.qZA()(),e.TgZ(13,"div",11)(14,"button",12),e._uU(15,"Cambiar tweet"),e.qZA()()(),e.TgZ(16,"section",13)(17,"div",14)(18,"h5",10),e._uU(19,"Tweet 2"),e.qZA()(),e.TgZ(20,"div",11)(21,"button",15),e._uU(22,"Cambiar tweet"),e.qZA()()(),e.TgZ(23,"section",16)(24,"div",17)(25,"h5",10),e._uU(26,"Tweet 3"),e.qZA()(),e.TgZ(27,"div",11)(28,"button",18),e._uU(29,"Cambiar tweet"),e.qZA()()(),e._UZ(30,"section",19)(31,"section",20)(32,"section",21),e.qZA(),e._UZ(33,"div",1),e.qZA(),e.TgZ(34,"div",22)(35,"div",23)(36,"div",24)(37,"div",25)(38,"h1",26),e._uU(39,"Insertar Podcast"),e.qZA(),e._UZ(40,"button",27),e.qZA(),e.TgZ(41,"div",28)(42,"input",29),e.NdJ("ngModelChange",function(a){return i.htmlPodcastSeleccionado=a}),e.qZA(),e._UZ(43,"img",30),e.qZA(),e.TgZ(44,"div",31)(45,"button",32),e._uU(46,"Cerrar"),e.qZA(),e.TgZ(47,"button",33),e.NdJ("click",function(){return i.agregarPodcast()}),e._uU(48,"A\xf1adir podcast"),e.qZA()()()()(),e.TgZ(49,"div",34)(50,"div",23)(51,"div",24)(52,"div",25)(53,"h1",26),e._uU(54,"Insertar Twitter"),e.qZA(),e._UZ(55,"button",27),e.qZA(),e.TgZ(56,"div",28)(57,"input",29),e.NdJ("ngModelChange",function(a){return i.htmlTwitterSeleccionado=a}),e.qZA(),e._UZ(58,"img",35),e.qZA(),e.TgZ(59,"div",31)(60,"button",32),e._uU(61,"Cerrar"),e.qZA(),e.TgZ(62,"button",33),e.NdJ("click",function(){return i.agregarTwitter()}),e._uU(63,"A\xf1adir tweet seleccionado"),e.qZA()()()()(),e.TgZ(64,"div",36)(65,"div",23)(66,"div",24)(67,"div",25)(68,"h1",26),e._uU(69,"Insertar Twitter 2"),e.qZA(),e._UZ(70,"button",27),e.qZA(),e.TgZ(71,"div",28)(72,"input",29),e.NdJ("ngModelChange",function(a){return i.htmlTwitter2Seleccionado=a}),e.qZA(),e._UZ(73,"img",35),e.qZA(),e.TgZ(74,"div",31)(75,"button",32),e._uU(76,"Cerrar"),e.qZA(),e.TgZ(77,"button",33),e.NdJ("click",function(){return i.agregarTwitter2()}),e._uU(78,"A\xf1adir tweet seleccionado"),e.qZA()()()()(),e.TgZ(79,"div",37)(80,"div",23)(81,"div",24)(82,"div",25)(83,"h1",26),e._uU(84,"Insertar Twitter 3"),e.qZA(),e._UZ(85,"button",27),e.qZA(),e.TgZ(86,"div",28)(87,"input",29),e.NdJ("ngModelChange",function(a){return i.htmlTwitter3Seleccionado=a}),e.qZA(),e._UZ(88,"img",35),e.qZA(),e.TgZ(89,"div",31)(90,"button",32),e._uU(91,"Cerrar"),e.qZA(),e.TgZ(92,"button",33),e.NdJ("click",function(){return i.agregarTwitter3()}),e._uU(93,"A\xf1adir tweet seleccionado"),e.qZA()()()()()),2&t&&(e.xp6(42),e.Q6J("ngModel",i.htmlPodcastSeleccionado),e.xp6(15),e.Q6J("ngModel",i.htmlTwitterSeleccionado),e.xp6(15),e.Q6J("ngModel",i.htmlTwitter2Seleccionado),e.xp6(15),e.Q6J("ngModel",i.htmlTwitter3Seleccionado))},dependencies:[r.Fj,r.JJ,r.On],styles:[".podcast-container[_ngcontent-%COMP%]{background-color:#000;height:200px;padding:5%}.twitter-container[_ngcontent-%COMP%]{margin-top:5%;padding:5%;background-color:#000;height:-moz-fit-content;height:fit-content}.numero-tweet[_ngcontent-%COMP%]{color:#fff}"]}),n})();function wi(n,c){if(1&n&&(e.TgZ(0,"div",3),e._UZ(1,"app-publicacion",4),e.qZA()),2&n){const t=c.$implicit;e.xp6(1),e.Q6J("publicacion",t)}}let Ai=(()=>{class n{constructor(t,i,o){this.publicacionesService=t,this.activatedRoute=i,this.categoriaService=o,this.palabrasClave=[],this.id="",this.publicaciones=[]}ngOnInit(){const t=this.activatedRoute.snapshot.queryParamMap.get("palabrasClave");t&&(this.palabrasClave=JSON.parse(decodeURIComponent(t))),this.getPublicacionesByPalabras()}getPublicacionesByPalabras(){this.publicacionesService.getPublicacionesBuscador(this.palabrasClave).subscribe(t=>{this.publicaciones=t,this.publicaciones.forEach(i=>{i.id=this.publicacionesService.getId(i),this.publicacionesService.getCategoriaFromPublicacion(i).subscribe(o=>{i.categoria=o,i.categoria.id=this.categoriaService.getId(o)}),this.publicacionesService.getAutorFromPublicacion(i).subscribe(o=>{i.autor=o})})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l),e.Y36(b.gz),e.Y36(P))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-publicaciones-buscador"]],decls:6,vars:2,consts:[[1,"my-4","py-2","mx-4"],[1,"row","mx-2","my-4"],["style","display:inline-block;","class","card col-12 col-sm-6 col-md-3 col-xxl-2",4,"ngFor","ngForOf"],[1,"card","col-12","col-sm-6","col-md-3","col-xxl-2",2,"display","inline-block"],[3,"publicacion"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h3",1)(2,"b"),e._uU(3),e.qZA()(),e._UZ(4,"hr"),e.YNc(5,wi,2,1,"div",2),e.qZA()),2&t&&(e.xp6(3),e.hij('Relacionados con "',i.palabrasClave,'"'),e.xp6(2),e.Q6J("ngForOf",i.publicaciones))},dependencies:[p.sg,x],styles:[".card[_ngcontent-%COMP%]{margin:0;border-radius:0;border-style:none;padding:0%}"]}),n})();var ee=d(5368),te=d(6544);var Y=d(7801),ie=d(5643),ne=d(8423),D=d(5470);const Mi=["modalPaypal"];function qi(n,c){if(1&n&&(e.TgZ(0,"li",41),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[0].caracteristica1,"")}}function yi(n,c){if(1&n&&(e.TgZ(0,"li",41),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[0].caracteristica2,"")}}function Si(n,c){if(1&n&&(e.TgZ(0,"li",41),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[0].caracteristica3,"")}}function Ui(n,c){if(1&n&&(e.TgZ(0,"li",41),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[0].caracteristica4,"")}}function Ii(n,c){if(1&n&&(e.TgZ(0,"li",41),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[0].caracteristica5,"")}}function Ni(n,c){if(1&n&&(e.TgZ(0,"li",41),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[0].caracteristica6,"")}}function Oi(n,c){if(1&n&&(e.TgZ(0,"li",41),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[0].caracteristica7,"")}}function Ei(n,c){if(1&n&&(e.TgZ(0,"li",41),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[0].caracteristica8,"")}}function Ji(n,c){if(1&n&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.suscripciones[0].precio)}}function Fi(n,c){1&n&&(e.TgZ(0,"p"),e._uU(1,"GRATIS"),e.qZA())}function Li(n,c){if(1&n&&(e.TgZ(0,"li",41),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[1].caracteristica1,"")}}function ki(n,c){if(1&n&&(e.TgZ(0,"li",41),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[1].caracteristica2,"")}}function Ri(n,c){if(1&n&&(e.TgZ(0,"li",41),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[1].caracteristica3,"")}}function Qi(n,c){if(1&n&&(e.TgZ(0,"li",41),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[1].caracteristica4,"")}}function ji(n,c){if(1&n&&(e.TgZ(0,"li",41),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[1].caracteristica5,"")}}function Yi(n,c){if(1&n&&(e.TgZ(0,"li",41),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[1].caracteristica6,"")}}function Di(n,c){if(1&n&&(e.TgZ(0,"li",41),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[1].caracteristica7,"")}}function Hi(n,c){if(1&n&&(e.TgZ(0,"li",41),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[1].caracteristica8,"")}}function zi(n,c){if(1&n&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("",t.suscripciones[1].precio," EUROS / MES")}}function Gi(n,c){1&n&&(e.TgZ(0,"p"),e._uU(1,"GRATIS"),e.qZA())}function Bi(n,c){if(1&n&&(e.TgZ(0,"li",41),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[2].caracteristica1,"")}}function Vi(n,c){if(1&n&&(e.TgZ(0,"li",41),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[2].caracteristica2,"")}}function $i(n,c){if(1&n&&(e.TgZ(0,"li",41),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[2].caracteristica3,"")}}function Ki(n,c){if(1&n&&(e.TgZ(0,"li",41),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[2].caracteristica4,"")}}function Xi(n,c){if(1&n&&(e.TgZ(0,"li",41),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[2].caracteristica5,"")}}function Wi(n,c){if(1&n&&(e.TgZ(0,"li",41),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[2].caracteristica6,"")}}function en(n,c){if(1&n&&(e.TgZ(0,"li",41),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[2].caracteristica7,"")}}function tn(n,c){if(1&n&&(e.TgZ(0,"li",41),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[2].caracteristica8,"")}}function nn(n,c){if(1&n&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("",t.suscripciones[2].precio," EUROS / MES")}}function on(n,c){1&n&&(e.TgZ(0,"p"),e._uU(1,"GRATIS"),e.qZA())}function an(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",20)(1,"h1",21),e._uU(2,"Realizar Pago"),e.qZA(),e.TgZ(3,"button",42),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.KtG(a.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",23),e._UZ(5,"ngx-paypal",43),e.qZA(),e.TgZ(6,"div",30)(7,"button",44),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.KtG(a.close("Save click"))}),e._uU(8,"Cerrar"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("config",t.payPalConfig)}}let cn=(()=>{class n{constructor(t,i,o,a){this.tiposSuscripcionService=t,this.usuariosService=i,this.modalService=o,this.spinner=a,this.suscripciones=[],this.usuarioNuevo=new A.b,this.usuarioConfirmando=new A.b,this.password2="",this.suscripcion=[],this.clientId="Abcrz7ms9iNH5UOvfJeFVgxiC76hftex_75PKNkqO5p2rWbFjmT0nQR4FXdSN53MyyJR3PNmyjhhBE1x"}ngOnInit(){this.getSuscripciones();let t=new ee.L;t.rolNombre="",this.usuarioNuevo.roles=[t]}getSuscripciones(){this.tiposSuscripcionService.getTiposSuscripcion().subscribe(t=>{this.suscripciones=t,this.suscripciones.forEach(i=>{i.id=this.tiposSuscripcionService.getId(i)})})}postUsuarioTipo1(){this.usuarioNuevo.roles[0].rolNombre="ROLE_USER_REGISTERED",this.postUsuario(this.suscripciones[0].precio)}postUsuarioTipo2(){this.usuarioNuevo.roles[0].rolNombre="ROLE_USER_SUBSCRIBED",this.postUsuario(this.suscripciones[1].precio)}postUsuarioTipo3(){this.usuarioNuevo.roles[0].rolNombre="ROLE_USER_MEMBER",this.postUsuario(this.suscripciones[2].precio)}postUsuario(t){const i=window.open("/verificacion-pago","_blank","width=600,height=400");this.usuariosService.postUsuario(this.usuarioNuevo).subscribe(a=>{this.usuarioConfirmando.id=this.usuariosService.getId(a),this.usuarioConfirmando=a});const o=setInterval(()=>{this.usuarioConfirmando.isConfirmadoEmail?(console.log("ABRIENDO PASARELA DE PAGO"),clearInterval(o),this.pagar(t),this.initConfig(t),i&&i.close()):this.usuariosService.getIsConfirmed(this.usuarioNuevo.email).subscribe(a=>{this.usuarioConfirmando.isConfirmadoEmail=a.isConfirmadoEmail,console.log("ESPERANDO A CONFIRMACION DE EMAIL")})},3e3)}pagar(t){this.modalService.open(this.modalPaypal,{size:"m",windowClass:"modalPaypal"}),this.initConfig(t)}initConfig(t){this.payPalConfig={currency:"EUR",clientId:this.clientId,createOrderOnClient:i=>({intent:"CAPTURE",purchase_units:[{amount:{currency_code:"EUR",value:t,breakdown:{item_total:{currency_code:"EUR",value:t}}},items:[{name:"suscripcion",quantity:"1",unit_amount:{value:t,currency_code:"EUR"}}]}]}),advanced:{commit:"true"},style:{label:"paypal",layout:"vertical"},onApprove:(i,o)=>{console.log("onApprove - transaction was approved, but not authorized",i,o),o.order.get().then(a=>{console.log("onApprove - you can get full order details inside onApprove: ",a)})},onClientAuthorization:i=>{console.log("onClientAuthorization - you should probably inform your server about completed transaction at this point",i),this.usuariosService.setIsPaid(this.usuarioNuevo.email).subscribe(o=>{this.modalService.dismissAll(),$("#pagadoModal").modal("show")})},onCancel:(i,o)=>{console.log("OnCancel",i,o)},onError:i=>{console.log("OnError",i)},onClick:(i,o)=>{console.log("onClick",i,o)}}}openModal(t,i){const o=this.modalService.open(te.m,{size:"lg"});o.componentInstance.items=t,o.componentInstance.amount=i}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Y.X),e.Y36(M.J),e.Y36(ie.FF),e.Y36(ne.t2))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-suscripcion"]],viewQuery:function(t,i){if(1&t&&e.Gf(Mi,5),2&t){let o;e.iGM(o=e.CRH())&&(i.modalPaypal=o.first)}},decls:181,vars:48,consts:[[1,"row","descripcion-pagina","text-center"],[1,"col-11","m-4","texto-descripcion"],[1,"row","suscripciones","justify-content-center"],[1,"col-10","col-lg-3","tipo-suscripcion","tipo-suscripcion-1","d-flex","flex-column"],[1,"text-center","titulo-suscripcion"],[1,"texto-titulo"],[1,"caracteristicas-suscripcion","mt-3"],["class","row caracteristica",4,"ngIf"],[1,"bloque-precio-boton","mt-auto"],[1,"text-center","precio-suscripcion"],[4,"ngIf"],[1,"text-center"],["data-bs-toggle","modal","data-bs-target","#signInModalTipo1",1,"btn","btn-primary","mb-2"],[1,"col-10","col-lg-3","tipo-suscripcion","tipo-suscripcion-2","d-flex","flex-column","mt-3"],["data-bs-toggle","modal","data-bs-target","#signInModalTipo2",1,"btn","btn-primary","mb-2"],[1,"col-10","col-lg-3","tipo-suscripcion","tipo-suscripcion-3","d-flex","flex-column","my-3"],["data-bs-toggle","modal","data-bs-target","#signInModalTipo3",1,"btn","btn-primary","mb-2"],["id","signInModalTipo1","tabindex","-1","aria-labelledby","signModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"email-input","m-2"],["for","email",1,"col-5"],["type","text",1,"mx-2","col-5",3,"ngModel","ngModelChange"],["for","password",1,"col-5"],["type","password",1,"mx-2","col-5",3,"ngModel","ngModelChange"],["for","password2",1,"col-5"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary",3,"click"],["id","signInModalTipo2","tabindex","-1","aria-labelledby","signModalLabel","aria-hidden","true",1,"modal","fade"],["for","nombre",1,"col-5"],["for","apellido1",1,"col-5"],["for","apellido2",1,"col-5"],["id","signInModalTipo3","tabindex","-1","aria-labelledby","signModalLabel","aria-hidden","true",1,"modal","fade"],["modalPaypal",""],["id","pagadoModal","tabindex","-1","aria-labelledby","signModalLabel","aria-hidden","true",1,"modal","fade"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary"],[1,"row","caracteristica"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[3,"config"],["type","button","ngbAutofocus","",1,"btn","btn-secondary",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h3",1),e._uU(2,"Suscribete a nuestra web y disfruta de los mejores contenidos premium."),e.qZA()(),e.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"h4",5),e._uU(7),e.qZA()(),e.TgZ(8,"div",6)(9,"ul"),e.YNc(10,qi,2,1,"li",7),e.YNc(11,yi,2,1,"li",7),e.YNc(12,Si,2,1,"li",7),e.YNc(13,Ui,2,1,"li",7),e.YNc(14,Ii,2,1,"li",7),e.YNc(15,Ni,2,1,"li",7),e.YNc(16,Oi,2,1,"li",7),e.YNc(17,Ei,2,1,"li",7),e.qZA()(),e.TgZ(18,"div",8)(19,"div",9),e.YNc(20,Ji,2,1,"p",10),e.YNc(21,Fi,2,0,"p",10),e.qZA(),e.TgZ(22,"div",11)(23,"button",12),e._uU(24,"Suscribirme"),e.qZA()()()(),e.TgZ(25,"div",13)(26,"div",4)(27,"h4",5),e._uU(28),e.qZA()(),e.TgZ(29,"div",6)(30,"ul"),e.YNc(31,Li,2,1,"li",7),e.YNc(32,ki,2,1,"li",7),e.YNc(33,Ri,2,1,"li",7),e.YNc(34,Qi,2,1,"li",7),e.YNc(35,ji,2,1,"li",7),e.YNc(36,Yi,2,1,"li",7),e.YNc(37,Di,2,1,"li",7),e.YNc(38,Hi,2,1,"li",7),e.qZA()(),e.TgZ(39,"div",8)(40,"div",9),e.YNc(41,zi,2,1,"p",10),e.YNc(42,Gi,2,0,"p",10),e.qZA(),e.TgZ(43,"div",11)(44,"button",14),e._uU(45,"Suscribirme"),e.qZA()()()(),e.TgZ(46,"div",15)(47,"div",4)(48,"h4",5),e._uU(49),e.qZA()(),e.TgZ(50,"div",6)(51,"ul"),e.YNc(52,Bi,2,1,"li",7),e.YNc(53,Vi,2,1,"li",7),e.YNc(54,$i,2,1,"li",7),e.YNc(55,Ki,2,1,"li",7),e.YNc(56,Xi,2,1,"li",7),e.YNc(57,Wi,2,1,"li",7),e.YNc(58,en,2,1,"li",7),e.YNc(59,tn,2,1,"li",7),e.qZA()(),e.TgZ(60,"div",8)(61,"div",9),e.YNc(62,nn,2,1,"p",10),e.YNc(63,on,2,0,"p",10),e.qZA(),e.TgZ(64,"div",11)(65,"button",16),e._uU(66,"Suscribirme"),e.qZA()()()()(),e.TgZ(67,"div",17)(68,"div",18)(69,"div",19)(70,"div",20)(71,"h1",21),e._uU(72,"Suscribirse a VermuTorero.es"),e.qZA(),e._UZ(73,"button",22),e.qZA(),e.TgZ(74,"div",23)(75,"div",24)(76,"label",25),e._uU(77,"Email"),e.qZA(),e.TgZ(78,"input",26),e.NdJ("ngModelChange",function(a){return i.usuarioNuevo.email=a}),e.qZA()(),e.TgZ(79,"div",24)(80,"label",27),e._uU(81,"Password"),e.qZA(),e.TgZ(82,"input",28),e.NdJ("ngModelChange",function(a){return i.usuarioNuevo.password=a}),e.qZA()(),e.TgZ(83,"div",24)(84,"label",29),e._uU(85,"Password"),e.qZA(),e.TgZ(86,"input",28),e.NdJ("ngModelChange",function(a){return i.password2=a}),e.qZA()()(),e.TgZ(87,"div",30)(88,"button",31),e._uU(89,"Cancelar"),e.qZA(),e.TgZ(90,"button",32),e.NdJ("click",function(){return i.postUsuarioTipo1()}),e._uU(91,"Aceptar"),e.qZA()()()()(),e.TgZ(92,"div",33)(93,"div",18)(94,"div",19)(95,"div",20)(96,"h1",21),e._uU(97,"Suscribirse a VermuTorero.es"),e.qZA(),e._UZ(98,"button",22),e.qZA(),e.TgZ(99,"div",23)(100,"div",24)(101,"label",34),e._uU(102,"Nombre"),e.qZA(),e.TgZ(103,"input",26),e.NdJ("ngModelChange",function(a){return i.usuarioNuevo.nombre=a}),e.qZA()(),e.TgZ(104,"div",24)(105,"label",35),e._uU(106,"Primer apellido"),e.qZA(),e.TgZ(107,"input",26),e.NdJ("ngModelChange",function(a){return i.usuarioNuevo.apellido1=a}),e.qZA()(),e.TgZ(108,"div",24)(109,"label",36),e._uU(110,"Segundo apellido"),e.qZA(),e.TgZ(111,"input",26),e.NdJ("ngModelChange",function(a){return i.usuarioNuevo.apellido2=a}),e.qZA()(),e.TgZ(112,"div",24)(113,"label",25),e._uU(114,"Email"),e.qZA(),e.TgZ(115,"input",26),e.NdJ("ngModelChange",function(a){return i.usuarioNuevo.email=a}),e.qZA()(),e.TgZ(116,"div",24)(117,"label",27),e._uU(118,"Password"),e.qZA(),e.TgZ(119,"input",28),e.NdJ("ngModelChange",function(a){return i.usuarioNuevo.password=a}),e.qZA()(),e.TgZ(120,"div",24)(121,"label",29),e._uU(122,"Password"),e.qZA(),e.TgZ(123,"input",28),e.NdJ("ngModelChange",function(a){return i.password2=a}),e.qZA()()(),e.TgZ(124,"div",30)(125,"button",31),e._uU(126,"Cancelar"),e.qZA(),e.TgZ(127,"button",32),e.NdJ("click",function(){return i.postUsuarioTipo2()}),e._uU(128,"Aceptar"),e.qZA()()()()(),e.TgZ(129,"div",37)(130,"div",18)(131,"div",19)(132,"div",20)(133,"h1",21),e._uU(134,"Suscribirse a VermuTorero.es"),e.qZA(),e._UZ(135,"button",22),e.qZA(),e.TgZ(136,"div",23)(137,"div",24)(138,"label",34),e._uU(139,"Nombre"),e.qZA(),e.TgZ(140,"input",26),e.NdJ("ngModelChange",function(a){return i.usuarioNuevo.nombre=a}),e.qZA()(),e.TgZ(141,"div",24)(142,"label",35),e._uU(143,"Primer apellido"),e.qZA(),e.TgZ(144,"input",26),e.NdJ("ngModelChange",function(a){return i.usuarioNuevo.apellido1=a}),e.qZA()(),e.TgZ(145,"div",24)(146,"label",36),e._uU(147,"Segundo apellido"),e.qZA(),e.TgZ(148,"input",26),e.NdJ("ngModelChange",function(a){return i.usuarioNuevo.apellido2=a}),e.qZA()(),e.TgZ(149,"div",24)(150,"label",25),e._uU(151,"Email"),e.qZA(),e.TgZ(152,"input",26),e.NdJ("ngModelChange",function(a){return i.usuarioNuevo.email=a}),e.qZA()(),e.TgZ(153,"div",24)(154,"label",27),e._uU(155,"Password"),e.qZA(),e.TgZ(156,"input",28),e.NdJ("ngModelChange",function(a){return i.usuarioNuevo.password=a}),e.qZA()(),e.TgZ(157,"div",24)(158,"label",29),e._uU(159,"Password"),e.qZA(),e.TgZ(160,"input",28),e.NdJ("ngModelChange",function(a){return i.password2=a}),e.qZA()()(),e.TgZ(161,"div",30)(162,"button",31),e._uU(163,"Cancelar"),e.qZA(),e.TgZ(164,"button",32),e.NdJ("click",function(){return i.postUsuarioTipo3()}),e._uU(165,"Aceptar"),e.qZA()()()()(),e.YNc(166,an,9,1,"ng-template",null,38,e.W1O),e.TgZ(168,"div",39)(169,"div",18)(170,"div",19)(171,"div",20)(172,"h1",21),e._uU(173,"Pago realizado"),e.qZA(),e._UZ(174,"button",22),e.qZA(),e.TgZ(175,"div",23)(176,"p"),e._uU(177,"Pago realizado con exito. Ya puedes acceder con tu usuario y contrase\xf1a."),e.qZA()(),e.TgZ(178,"div",30)(179,"button",40),e._uU(180,"Aceptar"),e.qZA()()()()()),2&t&&(e.xp6(7),e.Oqu(i.suscripciones[0].nombre),e.xp6(3),e.Q6J("ngIf",i.suscripciones[0].caracteristica1),e.xp6(1),e.Q6J("ngIf",i.suscripciones[0].caracteristica2),e.xp6(1),e.Q6J("ngIf",i.suscripciones[0].caracteristica3),e.xp6(1),e.Q6J("ngIf",i.suscripciones[0].caracteristica4),e.xp6(1),e.Q6J("ngIf",i.suscripciones[0].caracteristica5),e.xp6(1),e.Q6J("ngIf",i.suscripciones[0].caracteristica6),e.xp6(1),e.Q6J("ngIf",i.suscripciones[0].caracteristica7),e.xp6(1),e.Q6J("ngIf",i.suscripciones[0].caracteristica8),e.xp6(3),e.Q6J("ngIf",i.suscripciones[0].precio),e.xp6(1),e.Q6J("ngIf",!i.suscripciones[0].precio),e.xp6(7),e.Oqu(i.suscripciones[1].nombre),e.xp6(3),e.Q6J("ngIf",i.suscripciones[1].caracteristica1),e.xp6(1),e.Q6J("ngIf",i.suscripciones[1].caracteristica2),e.xp6(1),e.Q6J("ngIf",i.suscripciones[1].caracteristica3),e.xp6(1),e.Q6J("ngIf",i.suscripciones[1].caracteristica4),e.xp6(1),e.Q6J("ngIf",i.suscripciones[1].caracteristica5),e.xp6(1),e.Q6J("ngIf",i.suscripciones[1].caracteristica6),e.xp6(1),e.Q6J("ngIf",i.suscripciones[1].caracteristica7),e.xp6(1),e.Q6J("ngIf",i.suscripciones[1].caracteristica8),e.xp6(3),e.Q6J("ngIf",i.suscripciones[1].precio),e.xp6(1),e.Q6J("ngIf",!i.suscripciones[1].precio),e.xp6(7),e.Oqu(i.suscripciones[2].nombre),e.xp6(3),e.Q6J("ngIf",i.suscripciones[2].caracteristica1),e.xp6(1),e.Q6J("ngIf",i.suscripciones[2].caracteristica2),e.xp6(1),e.Q6J("ngIf",i.suscripciones[2].caracteristica3),e.xp6(1),e.Q6J("ngIf",i.suscripciones[2].caracteristica4),e.xp6(1),e.Q6J("ngIf",i.suscripciones[2].caracteristica5),e.xp6(1),e.Q6J("ngIf",i.suscripciones[2].caracteristica6),e.xp6(1),e.Q6J("ngIf",i.suscripciones[2].caracteristica7),e.xp6(1),e.Q6J("ngIf",i.suscripciones[2].caracteristica8),e.xp6(3),e.Q6J("ngIf",i.suscripciones[2].precio),e.xp6(1),e.Q6J("ngIf",!i.suscripciones[2].precio),e.xp6(15),e.Q6J("ngModel",i.usuarioNuevo.email),e.xp6(4),e.Q6J("ngModel",i.usuarioNuevo.password),e.xp6(4),e.Q6J("ngModel",i.password2),e.xp6(17),e.Q6J("ngModel",i.usuarioNuevo.nombre),e.xp6(4),e.Q6J("ngModel",i.usuarioNuevo.apellido1),e.xp6(4),e.Q6J("ngModel",i.usuarioNuevo.apellido2),e.xp6(4),e.Q6J("ngModel",i.usuarioNuevo.email),e.xp6(4),e.Q6J("ngModel",i.usuarioNuevo.password),e.xp6(4),e.Q6J("ngModel",i.password2),e.xp6(17),e.Q6J("ngModel",i.usuarioNuevo.nombre),e.xp6(4),e.Q6J("ngModel",i.usuarioNuevo.apellido1),e.xp6(4),e.Q6J("ngModel",i.usuarioNuevo.apellido2),e.xp6(4),e.Q6J("ngModel",i.usuarioNuevo.email),e.xp6(4),e.Q6J("ngModel",i.usuarioNuevo.password),e.xp6(4),e.Q6J("ngModel",i.password2))},dependencies:[p.O5,r.Fj,r.JJ,r.On,D.nu],styles:[".texto-descripcion[_ngcontent-%COMP%]{font-weight:700;font-family:sans-serif}.tipo-suscripcion[_ngcontent-%COMP%]{border-radius:10px;border-style:solid;border-color:#000;border-width:1px;padding:1%;margin:1%;box-shadow:2px 2px 10px #666}.tipo-suscripcion-1[_ngcontent-%COMP%]{background-color:#f7b334}.tipo-suscripcion-2[_ngcontent-%COMP%]{background-color:orange}.tipo-suscripcion-3[_ngcontent-%COMP%]{background-color:#f79524}.titulo-suscripcion[_ngcontent-%COMP%]{font-weight:700;color:#fff}.texto-titulo[_ngcontent-%COMP%]{font-weight:700;text-shadow:2px 2px 10px #666;padding:1%}.caracteristicas-suscripcion[_ngcontent-%COMP%]{font-family:sans-serif}.precio-suscripcion[_ngcontent-%COMP%]{font-weight:700}li[_ngcontent-%COMP%]{margin-top:4%}.modal-header[_ngcontent-%COMP%]{background-color:#ff6d00;color:#fff}.caracteristica[_ngcontent-%COMP%]{padding-right:12%;margin-top:5%;text-align:justify}"]}),n})(),rn=(()=>{class n{constructor(t){this.tiposSuscripcionService=t,this.suscripciones=[]}ngOnInit(){this.getSuscripciones()}getSuscripciones(){this.tiposSuscripcionService.getTiposSuscripcion().subscribe(t=>{this.suscripciones=t,this.suscripciones.forEach(i=>{i.id=this.tiposSuscripcionService.getId(i)})})}patchTipoSuscripcions(){this.suscripciones.forEach(t=>{this.tiposSuscripcionService.patchTipoSuscripcion(t).subscribe(i=>{$("#modificadaSuscripcionModal").modal("show")},i=>{$("#errorModificarSuscripcionModal").modal("show")})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Y.X))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-suscripcion-ficha"]],decls:90,vars:30,consts:[[1,"row","mb-4","suscripciones","justify-content-center","mt-4"],[1,"col-10","col-lg-3","tipo-suscripcion","tipo-suscripcion-1","my-2"],[1,"text-center","titulo-suscripcion"],[1,"texto-titulo",3,"ngModel","ngModelChange"],[1,"caracteristicas-suscripcion","mt-3"],[1,"text-center"],["rows","3",1,"row","my-2",3,"ngModel","ngModelChange"],[1,"text-center","precio-suscripcion"],[3,"ngModel","ngModelChange"],[1,"col-10","col-lg-3","tipo-suscripcion","tipo-suscripcion-2","my-2"],[1,"col-10","col-lg-3","tipo-suscripcion","tipo-suscripcion-3","my-2"],[1,"text-center","mb-4"],[1,"btn","btn-primary","my-2",2,"width","20%",3,"click"],["id","modificadaSuscripcionModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body","text-center"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary"],["id","errorModificarSuscripcionModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"input",3),e.NdJ("ngModelChange",function(a){return i.suscripciones[0].nombre=a}),e.qZA()(),e.TgZ(4,"div",4)(5,"div",5)(6,"p"),e._uU(7,"CARACTER\xcdSTICAS"),e.qZA()(),e.TgZ(8,"ul")(9,"textarea",6),e.NdJ("ngModelChange",function(a){return i.suscripciones[0].caracteristica1=a}),e.qZA(),e.TgZ(10,"textarea",6),e.NdJ("ngModelChange",function(a){return i.suscripciones[0].caracteristica2=a}),e.qZA(),e.TgZ(11,"textarea",6),e.NdJ("ngModelChange",function(a){return i.suscripciones[0].caracteristica3=a}),e.qZA(),e.TgZ(12,"textarea",6),e.NdJ("ngModelChange",function(a){return i.suscripciones[0].caracteristica4=a}),e.qZA(),e.TgZ(13,"textarea",6),e.NdJ("ngModelChange",function(a){return i.suscripciones[0].caracteristica5=a}),e.qZA(),e.TgZ(14,"textarea",6),e.NdJ("ngModelChange",function(a){return i.suscripciones[0].caracteristica6=a}),e.qZA(),e.TgZ(15,"textarea",6),e.NdJ("ngModelChange",function(a){return i.suscripciones[0].caracteristica7=a}),e.qZA(),e.TgZ(16,"textarea",6),e.NdJ("ngModelChange",function(a){return i.suscripciones[0].caracteristica8=a}),e.qZA()()(),e.TgZ(17,"div",7)(18,"p"),e._uU(19,"PRECIO"),e.qZA(),e.TgZ(20,"input",8),e.NdJ("ngModelChange",function(a){return i.suscripciones[0].precio=a}),e.qZA()()(),e.TgZ(21,"div",9)(22,"div",2)(23,"input",3),e.NdJ("ngModelChange",function(a){return i.suscripciones[1].nombre=a}),e.qZA()(),e.TgZ(24,"div",4)(25,"div",5)(26,"p"),e._uU(27,"CARACTER\xcdSTICAS"),e.qZA()(),e.TgZ(28,"ul")(29,"textarea",6),e.NdJ("ngModelChange",function(a){return i.suscripciones[1].caracteristica1=a}),e.qZA(),e.TgZ(30,"textarea",6),e.NdJ("ngModelChange",function(a){return i.suscripciones[1].caracteristica2=a}),e.qZA(),e.TgZ(31,"textarea",6),e.NdJ("ngModelChange",function(a){return i.suscripciones[1].caracteristica3=a}),e.qZA(),e.TgZ(32,"textarea",6),e.NdJ("ngModelChange",function(a){return i.suscripciones[1].caracteristica4=a}),e.qZA(),e.TgZ(33,"textarea",6),e.NdJ("ngModelChange",function(a){return i.suscripciones[1].caracteristica5=a}),e.qZA(),e.TgZ(34,"textarea",6),e.NdJ("ngModelChange",function(a){return i.suscripciones[1].caracteristica6=a}),e.qZA(),e.TgZ(35,"textarea",6),e.NdJ("ngModelChange",function(a){return i.suscripciones[1].caracteristica7=a}),e.qZA(),e.TgZ(36,"textarea",6),e.NdJ("ngModelChange",function(a){return i.suscripciones[1].caracteristica8=a}),e.qZA()()(),e.TgZ(37,"div",7)(38,"p"),e._uU(39,"PRECIO"),e.qZA(),e.TgZ(40,"input",8),e.NdJ("ngModelChange",function(a){return i.suscripciones[1].precio=a}),e.qZA()()(),e.TgZ(41,"div",10)(42,"div",2)(43,"input",3),e.NdJ("ngModelChange",function(a){return i.suscripciones[2].nombre=a}),e.qZA()(),e.TgZ(44,"div",4)(45,"div",5)(46,"p"),e._uU(47,"CARACTER\xcdSTICAS"),e.qZA()(),e.TgZ(48,"ul")(49,"textarea",6),e.NdJ("ngModelChange",function(a){return i.suscripciones[2].caracteristica1=a}),e.qZA(),e.TgZ(50,"textarea",6),e.NdJ("ngModelChange",function(a){return i.suscripciones[2].caracteristica2=a}),e.qZA(),e.TgZ(51,"textarea",6),e.NdJ("ngModelChange",function(a){return i.suscripciones[2].caracteristica3=a}),e.qZA(),e.TgZ(52,"textarea",6),e.NdJ("ngModelChange",function(a){return i.suscripciones[2].caracteristica4=a}),e.qZA(),e.TgZ(53,"textarea",6),e.NdJ("ngModelChange",function(a){return i.suscripciones[2].caracteristica5=a}),e.qZA(),e.TgZ(54,"textarea",6),e.NdJ("ngModelChange",function(a){return i.suscripciones[2].caracteristica6=a}),e.qZA(),e.TgZ(55,"textarea",6),e.NdJ("ngModelChange",function(a){return i.suscripciones[2].caracteristica7=a}),e.qZA(),e.TgZ(56,"textarea",6),e.NdJ("ngModelChange",function(a){return i.suscripciones[2].caracteristica8=a}),e.qZA()()(),e.TgZ(57,"div",7)(58,"p"),e._uU(59,"PRECIO"),e.qZA(),e.TgZ(60,"input",8),e.NdJ("ngModelChange",function(a){return i.suscripciones[2].precio=a}),e.qZA()()()(),e.TgZ(61,"div",11)(62,"button",12),e.NdJ("click",function(){return i.patchTipoSuscripcions()}),e._uU(63,"Guardar cambios"),e.qZA()(),e.TgZ(64,"div",13)(65,"div",14)(66,"div",15)(67,"div",16)(68,"h1",17),e._uU(69,"Modificaci\xf3n de suscripcion"),e.qZA(),e._UZ(70,"button",18),e.qZA(),e.TgZ(71,"div",19)(72,"p"),e._uU(73,"Se han modificado las suscripciones"),e.qZA()(),e.TgZ(74,"div",20)(75,"button",21),e._uU(76,"Aceptar"),e.qZA()()()()(),e.TgZ(77,"div",22)(78,"div",14)(79,"div",15)(80,"div",16)(81,"h1",17),e._uU(82,"Modificaci\xf3n de suscripcion"),e.qZA(),e._UZ(83,"button",18),e.qZA(),e.TgZ(84,"div",19)(85,"p"),e._uU(86,"Error al modificar suscripciones"),e.qZA()(),e.TgZ(87,"div",20)(88,"button",23),e._uU(89,"Aceptar"),e.qZA()()()()()),2&t&&(e.xp6(3),e.Q6J("ngModel",i.suscripciones[0].nombre),e.xp6(6),e.Q6J("ngModel",i.suscripciones[0].caracteristica1),e.xp6(1),e.Q6J("ngModel",i.suscripciones[0].caracteristica2),e.xp6(1),e.Q6J("ngModel",i.suscripciones[0].caracteristica3),e.xp6(1),e.Q6J("ngModel",i.suscripciones[0].caracteristica4),e.xp6(1),e.Q6J("ngModel",i.suscripciones[0].caracteristica5),e.xp6(1),e.Q6J("ngModel",i.suscripciones[0].caracteristica6),e.xp6(1),e.Q6J("ngModel",i.suscripciones[0].caracteristica7),e.xp6(1),e.Q6J("ngModel",i.suscripciones[0].caracteristica8),e.xp6(4),e.Q6J("ngModel",i.suscripciones[0].precio),e.xp6(3),e.Q6J("ngModel",i.suscripciones[1].nombre),e.xp6(6),e.Q6J("ngModel",i.suscripciones[1].caracteristica1),e.xp6(1),e.Q6J("ngModel",i.suscripciones[1].caracteristica2),e.xp6(1),e.Q6J("ngModel",i.suscripciones[1].caracteristica3),e.xp6(1),e.Q6J("ngModel",i.suscripciones[1].caracteristica4),e.xp6(1),e.Q6J("ngModel",i.suscripciones[1].caracteristica5),e.xp6(1),e.Q6J("ngModel",i.suscripciones[1].caracteristica6),e.xp6(1),e.Q6J("ngModel",i.suscripciones[1].caracteristica7),e.xp6(1),e.Q6J("ngModel",i.suscripciones[1].caracteristica8),e.xp6(4),e.Q6J("ngModel",i.suscripciones[1].precio),e.xp6(3),e.Q6J("ngModel",i.suscripciones[2].nombre),e.xp6(6),e.Q6J("ngModel",i.suscripciones[2].caracteristica1),e.xp6(1),e.Q6J("ngModel",i.suscripciones[2].caracteristica2),e.xp6(1),e.Q6J("ngModel",i.suscripciones[2].caracteristica3),e.xp6(1),e.Q6J("ngModel",i.suscripciones[2].caracteristica4),e.xp6(1),e.Q6J("ngModel",i.suscripciones[2].caracteristica5),e.xp6(1),e.Q6J("ngModel",i.suscripciones[2].caracteristica6),e.xp6(1),e.Q6J("ngModel",i.suscripciones[2].caracteristica7),e.xp6(1),e.Q6J("ngModel",i.suscripciones[2].caracteristica8),e.xp6(4),e.Q6J("ngModel",i.suscripciones[2].precio))},dependencies:[r.Fj,r.JJ,r.On],styles:[".texto-descripcion[_ngcontent-%COMP%]{font-weight:700;font-family:sans-serif}.tipo-suscripcion[_ngcontent-%COMP%]{border-radius:10px;border-style:solid;border-color:#000;border-width:1px;padding:1%;margin:1%;box-shadow:2px 2px 10px #666}.tipo-suscripcion-1[_ngcontent-%COMP%]{background-color:#f7b334}.tipo-suscripcion-2[_ngcontent-%COMP%]{background-color:orange}.tipo-suscripcion-3[_ngcontent-%COMP%]{background-color:#f79524}.titulo-suscripcion[_ngcontent-%COMP%]{font-weight:700;color:#fff}.texto-titulo[_ngcontent-%COMP%]{font-weight:700;text-shadow:2px 2px 10px #666;padding:1%}.caracteristicas-suscripcion[_ngcontent-%COMP%]{font-family:sans-serif}.precio-suscripcion[_ngcontent-%COMP%]{font-weight:700}textarea[_ngcontent-%COMP%]{width:100%}.modal-header[_ngcontent-%COMP%]{background-color:#ff6d00;color:#fff}"]}),n})(),sn=(()=>{class n{constructor(t){this.usuariosService=t}ngOnInit(){}comprobarVerificacion(){return!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(M.J))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-verificacion-pago"]],decls:3,vars:0,consts:[[1,"text-center"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h4"),e._uU(2,"Te hemos enviado un email. \xc1brelo y pulsa en el enlace que te hemos enviado para verificar tu email y continuar con la suscripcion."),e.qZA()())}}),n})();const ln=["modalRenovarPaypal"];function un(n,c){if(1&n&&(e.TgZ(0,"li",37),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[0].caracteristica1," ")}}function dn(n,c){if(1&n&&(e.TgZ(0,"li",37),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[0].caracteristica2," ")}}function pn(n,c){if(1&n&&(e.TgZ(0,"li",37),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[0].caracteristica3," ")}}function gn(n,c){if(1&n&&(e.TgZ(0,"li",37),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[0].caracteristica4," ")}}function mn(n,c){if(1&n&&(e.TgZ(0,"li",37),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[0].caracteristica5," ")}}function hn(n,c){if(1&n&&(e.TgZ(0,"li",37),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[0].caracteristica6," ")}}function bn(n,c){if(1&n&&(e.TgZ(0,"li",37),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[0].caracteristica7," ")}}function _n(n,c){if(1&n&&(e.TgZ(0,"li",37),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[0].caracteristica8," ")}}function fn(n,c){if(1&n&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.suscripciones[0].precio)}}function Cn(n,c){1&n&&(e.TgZ(0,"p"),e._uU(1,"GRATIS"),e.qZA())}function vn(n,c){if(1&n&&(e.TgZ(0,"li",37),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[1].caracteristica1," ")}}function Zn(n,c){if(1&n&&(e.TgZ(0,"li",37),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[1].caracteristica2," ")}}function Tn(n,c){if(1&n&&(e.TgZ(0,"li",37),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[1].caracteristica3," ")}}function xn(n,c){if(1&n&&(e.TgZ(0,"li",37),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[1].caracteristica4," ")}}function wn(n,c){if(1&n&&(e.TgZ(0,"li",37),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[1].caracteristica5," ")}}function An(n,c){if(1&n&&(e.TgZ(0,"li",37),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[1].caracteristica6," ")}}function Pn(n,c){if(1&n&&(e.TgZ(0,"li",37),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[1].caracteristica7," ")}}function Mn(n,c){if(1&n&&(e.TgZ(0,"li",37),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[1].caracteristica8," ")}}function qn(n,c){if(1&n&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("",t.suscripciones[1].precio," EUROS / MES")}}function yn(n,c){1&n&&(e.TgZ(0,"p"),e._uU(1,"GRATIS"),e.qZA())}function Sn(n,c){if(1&n&&(e.TgZ(0,"li",37),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[2].caracteristica1," ")}}function Un(n,c){if(1&n&&(e.TgZ(0,"li",37),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[2].caracteristica2," ")}}function In(n,c){if(1&n&&(e.TgZ(0,"li",37),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[2].caracteristica3," ")}}function Nn(n,c){if(1&n&&(e.TgZ(0,"li",37),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[2].caracteristica4," ")}}function On(n,c){if(1&n&&(e.TgZ(0,"li",37),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[2].caracteristica5," ")}}function En(n,c){if(1&n&&(e.TgZ(0,"li",37),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[2].caracteristica6," ")}}function Jn(n,c){if(1&n&&(e.TgZ(0,"li",37),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[2].caracteristica7," ")}}function Fn(n,c){if(1&n&&(e.TgZ(0,"li",37),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.suscripciones[2].caracteristica8," ")}}function Ln(n,c){if(1&n&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("",t.suscripciones[2].precio," EUROS / MES")}}function kn(n,c){1&n&&(e.TgZ(0,"p"),e._uU(1,"GRATIS"),e.qZA())}function Rn(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",21)(1,"h1",22),e._uU(2,"Realizar Pago"),e.qZA(),e.TgZ(3,"button",38),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.KtG(a.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",24),e._UZ(5,"ngx-paypal",39),e.qZA(),e.TgZ(6,"div",28)(7,"button",40),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.KtG(a.close("Save click"))}),e._uU(8,"Cerrar"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("config",t.payPalConfig)}}let Qn=(()=>{class n{constructor(t,i,o,a,s){this.tiposSuscripcionService=t,this.usuariosService=i,this.modalService=o,this.spinner=a,this.activatedRoute=s,this.suscripciones=[],this.usuarioNuevo=new A.b,this.usuarioConfirmando=new A.b,this.password2="",this.suscripcion=[]}ngOnInit(){this.getUsuario(),this.getSuscripciones()}getUsuario(){this.usuariosService.getUsuarioFromToken().subscribe(t=>{t.id=this.usuariosService.getId(t),this.usuarioNuevo=t;let i=new ee.L;i.rolNombre="",this.usuarioNuevo.roles=[i]})}getSuscripciones(){this.tiposSuscripcionService.getTiposSuscripcion().subscribe(t=>{this.suscripciones=t,this.suscripciones.forEach(i=>{i.id=this.tiposSuscripcionService.getId(i)})})}postUsuarioTipo1(){this.usuarioNuevo.roles[0].rolNombre="ROLE_USER_REGISTERED",this.patchUsuario(this.suscripciones[0].precio)}postUsuarioTipo2(){this.usuarioNuevo.roles[0].rolNombre="ROLE_USER_SUBSCRIBED",this.patchUsuario(this.suscripciones[1].precio)}postUsuarioTipo3(){this.usuarioNuevo.roles[0].rolNombre="ROLE_USER_MEMBER",this.patchUsuario(this.suscripciones[2].precio)}patchUsuario(t){this.usuariosService.patchUsuarioRenovado(this.usuarioNuevo).subscribe(i=>{this.usuarioConfirmando.id=this.usuariosService.getId(i),this.usuarioConfirmando=i,"0"!=t&&(this.pagar(t),this.initConfig(t))})}pagar(t){this.modalService.open(this.modalRenovarPaypal,{size:"m",windowClass:"modalRenovarPaypal"}),this.initConfig(t)}initConfig(t){this.payPalConfig={currency:"EUR",clientId:"AQ4kV3ijEVIItPbgLJtApqQdCEfaNV-xFShpVgdS8lmlI-J_L7U1-UPdiuXVbsivQfZyVQ43csdQJXCT",createOrderOnClient:i=>({intent:"CAPTURE",purchase_units:[{amount:{currency_code:"EUR",value:t,breakdown:{item_total:{currency_code:"EUR",value:t}}},items:[{name:"suscripcion",quantity:"1",unit_amount:{value:t,currency_code:"EUR"}}]}]}),advanced:{commit:"true"},style:{label:"paypal",layout:"vertical"},onApprove:(i,o)=>{console.log("onApprove - transaction was approved, but not authorized",i,o),o.order.get().then(a=>{console.log("onApprove - you can get full order details inside onApprove: ",a)})},onClientAuthorization:i=>{console.log("onClientAuthorization - you should probably inform your server about completed transaction at this point",i),this.usuariosService.setIsPaid(this.usuarioNuevo.email).subscribe()},onCancel:(i,o)=>{console.log("OnCancel",i,o)},onError:i=>{console.log("OnError",i)},onClick:(i,o)=>{console.log("onClick",i,o)}}}openModal(t,i){const o=this.modalService.open(te.m,{size:"lg"});o.componentInstance.items=t,o.componentInstance.amount=i}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Y.X),e.Y36(M.J),e.Y36(ie.FF),e.Y36(ne.t2),e.Y36(b.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-renovar-suscripcion"]],viewQuery:function(t,i){if(1&t&&e.Gf(ln,5),2&t){let o;e.iGM(o=e.CRH())&&(i.modalRenovarPaypal=o.first)}},decls:142,vars:42,consts:[[1,"row","descripcion-pagina","text-center"],[1,"col-11","m-4","texto-descripcion"],[1,"row","mb-4","suscripciones"],[1,"col-1"],[1,"col-3","tipo-suscripcion","tipo-suscripcion-1"],[1,"text-center","titulo-suscripcion"],[1,"texto-titulo"],[1,"caracteristicas-suscripcion","mt-3"],["class","row my-2",4,"ngIf"],[1,"text-center","precio-suscripcion"],[4,"ngIf"],[1,"text-center"],["data-bs-toggle","modal","data-bs-target","#renovarModalTipo1",1,"btn","btn-primary"],[1,"col-3","tipo-suscripcion","tipo-suscripcion-2"],["data-bs-toggle","modal","data-bs-target","#renovarModalTipo2",1,"btn","btn-primary"],[1,"col-3","tipo-suscripcion","tipo-suscripcion-3"],[1,"caracteristicas-suscripcion"],["data-bs-toggle","modal","data-bs-target","#renovarModalTipo3",1,"btn","btn-primary"],["id","renovarModalTipo1","tabindex","-1","aria-labelledby","signModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"email-input","m-2"],["for","email",1,"col-5"],["type","text",1,"mx-2","col-5",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary",3,"click"],["id","renovarModalTipo2","tabindex","-1","aria-labelledby","signModalLabel","aria-hidden","true",1,"modal","fade"],["for","nombre",1,"col-5"],["for","apellido1",1,"col-5"],["for","apellido2",1,"col-5"],["id","renovarModalTipo3","tabindex","-1","aria-labelledby","signModalLabel","aria-hidden","true",1,"modal","fade"],["modalRenovarPaypal",""],[1,"row","my-2"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[3,"config"],["type","button","ngbAutofocus","",1,"btn","btn-secondary",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h3",1),e._uU(2,"Renueva tu suscripci\xf3n y continua disfrutando de los mejores contenidos premium."),e.qZA()(),e.TgZ(3,"div",2),e._UZ(4,"div",3),e.TgZ(5,"div",4)(6,"div",5)(7,"h4",6),e._uU(8),e.qZA()(),e.TgZ(9,"div",7)(10,"ul"),e.YNc(11,un,2,1,"li",8),e.YNc(12,dn,2,1,"li",8),e.YNc(13,pn,2,1,"li",8),e.YNc(14,gn,2,1,"li",8),e.YNc(15,mn,2,1,"li",8),e.YNc(16,hn,2,1,"li",8),e.YNc(17,bn,2,1,"li",8),e.YNc(18,_n,2,1,"li",8),e.qZA()(),e.TgZ(19,"div",9),e.YNc(20,fn,2,1,"p",10),e.YNc(21,Cn,2,0,"p",10),e.qZA(),e.TgZ(22,"div",11)(23,"button",12),e._uU(24,"Suscribirme"),e.qZA()()(),e.TgZ(25,"div",13)(26,"div",5)(27,"h4",6),e._uU(28),e.qZA()(),e.TgZ(29,"div",7)(30,"ul"),e.YNc(31,vn,2,1,"li",8),e.YNc(32,Zn,2,1,"li",8),e.YNc(33,Tn,2,1,"li",8),e.YNc(34,xn,2,1,"li",8),e.YNc(35,wn,2,1,"li",8),e.YNc(36,An,2,1,"li",8),e.YNc(37,Pn,2,1,"li",8),e.YNc(38,Mn,2,1,"li",8),e.qZA()(),e.TgZ(39,"div",9),e.YNc(40,qn,2,1,"p",10),e.YNc(41,yn,2,0,"p",10),e.qZA(),e.TgZ(42,"div",11)(43,"button",14),e._uU(44,"Suscribirme"),e.qZA()()(),e.TgZ(45,"div",15)(46,"div",5)(47,"h4",6),e._uU(48),e.qZA()(),e.TgZ(49,"div",16)(50,"ul"),e.YNc(51,Sn,2,1,"li",8),e.YNc(52,Un,2,1,"li",8),e.YNc(53,In,2,1,"li",8),e.YNc(54,Nn,2,1,"li",8),e.YNc(55,On,2,1,"li",8),e.YNc(56,En,2,1,"li",8),e.YNc(57,Jn,2,1,"li",8),e.YNc(58,Fn,2,1,"li",8),e.qZA()(),e.TgZ(59,"div",9),e.YNc(60,Ln,2,1,"p",10),e.YNc(61,kn,2,0,"p",10),e.qZA(),e.TgZ(62,"div",11)(63,"button",17),e._uU(64,"Suscribirme"),e.qZA()()()(),e.TgZ(65,"div",18)(66,"div",19)(67,"div",20)(68,"div",21)(69,"h1",22),e._uU(70,"Suscribirse a VermuTorero.es"),e.qZA(),e._UZ(71,"button",23),e.qZA(),e.TgZ(72,"div",24)(73,"div",25)(74,"label",26),e._uU(75,"Email"),e.qZA(),e.TgZ(76,"input",27),e.NdJ("ngModelChange",function(a){return i.usuarioNuevo.email=a}),e.qZA()(),e.TgZ(77,"div",28)(78,"button",29),e._uU(79,"Cancelar"),e.qZA(),e.TgZ(80,"button",30),e.NdJ("click",function(){return i.postUsuarioTipo1()}),e._uU(81,"Aceptar"),e.qZA()()()()()(),e.TgZ(82,"div",31)(83,"div",19)(84,"div",20)(85,"div",21)(86,"h1",22),e._uU(87,"Suscribirse a VermuTorero.es"),e.qZA(),e._UZ(88,"button",23),e.qZA(),e.TgZ(89,"div",24)(90,"div",25)(91,"label",32),e._uU(92,"Nombre"),e.qZA(),e.TgZ(93,"input",27),e.NdJ("ngModelChange",function(a){return i.usuarioNuevo.nombre=a}),e.qZA()(),e.TgZ(94,"div",25)(95,"label",33),e._uU(96,"Primer apellido"),e.qZA(),e.TgZ(97,"input",27),e.NdJ("ngModelChange",function(a){return i.usuarioNuevo.apellido1=a}),e.qZA()(),e.TgZ(98,"div",25)(99,"label",34),e._uU(100,"Segundo apellido"),e.qZA(),e.TgZ(101,"input",27),e.NdJ("ngModelChange",function(a){return i.usuarioNuevo.apellido2=a}),e.qZA()(),e.TgZ(102,"div",25)(103,"label",26),e._uU(104,"Email"),e.qZA(),e.TgZ(105,"input",27),e.NdJ("ngModelChange",function(a){return i.usuarioNuevo.email=a}),e.qZA()()(),e.TgZ(106,"div",28)(107,"button",29),e._uU(108,"Cancelar"),e.qZA(),e.TgZ(109,"button",30),e.NdJ("click",function(){return i.postUsuarioTipo2()}),e._uU(110,"Aceptar"),e.qZA()()()()(),e.TgZ(111,"div",35)(112,"div",19)(113,"div",20)(114,"div",21)(115,"h1",22),e._uU(116,"Suscribirse a VermuTorero.es"),e.qZA(),e._UZ(117,"button",23),e.qZA(),e.TgZ(118,"div",24)(119,"div",25)(120,"label",32),e._uU(121,"Nombre"),e.qZA(),e.TgZ(122,"input",27),e.NdJ("ngModelChange",function(a){return i.usuarioNuevo.nombre=a}),e.qZA()(),e.TgZ(123,"div",25)(124,"label",33),e._uU(125,"Primer apellido"),e.qZA(),e.TgZ(126,"input",27),e.NdJ("ngModelChange",function(a){return i.usuarioNuevo.apellido1=a}),e.qZA()(),e.TgZ(127,"div",25)(128,"label",34),e._uU(129,"Segundo apellido"),e.qZA(),e.TgZ(130,"input",27),e.NdJ("ngModelChange",function(a){return i.usuarioNuevo.apellido2=a}),e.qZA()(),e.TgZ(131,"div",25)(132,"label",26),e._uU(133,"Email"),e.qZA(),e.TgZ(134,"input",27),e.NdJ("ngModelChange",function(a){return i.usuarioNuevo.email=a}),e.qZA()()(),e.TgZ(135,"div",28)(136,"button",29),e._uU(137,"Cancelar"),e.qZA(),e.TgZ(138,"button",30),e.NdJ("click",function(){return i.postUsuarioTipo3()}),e._uU(139,"Aceptar"),e.qZA()()()()(),e.YNc(140,Rn,9,1,"ng-template",null,36,e.W1O)),2&t&&(e.xp6(8),e.Oqu(i.suscripciones[0].nombre),e.xp6(3),e.Q6J("ngIf",i.suscripciones[0].caracteristica1),e.xp6(1),e.Q6J("ngIf",i.suscripciones[0].caracteristica2),e.xp6(1),e.Q6J("ngIf",i.suscripciones[0].caracteristica3),e.xp6(1),e.Q6J("ngIf",i.suscripciones[0].caracteristica4),e.xp6(1),e.Q6J("ngIf",i.suscripciones[0].caracteristica5),e.xp6(1),e.Q6J("ngIf",i.suscripciones[0].caracteristica6),e.xp6(1),e.Q6J("ngIf",i.suscripciones[0].caracteristica7),e.xp6(1),e.Q6J("ngIf",i.suscripciones[0].caracteristica8),e.xp6(2),e.Q6J("ngIf",i.suscripciones[0].precio),e.xp6(1),e.Q6J("ngIf",!i.suscripciones[0].precio),e.xp6(7),e.Oqu(i.suscripciones[1].nombre),e.xp6(3),e.Q6J("ngIf",i.suscripciones[1].caracteristica1),e.xp6(1),e.Q6J("ngIf",i.suscripciones[1].caracteristica2),e.xp6(1),e.Q6J("ngIf",i.suscripciones[1].caracteristica3),e.xp6(1),e.Q6J("ngIf",i.suscripciones[1].caracteristica4),e.xp6(1),e.Q6J("ngIf",i.suscripciones[1].caracteristica5),e.xp6(1),e.Q6J("ngIf",i.suscripciones[1].caracteristica6),e.xp6(1),e.Q6J("ngIf",i.suscripciones[1].caracteristica7),e.xp6(1),e.Q6J("ngIf",i.suscripciones[1].caracteristica8),e.xp6(2),e.Q6J("ngIf",i.suscripciones[1].precio),e.xp6(1),e.Q6J("ngIf",!i.suscripciones[1].precio),e.xp6(7),e.Oqu(i.suscripciones[2].nombre),e.xp6(3),e.Q6J("ngIf",i.suscripciones[2].caracteristica1),e.xp6(1),e.Q6J("ngIf",i.suscripciones[2].caracteristica2),e.xp6(1),e.Q6J("ngIf",i.suscripciones[2].caracteristica3),e.xp6(1),e.Q6J("ngIf",i.suscripciones[2].caracteristica4),e.xp6(1),e.Q6J("ngIf",i.suscripciones[2].caracteristica5),e.xp6(1),e.Q6J("ngIf",i.suscripciones[2].caracteristica6),e.xp6(1),e.Q6J("ngIf",i.suscripciones[2].caracteristica7),e.xp6(1),e.Q6J("ngIf",i.suscripciones[2].caracteristica8),e.xp6(2),e.Q6J("ngIf",i.suscripciones[2].precio),e.xp6(1),e.Q6J("ngIf",!i.suscripciones[2].precio),e.xp6(15),e.Q6J("ngModel",i.usuarioNuevo.email),e.xp6(17),e.Q6J("ngModel",i.usuarioNuevo.nombre),e.xp6(4),e.Q6J("ngModel",i.usuarioNuevo.apellido1),e.xp6(4),e.Q6J("ngModel",i.usuarioNuevo.apellido2),e.xp6(4),e.Q6J("ngModel",i.usuarioNuevo.email),e.xp6(17),e.Q6J("ngModel",i.usuarioNuevo.nombre),e.xp6(4),e.Q6J("ngModel",i.usuarioNuevo.apellido1),e.xp6(4),e.Q6J("ngModel",i.usuarioNuevo.apellido2),e.xp6(4),e.Q6J("ngModel",i.usuarioNuevo.email))},dependencies:[p.O5,r.Fj,r.JJ,r.On,D.nu],styles:[".texto-descripcion[_ngcontent-%COMP%]{font-weight:700;font-family:sans-serif}.tipo-suscripcion[_ngcontent-%COMP%]{border-radius:2%;border-style:solid;border-color:#000;border-width:1px;padding:1%;margin:1%;box-shadow:2px 2px 10px #666}.tipo-suscripcion-1[_ngcontent-%COMP%]{background-color:#f7b334}.tipo-suscripcion-2[_ngcontent-%COMP%]{background-color:orange}.tipo-suscripcion-3[_ngcontent-%COMP%]{background-color:#f79524}.titulo-suscripcion[_ngcontent-%COMP%]{font-weight:700;color:#fff}.texto-titulo[_ngcontent-%COMP%]{font-weight:700;text-shadow:2px 2px 10px #666;padding:1%}.caracteristicas-suscripcion[_ngcontent-%COMP%]{font-family:sans-serif}.precio-suscripcion[_ngcontent-%COMP%]{font-weight:700}li[_ngcontent-%COMP%]{margin-top:4%}"]}),n})();class H{constructor(){this.id="",this.texto="",this.imagen="",this.fecha="",this.usuario=new A.b}}let jn=(()=>{class n{constructor(t){this.http=t,this.endpoint=C.N.urlAPI}getMensajes(){return this.http.get(this.endpoint+"/mensajes/search/mensajes").pipe((0,g.U)(t=>t._embedded.mensajes))}getId(t){let o=t._links.self.href.split("/");return o[o.length-1]}postMensaje(t){return this.http.post(this.endpoint+"/mensajes/search/postMensaje",t)}deleteMensaje(t){return this.http.delete(this.endpoint+"/mensajes/search/deleteMensaje/"+t.id)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(m.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Yn(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"button",6),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.eliminarMensaje())}),e._uU(1,"Eliminar"),e.qZA()}}let Dn=(()=>{class n{constructor(t){this.loginService=t,this.mensaje=new H,this.eliminarMensajeEvent=new e.vpe,this.fechaHoraMensaje="",this.hora="",this.horas=0,this.minutos="",this.fecha=""}ngOnInit(){this.esMismoDia(this.mensaje.fecha)?(this.hora=this.mensaje.fecha.split("T")[1],this.horas=parseInt(this.hora.split(":")[0])+2,this.minutos=this.hora.split(":")[1],this.fechaHoraMensaje=this.horas+":"+this.minutos):this.fechaHoraMensaje=this.mensaje.fecha.split("T")[0],this.loginService.getIsAdminFlagObs().subscribe(t=>{this.isLoggedAdmin=t})}eliminarMensaje(){this.eliminarMensajeEvent.emit(this.mensaje)}esMismoDia(t){var i=new Date,o=new Date(t);return o.getUTCFullYear()===i.getUTCFullYear()&&o.getUTCMonth()===i.getUTCMonth()&&o.getUTCDate()===i.getUTCDate()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(K.r))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-mensaje"]],inputs:{mensaje:"mensaje"},outputs:{eliminarMensajeEvent:"eliminarMensajeEvent"},decls:8,vars:7,consts:[[1,"mensaje-container"],[1,"autor-mensaje"],["class","btn btn-sm btn-danger mx-2 py-0",3,"click",4,"ngIf"],[1,"texto-mensaje","py-0"],[1,"imagen-container"],["alt","",1,"imagen",3,"src"],[1,"btn","btn-sm","btn-danger","mx-2","py-0",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"p",1),e._uU(2),e.YNc(3,Yn,2,0,"button",2),e.qZA(),e.TgZ(4,"p",3),e._uU(5),e.qZA(),e.TgZ(6,"div",4),e._UZ(7,"img",5),e.qZA()()),2&t&&(e.xp6(2),e.HOy("",i.mensaje.usuario.nombre," ",i.mensaje.usuario.apellido1," ",i.mensaje.usuario.apellido2,". ",i.fechaHoraMensaje," "),e.xp6(1),e.Q6J("ngIf",i.isLoggedAdmin),e.xp6(2),e.hij("\xa0",i.mensaje.texto,""),e.xp6(2),e.s9C("src",i.mensaje.imagen,e.LSH))},dependencies:[p.O5],styles:[".autor-mensaje[_ngcontent-%COMP%]{color:orange;margin-top:0;margin-bottom:0;margin-left:3px}.texto-mensaje[_ngcontent-%COMP%]{background-color:#f0f8ff;border-style:solid;border-width:1px;border-radius:5px;padding-left:5px;padding-right:10px;margin-left:3px;text-align:start;width:-moz-fit-content;width:fit-content}.imagen-container[_ngcontent-%COMP%]{text-align:center;margin-bottom:2%}.imagen[_ngcontent-%COMP%]{width:50%}@media (max-width: 40em){.imagen[_ngcontent-%COMP%]{width:90%!important}}"]}),n})();const Hn=["angularCropper"];function zn(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"app-mensaje",33),e.NdJ("eliminarMensajeEvent",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.deleteMensaje(o))}),e.qZA()()}if(2&n){const t=c.$implicit;e.xp6(1),e.Q6J("mensaje",t)}}function Gn(n,c){if(1&n&&(e.TgZ(0,"section"),e._UZ(1,"angular-cropper",34,35),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("imageUrl",t.imagenNueva)}}const Bn=[{path:"",component:_e},{path:"formulario",component:V},{path:"",children:[{path:"publicaciones/:titulo",component:Se}]},{path:"",children:[{path:"formulario/:id",component:V}]},{path:"",children:[{path:"publicaciones-tag/:tagNombre",component:We}]},{path:"",children:[{path:"publicaciones-provincia/:provincia",component:Ct}]},{path:"",children:[{path:"publicaciones-categoria/:categoria",component:pt}]},{path:"",children:[{path:"tags",component:_t}]},{path:"",children:[{path:"descubriendo-vermutorero",component:Ft}]},{path:"",children:[{path:"editor-inicio",component:_i}]},{path:"",children:[{path:"editor-lateral",component:xi}]},{path:"",children:[{path:"acerca-de/:paginaNombre",component:fi}]},{path:"",children:[{path:"acerca-de/editor/:paginaNombre",component:Zi}]},{path:"",children:[{path:"publicaciones-buscador/:palabrasClave",component:Ai}]},{path:"",children:[{path:"suscripcion",component:cn}]},{path:"",children:[{path:"suscripcion-ficha",component:rn}]},{path:"",children:[{path:"verificacion-pago",component:sn}]},{path:"",children:[{path:"renovar-suscripcion",component:Qn}]},{path:"",children:[{path:"chat",component:(()=>{class n{constructor(t,i,o){this.mensajeService=t,this.usuarioService=i,this.imagenesService=o,this.angularCropper=new f.V2,this.croppedresult="",this.mensajeNuevo="",this.imagenNueva="",this.mensajeBorrar=new H,this.mensajes=[]}ngOnInit(){this.getMensajes(),this.bajarScroll()}getMensajes(){this.mensajeService.getMensajes().subscribe(t=>{this.mensajes=t,this.mensajes.forEach(i=>{i.id=this.mensajeService.getId(i)})})}postMensaje(){let t=new H;this.usuarioService.getUsuarioFromToken().subscribe(i=>{i.id=this.usuarioService.getId(i),t.usuario=i,t.texto=this.mensajeNuevo,t.imagen=this.imagenNueva,this.mensajeService.postMensaje(t).subscribe(o=>{this.getMensajes(),this.mensajeNuevo="",this.bajarScroll()},o=>{},()=>{})})}onSelectFile(t){if(t.target.files&&t.target.files[0]){const i=new FileReader;i.readAsDataURL(t.target.files[0]),i.onload=()=>{this.imagenNueva=i.result},console.log("EVENT",t.target.files[0]),this.imagenNueva=t.target.files[0].name}console.log("IMAGEN SELECCIONADA EN PC: ",this.imagenNueva)}getCroppedImage(){this.angularCropper.cropper.getCroppedCanvas().toBlob(t=>{const i=new FileReader;i.readAsDataURL(t),i.onload=()=>{this.croppedresult=i.result;let o=t,a=Math.floor(1e7*Math.random()),s=new File([o],a.toString(),{type:"image/jpeg"});this.imagenesService.subirImagen(s,a.toString(),"imagenChat").subscribe(h=>{this.imagenNueva=h,console.log(h),this.postMensaje()})}},"image/jpeg",.7)}bajarScroll(){window.addEventListener("load",function(){var t=document.querySelector(".chat-box");t&&(t.scrollTop=t.scrollHeight)})}deleteMensaje(t){this.mensajeBorrar=t,$("#confirmarDeleteMensajeModal").modal("show")}deleteMensajeConfirmado(){this.mensajeService.deleteMensaje(this.mensajeBorrar).subscribe(t=>{$("#confirmadoDeleteMensajeModal").modal("show")},t=>{$("#errorDeleteMensajeModal").modal("show")})}recargarPagina(){document.location.reload()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(jn),e.Y36(M.J),e.Y36(u.j))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-chat"]],viewQuery:function(t,i){if(1&t&&e.Gf(Hn,5),2&t){let o;e.iGM(o=e.CRH())&&(i.angularCropper=o.first)}},decls:80,vars:4,consts:[[1,"titulo-chat"],[1,"titulo-container","text-center","my-2"],[1,"chat-section","row","my-3"],[1,"chat-box"],[4,"ngFor","ngForOf"],[1,"nuevo-mensaje-section","row","my-3"],["action","",1,"nuevo-mensaje-form"],["for","mensaje",1,"etiqueta-mensaje"],["name","mensajeNuevo",1,"mensaje",3,"ngModel","ngModelChange"],[1,"botones"],[1,"btn","btm-sm","btn-success","mx-2","py-0",3,"click"],["data-bs-toggle","modal","data-bs-target","#imagenChatModal",1,"btn","btm-sm","btn-primary","mx-2","py-0"],["id","imagenChatModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["for","mensaje"],[1,"my-2"],["type","file","accept","images/",3,"change"],[4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["data-bs-dismiss","modal",1,"btn","btn-primary",3,"click"],["id","confirmarDeleteMensajeModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-body","text-center"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],["id","confirmadoDeleteMensajeModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary",3,"click"],["id","errorDeleteMensajeModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[3,"mensaje","eliminarMensajeEvent"],[3,"imageUrl"],["angularCropper",""]],template:function(t,i){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"h3"),e._uU(3,"Bienvenidos al selecto chat de miembros de Vermu Torero"),e.qZA()()(),e.TgZ(4,"section",2)(5,"div",3),e.YNc(6,zn,2,1,"div",4),e.qZA()(),e.TgZ(7,"section",5)(8,"form",6)(9,"label",7)(10,"b"),e._uU(11,"Mensaje:"),e.qZA()(),e.TgZ(12,"input",8),e.NdJ("ngModelChange",function(a){return i.mensajeNuevo=a}),e.qZA(),e.TgZ(13,"div",9)(14,"button",10),e.NdJ("click",function(){return i.postMensaje()}),e._uU(15,"Enviar"),e.qZA(),e.TgZ(16,"button",11),e._uU(17,"Subir imagen"),e.qZA()()()(),e.TgZ(18,"div",12)(19,"div",13)(20,"div",14)(21,"div",15)(22,"h1",16),e._uU(23,"Insertar Imagen"),e.qZA(),e._UZ(24,"button",17),e.qZA(),e.TgZ(25,"div",18)(26,"section")(27,"label",19)(28,"b"),e._uU(29,"Mensaje:"),e.qZA()(),e.TgZ(30,"input",8),e.NdJ("ngModelChange",function(a){return i.mensajeNuevo=a}),e.qZA()(),e.TgZ(31,"section",20)(32,"input",21),e.NdJ("change",function(a){return i.onSelectFile(a)}),e.qZA()(),e.YNc(33,Gn,3,1,"section",22),e.qZA(),e.TgZ(34,"div",23)(35,"button",24),e._uU(36,"Cerrar"),e.qZA(),e.TgZ(37,"button",25),e.NdJ("click",function(){return i.getCroppedImage()}),e._uU(38,"Aceptar"),e.qZA()()()()(),e.TgZ(39,"div",26)(40,"div",27)(41,"div",14)(42,"div",15)(43,"h1",16),e._uU(44,"Eliminar mensaje"),e.qZA(),e._UZ(45,"button",17),e.qZA(),e.TgZ(46,"div",28)(47,"p"),e._uU(48,"\xbfEstas seguro de que quieres eliminar este mensaje?"),e.qZA()(),e.TgZ(49,"div",23)(50,"button",24),e._uU(51,"Cancelar"),e.qZA(),e.TgZ(52,"button",29),e.NdJ("click",function(){return i.deleteMensajeConfirmado()}),e._uU(53,"Eliminar"),e.qZA()()()()(),e.TgZ(54,"div",30)(55,"div",27)(56,"div",14)(57,"div",15)(58,"h1",16),e._uU(59,"Mensaje eliminado"),e.qZA(),e._UZ(60,"button",17),e.qZA(),e.TgZ(61,"div",28)(62,"p"),e._uU(63,"El usuario mensaje ha sido eliminado."),e.qZA()(),e.TgZ(64,"div",23)(65,"button",31),e.NdJ("click",function(){return i.recargarPagina()}),e._uU(66,"Aceptar"),e.qZA()()()()(),e.TgZ(67,"div",32)(68,"div",27)(69,"div",14)(70,"div",15)(71,"h1",16),e._uU(72,"Error al eliminar"),e.qZA(),e._UZ(73,"button",17),e.qZA(),e.TgZ(74,"div",28)(75,"p"),e._uU(76,"El mensaje NO ha sido eliminado debido a un error."),e.qZA()(),e.TgZ(77,"div",23)(78,"button",31),e.NdJ("click",function(){return i.recargarPagina()}),e._uU(79,"Aceptar"),e.qZA()()()()()),2&t&&(e.xp6(6),e.Q6J("ngForOf",i.mensajes),e.xp6(6),e.Q6J("ngModel",i.mensajeNuevo),e.xp6(18),e.Q6J("ngModel",i.mensajeNuevo),e.xp6(3),e.Q6J("ngIf",i.imagenNueva))},dependencies:[p.sg,p.O5,r._Y,r.Fj,r.JJ,r.JL,r.On,r.F,f.V2,Dn],styles:[".chat-section[_ngcontent-%COMP%]{justify-content:center;border-radius:10px}.nuevo-mensaje-form[_ngcontent-%COMP%]{width:70%}.nuevo-mensaje-section[_ngcontent-%COMP%]{justify-content:center}.mensaje[_ngcontent-%COMP%]{margin-left:5%;width:60%}.botones[_ngcontent-%COMP%]{display:inline-flex}@media (min-width: 41em){.chat-box[_ngcontent-%COMP%]{border-style:ridge;border-color:#000;height:500px;width:70%;background-color:#000c;overflow-y:scroll}.etiqueta-mensaje[_ngcontent-%COMP%]{width:10%;margin-left:1%}}@media (max-width: 40em){.chat-box[_ngcontent-%COMP%]{border-style:ridge;border-color:#000;height:500px;width:80%;background-color:#000c;overflow-y:scroll}.nuevo-mensaje-form[_ngcontent-%COMP%]{width:90%;margin-top:2%;margin-bottom:2%}.mensaje[_ngcontent-%COMP%]{margin-left:5%;width:60%}.etiqueta-mensaje[_ngcontent-%COMP%]{width:30%;margin-left:1%}.botones[_ngcontent-%COMP%]{display:inline-block;text-align:center}.btn[_ngcontent-%COMP%]{margin-top:5%}.modal-header[_ngcontent-%COMP%]{background-color:#ff6d00;color:#fff}}"]}),n})()}]}];let Vn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[b.Bz.forChild(Bn),b.Bz]}),n})(),$n=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[p.ez,Vn,r.u5,Q.fi,f.dD,D.vj]}),n})()},4327:function(J,O){var d,b;void 0!==(b="function"==typeof(d=function(){"use strict";function T(l,u,v){var r=new XMLHttpRequest;r.open("GET",l),r.responseType="blob",r.onload=function(){q(r.response,u,v)},r.onerror=function(){console.error("could not download file")},r.send()}function e(l){var u=new XMLHttpRequest;u.open("HEAD",l,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function g(l){try{l.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),l.dispatchEvent(u)}}var m="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,C=m.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),q=m.saveAs||("object"!=typeof window||window!==m?function(){}:"download"in HTMLAnchorElement.prototype&&!C?function(l,u,v){var r=m.URL||m.webkitURL,_=document.createElement("a");_.download=u=u||l.name||"download",_.rel="noopener","string"==typeof l?(_.href=l,_.origin===location.origin?g(_):e(_.href)?T(l,u,v):g(_,_.target="_blank")):(_.href=r.createObjectURL(l),setTimeout(function(){r.revokeObjectURL(_.href)},4e4),setTimeout(function(){g(_)},0))}:"msSaveOrOpenBlob"in navigator?function(l,u,v){if(u=u||l.name||"download","string"!=typeof l)navigator.msSaveOrOpenBlob(function Z(l,u){return typeof u>"u"?u={autoBom:!1}:"object"!=typeof u&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(l.type)?new Blob(["\ufeff",l],{type:l.type}):l}(l,v),u);else if(e(l))T(l,u,v);else{var r=document.createElement("a");r.href=l,r.target="_blank",setTimeout(function(){g(r)})}}:function(l,u,v,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof l)return T(l,u,v);var _="application/octet-stream"===l.type,y=/constructor/i.test(m.HTMLElement)||m.safari,E=/CriOS\/[\d]+/.test(navigator.userAgent);if((E||_&&y||C)&&typeof FileReader<"u"){var S=new FileReader;S.onloadend=function(){var w=S.result;w=E?w:w.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=w:location=w,r=null},S.readAsDataURL(l)}else{var x=m.URL||m.webkitURL,U=x.createObjectURL(l);r?r.location=U:location.href=U,r=null,setTimeout(function(){x.revokeObjectURL(U)},4e4)}});m.saveAs=q.saveAs=q,J.exports=q})?d.apply(O,[]):d)&&(J.exports=b)}}]);