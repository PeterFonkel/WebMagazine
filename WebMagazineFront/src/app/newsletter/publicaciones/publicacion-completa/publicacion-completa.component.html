<main class="fondo row py-3">
    <section class="col-12 col-sm-9">
        <section class="hoja">
            
            <!-- Titulo de la publicacion -->
            <h2 class="text-center"><b>{{publicacion.titulo}}</b></h2>

            <!-- Datos de la publicacion -->
            <section class="datos">

                <!-- Autor -->
                <section class="col-12 col-sm-4 columna-autor">
                    <div class="row d-flex align-items-center autor">
                        <div class="d-none d-sm-block col-sm-3 justify-content-center align-items-center">
                            <img src="../../../../assets/eli.jpeg" alt="" class="foto-autor">
                        </div>
                        <div class="col-12 col-sm-9">
                            <p *ngIf="publicacion.autor" class="autor">{{publicacion.autor.nombre}}
                                {{publicacion.autor.apellido1}} {{publicacion.autor.apellido2}}</p>
                        </div>
                    </div>
                    <div class="likes-vinos row d-flex">
                        <div class="col-3"></div>
                        <div class="likes col-3 d-flex" data-bs-toggle="modal"
                        data-bs-target="#likeModal">
                            <img class="icono-like" src="../../../../assets/like.png" alt="like">
                            <p class="numero"><b>121</b></p>
                        </div>
                        <div class="vinos col-3 d-flex">
                            <img class="icono-vino" src="../../../../assets/wine.png" alt="vino">
                            <p class="numero"><b>23</b></p>
                        </div>
                    </div>
                </section>

                <!-- Tags y lugar -->
                <section class="col-12 col-sm-5 text-center">
                    <div class="row justify-content-center">
                        <div *ngFor="let tag of publicacion.tags" class="tag m-2"
                            [routerLink]="['/publicaciones-tag/'+ tag.tagNombre]">
                            <p class="tagNombre">{{tag.tagNombre}}</p>
                        </div>
                    </div>
                    <div *ngIf="publicacion.lugar" class="row d-flex justify-content-center lugar">
                        <a class="link" href="publicaciones-provincia/{{publicacion.lugar.lugarNombre}}">
                            <div class="lugar">
                                <p class="lugarNombre text-center">
                                    &nbsp;&nbsp;{{publicacion.lugar.lugarNombre}}&nbsp;&nbsp;</p>
                            </div>
                        </a>
                    </div>
                </section>

                <!-- RRSS -->
                <section class="col-12 col-sm-3 rrss">
                    <div class="row align-items-center mt-1">
                        <div class="col-3 col-sm-3 my-1">
                            <a href="https://www.facebook.com/elisabethgiborra">
                                <img class="icono-rrss" src="../../../../assets/facebookIcon.png" alt="">
                            </a>
                        </div>
                        <div class="col-3 col-sm-3 my-1">
                            <a href="https://www.instagram.com/vermu.torero/">
                                <img class="icono-rrss" src="../../../../assets/instagramIcon.png" alt="">
                            </a>
                        </div>
                        <div class="col-3 col-sm-3 my-1">
                            <a href="http://es.linkedin.com/in/elisabethgiborra">
                                <img class="icono-rrss" src="../../../../assets/linkedinIcon.png" alt="">
                            </a>
                        </div>
                        <div class="col-3 col-sm-3 my-1">
                            <a href="https://twitter.com/elisabethiborra">
                                <img class="icono-rrss" src="../../../../assets/twitterIcon.png" alt="">
                            </a>
                        </div>
                    </div>
                    
                </section>
            </section>

            <hr>

            <!-- Contenido de la publicacion -->
            <section class="body" id="body">
            </section>

            <div class="text-center">
                <p>Publicado el {{fechaFormateada}}</p>
            </div>
            <div class="row justify-content-center">
                <a class="btn btn-warning m-2" style="width: fit-content;"
                    href="formulario/{{publicacion.id}}">Modificar
                    publicación</a>
                <a class="btn btn-danger m-2" style="width: fit-content;" (click)="eliminarPublicacion()">Eliminar
                    publicación</a>
            </div>
        </section>

    </section>

    <!-- Seccion lateral -->
    <section class="d-none d-sm-block col-sm-3">
        <!-- Publicaciones en la misma provincia -->
        <section *ngIf="publicacionesCerca[0]" class="row lateral mb-4">
            <div class="col-12 p-3 pt-4 text-center">
                <h3><strong>Cerca de aquí...</strong></h3>
            </div>
            <div class="col-12 preview">
                <div *ngFor="let publicacion of publicacionesCerca" style="display:inline-block;" class="card">
                    <app-publicacion [publicacion]="publicacion"></app-publicacion>
                </div>
            </div>
        </section>

        <!-- Publicaciones relacionadas con las tag -->
        <section *ngIf="publicacionesRelacionadas[0]" class="row lateral">
            <div class="col-12 p-3 text-center mt-4">
                <h3><strong>Relacionadas</strong></h3>
            </div>
            <div class="col-12 preview">
                <div *ngFor="let publicacion of publicacionesRelacionadas" style="display:inline-block;" class="card">
                    <app-publicacion [publicacion]="publicacion"></app-publicacion>
                </div>
            </div>
        </section>
    </section>
</main>


<!-- Modal Vino-->
<div class="modal fade" id="likeModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="exampleModalLabel">¡Gracias por darle a Like!</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="row text-center m-3">
                    <a href="invitar-vino">
                        <img class="invitar-vino img-fluid" src="../../../../assets/invitar-vino.png" alt="">
                    </a>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                <button class="btn btn-primary"
                    data-bs-dismiss="modal">Invitar</button>
            </div>
        </div>
    </div>
</div>